(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.core",["jquery"],function(){var e={id:"core",name:"Core",category:"framework",description:"The core of the Kendo framework."};return function(g,_,R){var e,N=_.kendo=_.kendo||{cultures:{}},c=g.extend,v=g.each,d=g.isArray,t=g.proxy,u=g.noop,h=Math,i=_.JSON||{},w={},f=/%/,s=/\{(\d+)(:[^\}]+)?\}/g,r=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,n=/^(\+|-?)\d+(\.?)\d*$/,p="function",b="string",m="number",y="object",k="null",x="boolean",C="undefined",a={},o={},l=[].slice,T=function(){var e,t,i,n,r,a,s=arguments[0]||{},o=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[o]||{},o++),"object"==typeof s||jQuery.isFunction(s)||(s={}),o===l&&(s=this,o--);o<l;o++)if(null!=(r=arguments[o]))for(n in r)"filters"!=n&&"concat"!=n&&":"!=n&&(e=s[n],s!==(i=r[n])&&(u&&i&&(jQuery.isPlainObject(i)||(t=jQuery.isArray(i)))?(a=t?(t=!1,e&&jQuery.isArray(e)?e:[]):e&&jQuery.isPlainObject(e)?e:{},s[n]=T(u,a,i)):i!==R&&(s[n]=i)));return s};function S(){}N.version="2020.1.305".replace(/^\s+|\s+$/g,""),S.extend=function(e){function t(){}var i,n,r=this,a=e&&e.init?e.init:function(){r.apply(this,arguments)};for(i in t.prototype=r.prototype,n=a.fn=a.prototype=new t,e)null!=e[i]&&e[i].constructor===Object?n[i]=c(!0,{},t.prototype[i],e[i]):n[i]=e[i];return(n.constructor=a).extend=r.extend,a},S.prototype._initOptions=function(e){this.options=he({},this.options,e)};function I(){this._defaultPrevented=!0}function D(){return!0===this._defaultPrevented}var F=N.isFunction=function(e){return"function"==typeof e},E=S.extend({init:function(){this._events={}},bind:function(e,t,i){var n,r,a,s,o=this,l=typeof e===b?[e]:e,u=typeof t==p;if(t===R){for(n in e)o.bind(n,e[n]);return o}for(n=0,r=l.length;n<r;n++)e=l[n],(s=u?t:t[e])&&(i&&(a=s,(s=function(){o.unbind(e,s),a.apply(o,arguments)}).original=a),(o._events[e]=o._events[e]||[]).push(s));return o},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var i,n,r,a=typeof e===b?[e]:e,s=typeof t==p;for(i=0,n=a.length;i<n;i++)e=a[i],(r=s?t:t[e])&&(this._events[e]=this._events[e]||[]).unshift(r);return this},trigger:function(e,t){var i,n,r=this._events[e];if(r){for((t=t||{}).sender=this,t._defaultPrevented=!1,t.preventDefault=I,t.isDefaultPrevented=D,i=0,n=(r=r.slice()).length;i<n;i++)r[i].call(this,t);return!0===t._defaultPrevented}return!1},unbind:function(e,t){var i,n=this._events[e];if(e===R)this._events={};else if(n)if(t)for(i=n.length-1;0<=i;i--)n[i]!==t&&n[i].original!==t||n.splice(i,1);else this._events[e]=[];return this}});function A(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var i=e.charAt(0),n=e.substring(1);return"="===i?"+("+n+")+":":"===i?"+$kendoHtmlEncode("+n+")+":";"+e+";$kendoOutput+="}var M,O,H,P,z,V,L,B,W,U,q,j,G,Y,$,K,Q=/^\w+/,J=/\$\{([^}]*)\}/g,X=/\\\}/g,Z=/__CURLY__/g,ee=/\\#/g,te=/__SHARP__/g,ie=["","0","00","000","0000"];function ne(e,t,i){return(i=(t=t||2)-(e+="").length)?ie[t].substring(0,i)+e:e}function re(e){return P.lastIndex=0,P.test(e)?'"'+e.replace(P,function(e){var t=z[e];return typeof t===b?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function ae(e,t,i){return!(t<=e&&e<=i)}function se(e){return e.charAt(0)}function oe(e){return g.map(e,se)}function le(e){for(var t=0,i=e.length,n=[];t<i;t++)n[t]=(e[t]+"").toLowerCase();return n}function ue(e){var t,i={};for(t in e)i[t]=le(e[t]);return i}function ce(u,i,e,t){if(!u)return null;function n(e){for(var t=0;i[F]===e;)t++,F++;return 0<t&&--F,t}function r(e){var t=$[e]||new RegExp("^\\d{1,"+e+"}"),i=u.substr(E,e).match(t);return i?(i=i[0],E+=i.length,parseInt(i,10)):null}function a(e,t){for(var i,n,r,a=0,s=e.length,o=0,l=0;a<s;a++)n=(i=e[a]).length,r=u.substr(E,n),t&&(r=r.toLowerCase()),r==i&&o<n&&(o=n,l=a);return o?(E+=o,l+1):null}function s(){var e=!1;return u.charAt(E)===i[F]&&(E++,e=!0),e}var o,l,c,d,p,h,f,m,g,_,v,w,b,y=e.calendars.standard,k=null,x=null,C=null,T=null,S=null,I=null,D=null,F=0,E=0,A=!1,M=new Date,O=y.twoDigitYearMax||2029,H=M.getFullYear();for(i=i||"d",(d=y.patterns[i])&&(i=d),c=(i=i.split("")).length;F<c;F++)if(o=i[F],A)"'"===o?A=!1:s();else if("d"===o){if(l=n("d"),y._lowerDays||(y._lowerDays=ue(y.days)),null!==C&&2<l)continue;if(null===(C=l<3?r(2):a(y._lowerDays[3==l?"namesAbbr":"names"],!0))||ae(C,1,31))return null}else if("M"===o){if(l=n("M"),y._lowerMonths||(y._lowerMonths=ue(y.months)),null===(x=l<3?r(2):a(y._lowerMonths[3==l?"namesAbbr":"names"],!0))||ae(x,1,12))return null;--x}else if("y"===o){if(null===(k=r(l=n("y"))))return null;2==l&&("string"==typeof O&&(O=H+parseInt(O,10)),O<(k=H-H%100+k)&&(k-=100))}else if("h"===o){if(n("h"),12==(T=r(2))&&(T=0),null===T||ae(T,0,11))return null}else if("H"===o){if(n("H"),null===(T=r(2))||ae(T,0,23))return null}else if("m"===o){if(n("m"),null===(S=r(2))||ae(S,0,59))return null}else if("s"===o){if(n("s"),null===(I=r(2))||ae(I,0,59))return null}else if("f"===o){if(l=n("f"),w=u.substr(E,l).match($[3]),null!==(D=r(l))&&(D=parseFloat("0."+w[0],10),D=N._round(D,3),D*=1e3),null===D||ae(D,0,999))return null}else if("t"===o){if(l=n("t"),m=y.AM,g=y.PM,1===l&&(m=oe(m),g=oe(g)),!(p=a(g))&&!a(m))return null}else if("z"===o){if(h=!0,l=n("z"),"Z"===u.substr(E,1)){s();continue}if(!(f=u.substr(E,6).match(2<l?U:W)))return null;if(_=(f=f[0].split(":"))[0],!(v=f[1])&&3<_.length&&(E=_.length-2,v=_.substring(E),_=_.substring(0,E)),ae(_=parseInt(_,10),-12,13))return null;if(2<l&&(v=f[0][0]+v,v=parseInt(v,10),isNaN(v)||ae(v,-59,59)))return null}else if("'"===o)A=!0,s();else if(!s())return null;return t&&!/^\s*$/.test(u.substr(E))?null:(null===k&&null===x&&null===C&&(null!==T||null!==S||I||null)?(k=H,x=M.getMonth(),C=M.getDate()):(null===k&&(k=H),null===C&&(C=1)),p&&T<12&&(T+=12),h?(_&&(T+=-_),v&&(S+=-v),u=new Date(Date.UTC(k,x,C,T,S,I,D))):(u=new Date(k,x,C,T,S,I,D),b=u,T||23!==b.getHours()||b.setHours(b.getHours()+2)),k<100&&u.setFullYear(k),u.getDate()!==C&&h===R?null:u)}function de(e,t,i,n){if("[object Date]"===K.call(e))return e;var r,a,s,o,l=0,u=null;if(e&&0===e.indexOf("/D")&&(u=q.exec(e)))return u=u[1],a=j.exec(u.substring(1)),u=new Date(parseInt(u,10)),a&&(s=a[0],o="-"===s.substr(0,1)?-1:1,s=s.substring(1),a=o*(s=60*parseInt(s.substr(0,2),10)+parseInt(s.substring(2),10)),u=N.timezone.apply(u,0),u=N.timezone.convert(u,0,-1*a)),u;for(i=N.getCulture(i),t=t||function(e){var t,i,n,r=h.max(G.length,Y.length),a=(e.calendar||e.calendars.standard).patterns,s=[];for(n=0;n<r;n++){for(t=G[n],i=0;i<t.length;i++)s.push(a[t[i]]);s=s.concat(Y[n])}return s}(i),r=(t=d(t)?t:[t]).length;l<r;l++)if(u=ce(e,t[l],i,n))return u;return u}function pe(e,t){var i=N._outerWidth,n=N._outerHeight,r=e.parent(".k-animation-container"),a=r[0].style;r.is(":hidden")&&r.css({display:"",position:""}),f.test(a.width)||f.test(a.height)||r.css({width:t?i(e)+1:i(e),height:n(e),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}function he(e){var t=1,i=arguments.length;for(t=1;t<i;t++)fe(e,arguments[t]);return e}function fe(e,t){var i,n,r,a,s,o=N.data.ObservableArray,l=N.data.LazyObservableArray,u=N.data.DataSource,c=N.data.HierarchicalDataSource;for(i in t)!(a=(r=typeof(n=t[i]))===y&&null!==n?n.constructor:null)||a===Array||a===o||a===l||a===u||a===c||a===RegExp||N.isFunction(_.ArrayBuffer)&&a===ArrayBuffer?r!==C&&(e[i]=n):n instanceof Date?e[i]=new Date(n.getTime()):F(n.clone)?e[i]=n.clone():(s=e[i],e[i]=typeof s===y&&s||{},fe(e[i],n));return e}function me(e,t,i){for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(e))return n;return i!==R?i:e}function ge(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function _e(e,t){var i,n={};return document.defaultView&&document.defaultView.getComputedStyle?(i=document.defaultView.getComputedStyle(e,""),t&&g.each(t,function(e,t){n[t]=i.getPropertyValue(t)})):(i=e.currentStyle,t&&g.each(t,function(e,t){n[t]=i[ge(t)]})),N.size(n)||(n=i),n}e={paramName:"data",useWithBlock:!0,render:function(e,t){var i,n,r="";for(i=0,n=t.length;i<n;i++)r+=e(t[i]);return r},compile:function(t,e){var i,n,r,a=c({},this,e),s=a.paramName,o=s.match(Q)[0],l=a.useWithBlock,u="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(F(t))return t;for(u+=l?"with("+s+"){":"",u+="$kendoOutput=",n=t.replace(X,"__CURLY__").replace(J,"#=$kendoHtmlEncode($1)#").replace(Z,"}").replace(ee,"__SHARP__").split("#"),r=0;r<n.length;r++)u+=A(n[r],r%2==0);u+=l?";}":";",u=(u+="return $kendoOutput;").replace(te,"#");try{return(i=new Function(o,u))._slotCount=Math.floor(n.length/2),i}catch(e){throw new Error(N.format("Invalid template:'{0}' Generated code:'{1}'",t,u))}}},P=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,z={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},V={}.toString,typeof Date.prototype.toJSON!=p&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?ne(e.getUTCFullYear(),4)+"-"+ne(e.getUTCMonth()+1)+"-"+ne(e.getUTCDate())+"T"+ne(e.getUTCHours())+":"+ne(e.getUTCMinutes())+":"+ne(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof i.stringify!=p&&(i.stringify=function(e,t,i){var n;if(O=M="",typeof i==m)for(n=0;n<i;n+=1)O+=" ";else typeof i===b&&(O=i);if((H=t)&&typeof t!=p&&(typeof t!==y||typeof t.length!=m))throw new Error("JSON.stringify");return function e(t,i){var n,r,a,s,o,l,u=M,c=i[t];if(c&&typeof c===y&&typeof c.toJSON==p&&(c=c.toJSON(t)),typeof H==p&&(c=H.call(i,t,c)),(l=typeof c)===b)return re(c);if(l==m)return isFinite(c)?String(c):k;if(l===x||l==k)return String(c);if(l===y){if(!c)return k;if(M+=O,o=[],"[object Array]"===V.apply(c)){for(s=c.length,n=0;n<s;n++)o[n]=e(n,c)||k;return a=0===o.length?"[]":M?"[\n"+M+o.join(",\n"+M)+"\n"+u+"]":"["+o.join(",")+"]",M=u,a}if(H&&typeof H===y)for(s=H.length,n=0;n<s;n++)typeof H[n]===b&&(a=e(r=H[n],c))&&o.push(re(r)+(M?": ":":")+a);else for(r in c)Object.hasOwnProperty.call(c,r)&&(a=e(r,c))&&o.push(re(r)+(M?": ":":")+a);return a=0===o.length?"{}":M?"{\n"+M+o.join(",\n"+M)+"\n"+u+"}":"{"+o.join(",")+"}",M=u,a}}("",{"":e})}),function(){var l=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,O=/^(n|c|p|e)(\d*)$/i,H=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,P=/\,/g,z=".",n="en-US",u={}.toString;function r(e){if(e){if(e.numberFormat)return e;if(typeof e!==b)return null;var t=N.cultures;return t[e]||t[e.split("-")[0]]||null}return null}function V(e){return(e=e&&r(e))||N.cultures.current}N.cultures["en-US"]={name:n,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},N.culture=function(e){var t,i=N.cultures;if(e===R)return i.current;(t=r(e)||i[n]).calendar=t.calendars.standard,i.current=t},N.findCulture=r,N.getCulture=V,N.culture(n);function L(e,t,i,n){var r,a,s,o,l,u,c=e.indexOf(n[z]),d=n.groupSize.slice(),p=d.shift();if(i=-1!==c?c:i+1,p<=(a=(r=e.substring(t,i)).length)){for(s=a,o=[];-1<s;)if((l=r.substring(s-p,s))&&o.push(l),s-=p,0===(p=(u=d.shift())!==R?u:p)){0<s&&o.push(r.substring(0,s));break}r=o.reverse().join(n[","]),e=e.substring(0,t)+r+e.substring(i)}return e}function B(e,t,i){return t=t||0,e=e.toString().split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))),i&&(e=-e),(e=+((e=e.toString().split("e"))[0]+"e"+(e[1]?e[1]-t:-t))).toFixed(Math.min(t,20))}function a(e,t,i){if(t){if("[object Date]"===u.call(e))return r=e,n=t,a=V(i).calendars.standard,s=a.days,o=a.months,(n=a.patterns[n]||n).replace(l,function(e){var t,i,n;return"d"===e?i=r.getDate():"dd"===e?i=ne(r.getDate()):"ddd"===e?i=s.namesAbbr[r.getDay()]:"dddd"===e?i=s.names[r.getDay()]:"M"===e?i=r.getMonth()+1:"MM"===e?i=ne(r.getMonth()+1):"MMM"===e?i=o.namesAbbr[r.getMonth()]:"MMMM"===e?i=o.names[r.getMonth()]:"yy"===e?i=ne(r.getFullYear()%100):"yyyy"===e?i=ne(r.getFullYear(),4):"h"===e?i=r.getHours()%12||12:"hh"===e?i=ne(r.getHours()%12||12):"H"===e?i=r.getHours():"HH"===e?i=ne(r.getHours()):"m"===e?i=r.getMinutes():"mm"===e?i=ne(r.getMinutes()):"s"===e?i=r.getSeconds():"ss"===e?i=ne(r.getSeconds()):"f"===e?i=h.floor(r.getMilliseconds()/100):"ff"===e?(99<(i=r.getMilliseconds())&&(i=h.floor(i/10)),i=ne(i)):"fff"===e?i=ne(r.getMilliseconds(),3):"tt"===e?i=r.getHours()<12?a.AM[0]:a.PM[0]:"zzz"===e?(n=(t=r.getTimezoneOffset())<0,i=h.abs(t/60).toString().split(".")[0],t=h.abs(t)-60*i,i=(n?"+":"-")+ne(i),i+=":"+ne(t)):"zz"!==e&&"z"!==e||(n=(i=r.getTimezoneOffset()/60)<0,i=h.abs(i).toString().split(".")[0],i=(n?"+":"-")+("zz"===e?ne(i):i)),i!==R?i:e.slice(1,e.length-1)});if(typeof e==m)return function(e,t,i){var n,r,a,s,o,l,u,c,d,p,h,f,m,g,_,v,w,b,y,k,x=(i=V(i)).numberFormat,C=x[z],T=x.decimals,S=x.pattern[0],I=[],D=e<0,F="",E="",A=-1;if(e===R)return"";if(!isFinite(e))return e;if(!t)return i.name.length?e.toLocaleString():e.toString();if(o=O.exec(t)){if(a="p"===(t=o[1].toLowerCase()),((r="c"===t)||a)&&(C=(x=r?x.currency:x.percent)[z],T=x.decimals,n=x.symbol,S=x.pattern[D?0:1]),(s=o[2])&&(T=+s),"e"===t)return(s?e.toExponential(T):e.toExponential()).replace(z,x[z]);if(a&&(e*=100),D=(e=B(e,T))<0,l=(e=e.split(z))[0],u=e[1],D&&(l=l.substring(1)),E=L(l,0,l.length,x),u&&(E+=C+u),"n"===t&&!D)return E;for(e="",d=0,p=S.length;d<p;d++)e+="n"===(h=S.charAt(d))?E:"$"===h||"%"===h?n:h;return e}if((-1<t.indexOf("'")||-1<t.indexOf('"')||-1<t.indexOf("\\"))&&(t=t.replace(H,function(e){var t=e.charAt(0).replace("\\",""),i=e.slice(1).replace(t,"");return I.push(i),"??"})),t=t.split(";"),D&&t[1])t=t[1],m=!0;else if(0===e&&t[2]){if(-1==(t=t[2]).indexOf("#")&&-1==t.indexOf("0"))return t}else t=t[0];if((a=-1!=t.indexOf("%"))&&(e*=100),(r=-1!=(y=t.indexOf("$")))&&"\\"===t[y-1]&&(t=t.split("\\").join(""),r=!1),(r||a)&&(C=(x=r?x.currency:x.percent)[z],T=x.decimals,n=x.symbol),(f=-1<t.indexOf(","))&&(t=t.replace(P,"")),g=t.indexOf(z),p=t.length,-1!=g)if(u=(u=(u=e.toString().split("e"))[1]?B(e,Math.abs(u[1])):u[0]).split(z)[1]||"",w=-1<(v=t.lastIndexOf("0")-g),b=-1<(_=t.lastIndexOf("#")-g),d=u.length,w||b||(p=(t=t.substring(0,g)+t.substring(g+1)).length,g=-1,d=0),w&&_<v)d=v;else if(v<_)if(b&&_<d){for(var M=B(e,_,D);"0"===M.charAt(M.length-1)&&0<_&&v<_;)M=B(e,--_,D);d=_}else w&&d<v&&(d=v);if(e=B(e,d,D),_=t.indexOf("#"),v=t.indexOf("0"),A=-1==_&&-1!=v||(-1==_||-1!=v)&&v<_?v:_,_=t.lastIndexOf("#"),v=t.lastIndexOf("0"),k=(-1!=_||-1==v)&&(-1!=_&&-1==v||v<_)?_:v,A==p&&(k=A),-1!=A){for(l=(E=e.toString().split(z))[0],u=E[1]||"",c=l.length,u.length,D&&0<=-1*e&&(D=!1),e=t.substring(0,A),D&&!m&&(e+="-"),d=A;d<p;d++){if(h=t.charAt(d),-1==g){if(k-d<c){e+=l;break}}else if(-1!=v&&v<d&&(F=""),g-d<=c&&-1<g-d&&(e+=l,d=g),g===d){e+=(u?C:"")+u,d+=k-g+1;continue}"0"===h?(e+=h,F=h):"#"===h&&(e+=F)}if(f&&(e=L(e,A+(D&&!m?1:0),Math.max(k,c+A),x)),A<=k&&(e+=t.substring(k+1)),r||a){for(E="",d=0,p=e.length;d<p;d++)E+="$"===(h=e.charAt(d))||"%"===h?n:h;e=E}if(p=I.length)for(d=0;d<p;d++)e=e.replace("??",I[d])}return e}(e,t,i)}var r,n,a,s,o;return e!==R?e:""}N.format=function(e){var r=arguments;return e.replace(s,function(e,t,i){var n=r[parseInt(t,10)+1];return a(n,i?i.substring(1):"")})},N._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},N._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},N._round=B,N._outerWidth=function(e,t){return g(e).outerWidth(t||!1)||0},N._outerHeight=function(e,t){return g(e).outerHeight(t||!1)||0},N.toString=a}(),L=/\u00A0/g,B=/[eE][\-+]?[0-9]+/,W=/[+|\-]\d{1,2}/,U=/[+|\-]\d{1,2}:?\d{2}/,q=/^\/Date\((.*?)\)\/$/,j=/[+-]\d*/,G=[[],["G","g","F"],["D","d","y","m","T","t"]],Y=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],$={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},K={}.toString,N.parseDate=function(e,t,i){return de(e,t,i,!1)},N.parseExactDate=function(e,t,i){return de(e,t,i,!0)},N.parseInt=function(e,t){var i=N.parseFloat(e,t);return i&&(i|=0),i},N.parseFloat=function(e,t,i){if(!e&&0!==e)return null;if(typeof e==m)return e;e=e.toString();var n,r,a=(t=N.getCulture(t)).numberFormat,s=a.percent,o=a.currency,l=o.symbol,u=s.symbol,c=e.indexOf("-");return B.test(e)?(e=parseFloat(e.replace(a["."],".")),isNaN(e)&&(e=null),e):0<c?null:(c=-1<c,-1<e.indexOf(l)||i&&-1<i.toLowerCase().indexOf("c")?(n=(a=o).pattern[0].replace("$",l).split("n"),-1<e.indexOf(n[0])&&-1<e.indexOf(n[1])&&(e=e.replace(n[0],"").replace(n[1],""),c=!0)):-1<e.indexOf(u)&&(r=!0,a=s,l=u),e=e.replace("-","").replace(l,"").replace(L," ").split(a[","].replace(L," ")).join("").replace(a["."],"."),e=parseFloat(e),isNaN(e)?e=null:c&&(e*=-1),e&&r&&(e/=100),e)},function(){w._scrollbar=R,w.scrollbar=function(e){if(isNaN(w._scrollbar)||e){var t,i=document.createElement("div");return i.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",i.innerHTML="&nbsp;",document.body.appendChild(i),w._scrollbar=t=i.offsetWidth-i.scrollWidth,document.body.removeChild(i),t}return w._scrollbar},w.isRtl=function(e){return 0<g(e).closest(".k-rtl").length};var n=document.createElement("table");try{n.innerHTML="<tr><td></td></tr>",w.tbodyInnerHtml=!0}catch(e){w.tbodyInnerHtml=!1}w.touch="ontouchstart"in _;var e=document.documentElement.style,r=w.transitions=!1,a=w.transforms=!1,t="HTMLElement"in _?HTMLElement.prototype:[];w.hasHW3D="WebKitCSSMatrix"in _&&"m11"in new _.WebKitCSSMatrix||"MozPerspective"in e||"msPerspective"in e,w.cssFlexbox="flexWrap"in e||"WebkitFlexWrap"in e||"msFlexWrap"in e,v(["Moz","webkit","O","ms"],function(){var e=this.toString(),t=typeof n.style[e+"Transition"]===b;if(t||typeof n.style[e+"Transform"]===b){var i=e.toLowerCase();return a={css:"ms"!=i?"-"+i+"-":"",prefix:e,event:"o"===i||"webkit"===i?i:""},t&&((r=a).event=r.event?r.event+"TransitionEnd":"transitionend"),!1}}),n=null,w.transforms=a,w.transitions=r,w.devicePixelRatio=_.devicePixelRatio===R?1:_.devicePixelRatio;try{w.screenWidth=_.outerWidth||_.screen?_.screen.availWidth:_.innerWidth,w.screenHeight=_.outerHeight||_.screen?_.screen.availHeight:_.innerHeight}catch(e){w.screenWidth=_.screen.availWidth,w.screenHeight=_.screen.availHeight}w.detectOS=function(e){var t,i=!1,n=[],r=!/mobile safari/i.test(e),a={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},s={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},o={tablet:/playbook|ipad|fire/i},l={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var u in a)if(a.hasOwnProperty(u)&&(n=e.match(a[u]))){if("windows"==u&&"plugins"in navigator)return!1;(i={}).device=u,i.tablet=me(u,o,!1),i.browser=me(e,l,"default"),i.name=me(u,s),i[i.name]=!0,i.majorVersion=n[2],i.minorVersion=(n[3]||"0").replace("_","."),t=i.minorVersion.replace(".","").substr(0,2),i.flatVersion=i.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),i.cordova=typeof _.PhoneGap!==C||typeof _.cordova!==C,i.appMode=_.navigator.standalone||/file|local|wmapp/.test(_.location.protocol)||i.cordova,i.android&&(w.devicePixelRatio<1.5&&i.flatVersion<400||r)&&(800<w.screenWidth||800<w.screenHeight)&&(i.tablet=u);break}return i};var i,s,o,l,u=w.mobileOS=w.detectOS(navigator.userAgent);w.wpDevicePixelRatio=u.wp?screen.width/320:0,w.hasNativeScrolling=!1,(u.ios||u.android&&2<u.majorVersion||u.wp)&&(w.hasNativeScrolling=u),w.delayedClick=function(){if(w.touch){if(u.ios)return!0;if(u.android)return!w.browser.chrome||!(w.browser.version<32)&&!(g("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}return!1},w.mouseAndTouchPresent=w.touch&&!(w.mobileOS.ios||w.mobileOS.android),w.detectBrowser=function(e){var t=!1,i=[],n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in n)if(n.hasOwnProperty(r)&&(i=e.match(n[r]))){(t={})[r]=!0,t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||i[2],10);break}return t},w.browser=w.detectBrowser(navigator.userAgent),w.detectClipboardAccess=function(){var e={copy:!!document.queryCommandSupported&&document.queryCommandSupported("copy"),cut:!!document.queryCommandSupported&&document.queryCommandSupported("cut"),paste:!!document.queryCommandSupported&&document.queryCommandSupported("paste")};return w.browser.chrome&&(e.paste=!1,43<=w.browser.version&&(e.copy=!0,e.cut=!0)),e},w.clipboard=w.detectClipboardAccess(),w.zoomLevel=function(){try{var e=w.browser,t=0,i=document.documentElement;return e.msie&&11==e.version&&i.scrollHeight>i.clientHeight&&!w.touch&&(t=w.scrollbar()),w.touch?i.clientWidth/_.innerWidth:e.msie&&10<=e.version?((top||_).document.documentElement.offsetWidth+t)/(top||_).innerWidth:1}catch(e){return 1}},w.cssBorderSpacing=void 0!==e.borderSpacing&&!(w.browser.msie&&w.browser.version<8),i=w.browser,s="",o=g(document.documentElement),l=parseInt(i.version,10),i.msie?s="ie":i.mozilla?s="ff":i.safari?s="safari":i.webkit?s="webkit":i.opera?s="opera":i.edge&&(s="edge"),s=s&&"k-"+s+" k-"+s+l,w.mobileOS&&(s+=" k-mobile"),w.cssFlexbox||(s+=" k-no-flexbox"),o.addClass(s),w.eventCapture=document.documentElement.addEventListener;var c=document.createElement("input");w.placeholder="placeholder"in c,w.propertyChangeEvent="onpropertychange"in c,w.input=function(){for(var e,t=["number","date","time","month","week","datetime","datetime-local"],i=t.length,n={},r=0;r<i;r++)e=t[r],c.setAttribute("type",e),c.value="test",n[e.replace("-","")]="text"!==c.type&&"test"!==c.value;return n}(),c.style.cssText="float:left;",w.cssFloat=!!c.style.cssFloat,c=null,w.stableSort=function(){for(var e=[{index:0,field:"b"}],t=1;t<513;t++)e.push({index:t,field:"a"});return e.sort(function(e,t){return e.field>t.field?1:e.field<t.field?-1:0}),1===e[0].index}(),w.matchesSelector=t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.matchesSelector||t.matches||function(e){for(var t=document.querySelectorAll?(this.parentNode||document).querySelectorAll(e)||[]:g(e),i=t.length;i--;)if(t[i]==this)return!0;return!1},w.matchMedia="matchMedia"in _,w.pushState=_.history&&_.history.pushState;var d=document.documentMode;w.hashChange="onhashchange"in _&&!(w.browser.msie&&(!d||d<=8)),w.customElements="registerElement"in _.document;var p=w.browser.chrome,h=w.browser.crios,f=w.browser.mozilla,m=w.browser.safari;w.msPointers=!p&&_.MSPointerEvent,w.pointers=!p&&!h&&!f&&!m&&_.PointerEvent,w.kineticScrollNeeded=u&&(w.touch||w.msPointers||w.pointers)}();var ve={};function we(e,r,a,s,o){for(var l,t=0,i=e.length;t<i;t++)(l=g(e[t])).queue(function(){var e,t,i,n;ve.promise(l,(t=a,i=s,n=o,typeof(e=r)===b&&(F(t)&&(n=t,i=!(t=400)),F(i)&&(n=i,i=!1),typeof t===x&&(i=t,t=400),e={effects:e,duration:t,reverse:i,complete:n}),c({effects:{},duration:400,reverse:!1,init:u,teardown:u,hide:!1},e,{completeCallback:e.complete,complete:u})))});return e}g.extend(ve,{enabled:!0,Element:function(e){this.element=g(e)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),ve.promiseShim=ve.promise,"kendoAnimate"in g.fn||c(g.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,i,n){return we(this,e,t,i,n)},kendoAddClass:function(e,t){return N.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return N.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,i){return N.toggleClass(this,e,t,i)}});var be=/&/g,ye=/</g,ke=/"/g,xe=/'/g,Ce=/>/g;var Te=function(e){return e.target};w.touch&&(Te=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},v(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(e,t){g.fn[t]=function(e){return this.bind(t,e)}})),w.touch?w.mobileOS?(w.mousedown="touchstart",w.mouseup="touchend",w.mousemove="touchmove",w.mousecancel="touchcancel",w.click="touchend",w.resize="orientationchange"):(w.mousedown="mousedown touchstart",w.mouseup="mouseup touchend",w.mousemove="mousemove touchmove",w.mousecancel="mouseleave touchcancel",w.click="click",w.resize="resize"):w.pointers?(w.mousemove="pointermove",w.mousedown="pointerdown",w.mouseup="pointerup",w.mousecancel="pointercancel",w.click="pointerup",w.resize="orientationchange resize"):w.msPointers?(w.mousemove="MSPointerMove",w.mousedown="MSPointerDown",w.mouseup="MSPointerUp",w.mousecancel="MSPointerCancel",w.click="MSPointerUp",w.resize="orientationchange resize"):(w.mousemove="mousemove",w.mousedown="mousedown",w.mouseup="mouseup",w.mousecancel="mouseleave",w.click="click",w.resize="resize");var Se=/^([a-z]+:)?\/\//i;c(N,{widgets:[],_widgetRegisteredCallbacks:[],ui:N.ui||{},fx:N.fx||function(e){return new N.effects.Element(e)},effects:N.effects||ve,mobile:N.mobile||{},data:N.data||{},dataviz:N.dataviz||{},drawing:N.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:N.support||w,animate:N.animate||we,ns:"",attr:function(e){return"data-"+N.ns+e},getShadows:function(e){var t=e.css(N.support.transitions.css+"box-shadow")||e.css("box-shadow"),i=t&&t.match(r)||[0,0,0,0,0],n=h.max(+i[3],+(i[4]||0));return{left:-i[1]+n,right:+i[1]+n,bottom:+i[2]+n}},wrap:function(e,t){var i,n=w.browser,r=N._outerWidth,a=N._outerHeight,s=e.parent(),o=r(_);if(s.removeClass("k-animation-container-sm"),s.hasClass("k-animation-container"))pe(e,t);else{var l=e[0].style.width,u=e[0].style.height,c=f.test(l),d=f.test(u),p=e.hasClass("k-tooltip")||e.is(".k-menu-horizontal.k-context-menu");i=c||d,!c&&(!t||t&&l||p)&&(l=t?r(e)+1:r(e)),(!d&&(!t||t&&u)||e.is(".k-menu-horizontal.k-context-menu"))&&(u=a(e)),e.wrap(g("<div/>").addClass("k-animation-container").css({width:l,height:u})),s=e.parent(),i&&e.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return o<r(s)&&(s.addClass("k-animation-container-sm"),pe(e,t)),n.msie&&h.floor(n.version)<=7&&(e.css({zoom:1}),e.children(".k-menu").width(e.width())),s},deepExtend:he,getComputedStyles:_e,isScrollable:function(e){if(e&&e.className&&"string"==typeof e.className&&-1<e.className.indexOf("k-auto-scrollable"))return!0;var t=_e(e,["overflow"]).overflow;return"auto"==t||"scroll"==t},scrollLeft:function(e,t){var i,n=w.browser.webkit,r=w.browser.mozilla,a=e instanceof g?e[0]:e;if(e){if(i=w.isRtl(e),t===R)return i&&n?a.scrollWidth-a.clientWidth-a.scrollLeft:Math.abs(a.scrollLeft);a.scrollLeft=i&&n?a.scrollWidth-a.clientWidth-t:i&&r?-t:t}},size:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&i++;return i},toCamelCase:ge,toHyphens:function(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},getOffset:N.getOffset||function(e,t,i){var n=e[t=t||"offset"](),r={top:n.top,right:n.right,bottom:n.bottom,left:n.left};if(w.browser.msie&&(w.pointers||w.msPointers)&&!i){var a=w.isRtl(e)?1:-1;r.top-=_.pageYOffset-document.documentElement.scrollTop,r.left-=_.pageXOffset+a*document.documentElement.scrollLeft}return r},parseEffects:N.parseEffects||function(e){var t={};return v("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t},toggleClass:N.toggleClass||function(i,e,t,n){return e&&(e=e.split(" "),v(e,function(e,t){i.toggleClass(t,n)})),i},directions:N.directions||{left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out"},out:{reverse:"in"}},Observable:E,Class:S,Template:e,template:t(e.compile,e),render:t(e.render,e),stringify:t(i.stringify,i),eventTarget:Te,htmlEncode:function(e){return(""+e).replace(be,"&amp;").replace(ye,"&lt;").replace(Ce,"&gt;").replace(ke,"&quot;").replace(xe,"&#39;")},unescape:function(t){var i;try{i=_.decodeURIComponent(t)}catch(e){i=t.replace(/%u([\dA-F]{4})|%([\dA-F]{2})/gi,function(e,t,i){return String.fromCharCode(parseInt("0x"+(t||i),16))})}return i},isLocalUrl:function(e){return e&&!Se.test(e)},expr:function(e,t,i){return typeof t==b&&(i=t,t=!1),i=i||"d",(e=e||"")&&"["!==e.charAt(0)&&(e="."+e),e=t?(e=function(e,t){var i,n,r,a,s=t||"d",o=1;for(n=0,r=e.length;n<r;n++)""!==(a=e[n])&&(0!==(i=a.indexOf("["))&&(a=-1==i?"."+a:(o++,"."+a.substring(0,i)+" || {})"+a.substring(i))),o++,s+=a+(n<r-1?" || {})":")"));return new Array(o).join("(")+s}((e=(e=e.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"')).replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'")).split("."),i)).replace(/_\$DOT\$_/g,"."):i+e},getter:function(e,t){var i=e+t;return a[i]=a[i]||new Function("d","return "+N.expr(e,t))},setter:function(e){return o[e]=o[e]||new Function("d,value",N.expr(e)+"=value")},accessor:function(e){return{get:N.getter(e),set:N.setter(e)}},guid:function(){var e,t,i="";for(e=0;e<32;e++)t=16*h.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(i+="-"),i+=(12==e?4:16==e?3&t|8:t).toString(16);return i},roleSelector:function(e){return e.replace(/(\S+)/g,"["+N.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(e){var t=e.split(" ");if(t)for(var i=0;i<t.length;i++)"view"!=t[i]&&(t[i]=t[i].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return t.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},onWidgetRegistered:function(e){for(var t=0,i=N.widgets.length;t<i;t++)e(N.widgets[t]);N._widgetRegisteredCallbacks.push(e)},logToConsole:function(e,t){var i=_.console;!N.suppressLog&&void 0!==i&&i.log&&i[t||"log"](e)}});var Ie=E.extend({init:function(e,t){var i=this;i.element=N.jQuery(e).handler(i),i.angular("init",t),E.fn.init.call(i);var n=t?t.dataSource:null;n&&(t=c({},t,{dataSource:{}})),t=i.options=c(!0,{},i.options,t),n&&(t.dataSource=n),i.element.attr(N.attr("role"))||i.element.attr(N.attr("role"),(t.name||"").toLowerCase()),i.element.data("kendo"+t.prefix+t.name,i),i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,i="tabindex",n=e.attr(i)||t.attr(i);t.removeAttr(i),e.attr(i,isNaN(n)?0:n)},setOptions:function(e){this._setEvents(e),g.extend(this.options,e)},_setEvents:function(e){for(var t,i=this,n=0,r=i.events.length;n<r;n++)t=i.events[n],i.options[t]&&e[t]&&(i.unbind(t,i.options[t]),i._events&&i._events[t]&&delete i._events[t]);i.bind(i.events,e)},resize:function(e){var t=this.getSize(),i=this._size;!e&&(!(0<t.width||0<t.height)||i&&t.width===i.width&&t.height===i.height)||(this._size=t,this._resize(t,e),this.trigger("resize",t))},getSize:function(){return N.dimensions(this.element)},size:function(e){if(!e)return this.getSize();this.setSize(e)},setSize:g.noop,_resize:g.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(e){this._muteRebind=!0,e.call(this),this._muteRebind=!1}}),De=Ie.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(e){var t=this;t.angular(e,function(){return{elements:t.items(),data:g.map(t.dataItems(),function(e){return{dataItem:e}})}})}});N.dimensions=function(e,t){var i=e[0];return t&&e.css(t),{width:i.offsetWidth,height:i.offsetHeight}},N.notify=u;var Fe=/template$/i,Ee=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,Ae=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,Me=/([A-Z])/g;function Oe(e,t){var i;return 0===t.indexOf("data")&&(t=(t=t.substring(4)).charAt(0).toLowerCase()+t.substring(1)),t=t.replace(Me,"-$1"),null===(i=e.getAttribute("data-"+N.ns+t))?i=R:"null"===i?i=null:"true"===i?i=!0:"false"===i?i=!1:n.test(i)&&"mask"!=t?i=parseFloat(i):Ee.test(i)&&!Ae.test(i)&&(i=new Function("return ("+i+")")()),i}function He(e,t,i){var n,r,a={},s=e.getAttribute("data-"+N.ns+"role");for(n in t)(r=Oe(e,n))!==R&&(Fe.test(n)&&"drawer"!=s&&("string"==typeof r?g("#"+r).length?r=N.template(g("#"+r).html()):i&&(r=N.template(i[r])):r=e.getAttribute(n)),a[n]=r);return a}function Pe(e,t){return g.contains(e,t)?-1:1}function ze(){var e=g(this);return-1<g.inArray(e.attr("data-"+N.ns+"role"),["slider","rangeslider","breadcrumb"])||e.is(":visible")}N.initWidget=function(e,t,i){var n,r,a,s,o,l,u,c,d,p;if(i?i.roles&&(i=i.roles):i=N.ui.roles,l=(e=e.nodeType?e:e[0]).getAttribute("data-"+N.ns+"role")){a=(d=-1===l.indexOf("."))?i[l]:N.getter(l)(_);var h=g(e).data(),f=a?"kendo"+a.fn.options.prefix+a.fn.options.name:"";for(var m in p=d?new RegExp("^kendo.*"+l+"$","i"):new RegExp("^"+f+"$","i"),h)if(m.match(p)){if(m!==f)return h[m];n=h[m]}if(a){for(c=Oe(e,"dataSource"),t=g.extend({},He(e,a.fn.options),t),c&&(t.dataSource=typeof c===b?N.getter(c)(_):c),s=0,o=a.fn.events.length;s<o;s++)(u=Oe(e,r=a.fn.events[s]))!==R&&(t[r]=N.getter(u)(_));return n?g.isEmptyObject(t)||n.setOptions(t):n=new a(e,t),n}}},N.rolesFromNamespaces=function(e){var t,i,n=[];for(e[0]||(e=[N.ui,N.dataviz.ui]),t=0,i=e.length;t<i;t++)n[t]=e[t].roles;return c.apply(null,[{}].concat(n.reverse()))},N.init=function(e){var t=N.rolesFromNamespaces(l.call(arguments,1));g(e).find("[data-"+N.ns+"role]").addBack().each(function(){N.initWidget(this,{},t)})},N.destroy=function(e){g(e).find("[data-"+N.ns+"role]").addBack().each(function(){var e=g(this).data();for(var t in e)0===t.indexOf("kendo")&&typeof e[t].destroy==p&&e[t].destroy()})},N.resize=function(e,t){var i=g(e).find("[data-"+N.ns+"role]").addBack().filter(ze);if(i.length){var n=g.makeArray(i);n.sort(Pe),g.each(n,function(){var e=N.widgetInstance(g(this));e&&e.resize(t)})}},N.parseOptions=He,c(N.ui,{Widget:Ie,DataBoundWidget:De,roles:{},progress:function(e,t,i){var n,r,a,s,o,l=e.find(".k-loading-mask"),u=N.support,c=u.browser;o=(i=g.extend({},{width:"100%",height:"100%",top:e.scrollTop(),opacity:!1},i)).opacity?"k-loading-mask k-opaque":"k-loading-mask",t?l.length||(r=(n=u.isRtl(e))?"right":"left",s=e.scrollLeft(),a=c.webkit&&n?e[0].scrollWidth-e.width()-2*s:0,l=g(N.format("<div class='{0}'><span class='k-loading-text'>{1}</span><div class='k-loading-image'/><div class='k-loading-color'/></div>",o,N.ui.progress.messages.loading)).width(i.width).height(i.height).css("top",i.top).css(r,Math.abs(s)+a).prependTo(e)):l&&l.remove()},plugin:function(e,t,i){var n,s=e.fn.options.name;i=i||"",(t=t||N.ui)[s]=e,t.roles[s.toLowerCase()]=e,n="getKendo"+i+s;var r={name:s="kendo"+i+s,widget:e,prefix:i||""};N.widgets.push(r);for(var a=0,o=N._widgetRegisteredCallbacks.length;a<o;a++)N._widgetRegisteredCallbacks[a](r);g.fn[s]=function(n){var r,a=this;return typeof n===b?(r=l.call(arguments,1),this.each(function(){var e,t,i=g.data(this,s);if(!i)throw new Error(N.format("Cannot call method '{0}' of {1} before it is initialized",n,s));if(typeof(e=i[n])!=p)throw new Error(N.format("Cannot find method '{0}' of {1}",n,s));if((t=e.apply(i,r))!==R)return a=t,!1})):this.each(function(){return new e(this,n)}),a},g.fn[s].widget=e,g.fn[n]=function(){return this.data(s)}}}),N.ui.progress.messages={loading:"Loading..."};var Ve={bind:function(){return this},nullObject:!0,options:{}},Le=Ie.extend({init:function(e,t){Ie.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){Ie.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(N.roleSelector("view splitview modalview drawer"));return N.widgetInstance(e,N.mobile.ui)||Ve},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(N.roleSelector("view layout modalview drawer splitview"));return N.widgetInstance(e.eq(0),N.mobile.ui)||Ve}});function Be(e,t){var i,n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n&&e.href||t)&&(i=e,g.expr.pseudos.visible(i)&&!g(i).parents().addBack().filter(function(){return"hidden"===g.css(this,"visibility")}).length)}c(N.mobile,{init:function(e){N.init(e,N.mobile.ui,N.ui,N.dataviz.ui)},appLevelNativeScrolling:function(){return N.mobile.application&&N.mobile.application.options&&N.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:Le,DataBoundWidget:De.extend(Le.prototype),roles:{},plugin:function(e){N.ui.plugin(e,N.mobile.ui,"Mobile")}}}),he(N.dataviz,{init:function(e){N.init(e,N.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(e){N.ui.plugin(e,N.dataviz.ui)}},roles:{}}),N.touchScroller=function(e,i){return(i=i||{}).useNative=!0,g(e).map(function(e,t){return t=g(t),!(!w.kineticScrollNeeded||!N.mobile.ui.Scroller||t.data("kendoMobileScroller"))&&(t.kendoMobileScroller(i),t.data("kendoMobileScroller"))})[0]},N.preventDefault=function(e){e.preventDefault()},N.widgetInstance=function(e,t){var i,n,r=e.data(N.ns+"role"),a=[],s=e.data("kendoView");if(r){if("content"===r&&(r="scroller"),"editortoolbar"===r){var o=e.data("kendoEditorToolbar");if(o)return o}if("view"===r&&s)return s;if(t)if(t[0])for(i=0,n=t.length;i<n;i++)a.push(t[i].roles[r]);else a.push(t.roles[r]);else a=[N.ui.roles[r],N.dataviz.ui.roles[r],N.mobile.ui.roles[r]];for(0<=r.indexOf(".")&&(a=[N.getter(r)(_)]),i=0,n=a.length;i<n;i++){var l=a[i];if(l){var u=e.data("kendo"+l.fn.options.prefix+l.fn.options.name);if(u)return u}}}},N.onResize=function(e){var t=e;return w.mobileOS.android&&(t=function(){setTimeout(e,600)}),g(_).on(w.resize,t),t},N.unbindResize=function(e){g(_).off(w.resize,e)},N.attrValue=function(e,t){return e.data(N.ns+t)},N.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},g.extend(g.expr.pseudos,{kendoFocusable:function(e){var t=g.attr(e,"tabindex");return Be(e,!isNaN(t)&&-1<t)}});var Re=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],Ne={setupMouseMute:function(){var e=0,t=Re.length,i=document.documentElement;if(!Ne.mouseTrap&&w.eventCapture){Ne.mouseTrap=!0,Ne.bustClick=!1,Ne.captureMouse=!1;function n(e){Ne.captureMouse&&("click"===e.type?Ne.bustClick&&!g(e.target).is("label, input, [data-rel=external]")&&(e.preventDefault(),e.stopPropagation()):e.stopPropagation())}for(;e<t;e++)i.addEventListener(Re[e],n,!0)}},muteMouse:function(e){Ne.captureMouse=!0,e.data.bustClick&&(Ne.bustClick=!0),clearTimeout(Ne.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(Ne.mouseTrapTimeoutID),Ne.mouseTrapTimeoutID=setTimeout(function(){Ne.captureMouse=!1,Ne.bustClick=!1},400)}},We={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};w.touch&&(w.mobileOS.ios||w.mobileOS.android)?We={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:w.pointers?We={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:w.msPointers&&(We={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!w.msPointers||"onmspointerenter"in _||g.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(e,r){g.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||g.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=r),t}}});function Ue(e){return We[e]||e}var qe=/([^ ]+)/g;N.applyEventMap=function(e,t){return e=e.replace(qe,Ue),t&&(e=e.replace(qe,"$1."+t)),e};var je=g.fn.on;function Ge(e,t){return new Ge.fn.init(e,t)}T(!0,Ge,g),((Ge.fn=Ge.prototype=new g).constructor=Ge).fn.init=function(e,t){return t&&t instanceof g&&!(t instanceof Ge)&&(t=Ge(t)),g.fn.init.call(this,e,t,Je)},Ge.fn.init.prototype=Ge.fn;var Ye,$e,Ke,Qe,Je=Ge(document);function Xe(e,t){var i,n,r,a=t[3],s=t[4],o=t[5],l=t[8];return l||(t[8]=l={}),l[e]?l[e]:(isNaN(s)?0===s.indexOf("last")?(i=new Date(Date.UTC(e,Ye[a]+1,1,o[0]-24,o[1],o[2],0)),n=$e[s.substr(4,3)],r=i.getUTCDay(),i.setUTCDate(i.getUTCDate()+n-r-(r<n?7:0))):0<=s.indexOf(">=")?(i=new Date(Date.UTC(e,Ye[a],s.substr(5),o[0],o[1],o[2],0)),n=$e[s.substr(0,3)],r=i.getUTCDay(),i.setUTCDate(i.getUTCDate()+n-r+(n<r?7:0))):0<=s.indexOf("<=")&&(i=new Date(Date.UTC(e,Ye[a],s.substr(5),o[0],o[1],o[2],0)),n=$e[s.substr(0,3)],r=i.getUTCDay(),i.setUTCDate(i.getUTCDate()+n-r-(r<n?7:0))):i=new Date(Date.UTC(e,Ye[a],s,o[0],o[1],o[2],0)),l[e]=i)}function Ze(e,t,i,n){typeof e!=m&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var r=function(e,t,i){var n=t[i];if("string"==typeof n&&(n=t[n]),!n)throw new Error('Timezone "'+i+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var r=n.length-1;0<=r;r--){var a=n[r][3];if(a&&a<e)break}var s=n[r+1];if(!s)throw new Error('Timezone "'+i+'" not found on '+e+".");return s}(e,t,n);return{zone:r,rule:function(e,t,i){if(!(t=t[i])){var n=i.split(":"),r=0;return 1<n.length&&(r=60*n[0]+Number(n[1])),[-1e6,"max","-","Jan",1,[0,0,0],r,"-"]}var a=new Date(e).getUTCFullYear();(t=jQuery.grep(t,function(e){var t=e[0],i=e[1];return t<=a&&(a<=i||t==a&&"only"==i||"max"==i)})).push(e),t.sort(function(e,t){return"number"!=typeof e&&(e=Number(Xe(a,e))),"number"!=typeof t&&(t=Number(Xe(a,t))),e-t});var s=t[jQuery.inArray(e,t)-1]||t[t.length-1];return isNaN(s)?s:null}(e,i,r[1])}}function et(e,t){return 0===t&&23===e.getHours()&&(e.setHours(e.getHours()+2),!0)}function tt(e,t,i){var n=e.getHours();i=i||1,t=(t-e.getDay()+7*i)%7,e.setDate(e.getDate()+t),et(e,n)}function it(e,t,i){return tt(e=new Date(e),t,i),e}function nt(e){return new Date(e.getFullYear(),e.getMonth(),1)}function rt(e,t){var i,n,r=new Date(e.getFullYear(),0,1,-6),a=(i=e,1!==(n=t)?ot(it(i,n,-1),4):ot(i,4-(i.getDay()||7))).getTime()-r.getTime(),s=Math.floor(a/Qe);return 1+Math.floor(s/7)}function at(e){return et(e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),0),e}function st(e){return ct(e).getTime()-at(ct(e))}function ot(e,t){var i=e.getHours();return lt(e=new Date(e),t*Qe),et(e,i),e}function lt(e,t,i){var n,r=e.getTimezoneOffset();e.setTime(e.getTime()+t),i||(n=e.getTimezoneOffset()-r,e.setTime(e.getTime()+n*Ke))}function ut(){return at(new Date)}function ct(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}c(Ge.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||N.guid()),this},on:function(){var e=this,t=e.data("kendoNS");if(1===arguments.length)return je.call(e,arguments[0]);var i=e,n=l.call(arguments);typeof n[n.length-1]===C&&n.pop();var r=n[n.length-1],a=N.applyEventMap(n[0],t);if(w.mouseAndTouchPresent&&-1<a.search(/mouse|click/)&&this[0]!==document.documentElement){Ne.setupMouseMute();var s=2===n.length?null:n[1],o=-1<a.indexOf("click")&&-1<a.indexOf("touchend");je.call(this,{touchstart:Ne.muteMouse,touchend:Ne.unMuteMouse},s,{bustClick:o})}return typeof r===b&&(i=e.data("handler"),r=i[r],n[n.length-1]=function(e){r.call(i,e)}),n[0]=a,je.apply(e,n),e},kendoDestroy:function(e){return(e=e||this.data("kendoNS"))&&this.off("."+e),this}}),N.jQuery=Ge,N.eventMap=We,N.timezone=(Ye={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},$e={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},{zones:{},rules:{},offset:function(e,t){if("Etc/UTC"==t||"Etc/GMT"==t)return 0;var i=Ze(e,this.zones,this.rules,t),n=i.zone,r=i.rule;return N.parseFloat(r?n[0]-r[6]:n[0])},convert:function(e,t,i){var n,r=i;typeof t==b&&(t=this.offset(e,t)),typeof i==b&&(i=this.offset(e,i));var a=e.getTimezoneOffset(),s=(e=new Date(e.getTime()+6e4*(t-i))).getTimezoneOffset();return typeof r==b&&(r=this.offset(e,r)),n=s-a+(i-r),new Date(e.getTime()+6e4*n)},apply:function(e,t){return this.convert(e,e.getTimezoneOffset(),t)},remove:function(e,t){return this.convert(e,t,e.getTimezoneOffset())},abbr:function(e,t){var i=Ze(e,this.zones,this.rules,t),n=i.zone,r=i.rule,a=n[2];return 0<=a.indexOf("/")?a.split("/")[r&&+r[6]?1:0]:0<=a.indexOf("%s")?a.replace("%s",r&&"-"!=r[7]?r[7]:""):a},toLocalDate:function(e){return this.apply(new Date(e),"Etc/UTC")}}),N.date={adjustDST:et,dayOfWeek:it,setDayOfWeek:tt,getDate:at,isInDateRange:function(e,t,i){var n,r=t.getTime(),a=i.getTime();return a<=r&&(a+=Qe),r<=(n=e.getTime())&&n<=a},isInTimeRange:function(e,t,i){var n,r=st(t),a=st(i);return!e||r==a||(i<=t&&(i+=Qe),(n=st(e))<r&&(n+=Qe),a<r&&(a+=Qe),r<=n&&n<=a)},isToday:function(e){return at(e).getTime()==ut().getTime()},nextDay:function(e){return ot(e,1)},previousDay:function(e){return ot(e,-1)},toUtcTime:function(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},MS_PER_DAY:Qe=864e5,MS_PER_HOUR:60*(Ke=6e4),MS_PER_MINUTE:Ke,setTime:lt,setHours:function(e,t){return et(e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),t.getHours()),e},addDays:ot,today:ut,toInvariantTime:ct,firstDayOfMonth:nt,lastDayOfMonth:function(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),i=nt(e),n=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());return n&&t.setHours(i.getHours()+n/60),t},weekInYear:function(e,t){t===R&&(t=N.culture().calendar.firstDay);var i=ot(e,-7),n=ot(e,7),r=rt(e,t);return 0===r?rt(i,t)+1:53===r&&1<rt(n,t)?1:r},getMilliseconds:st},N.stripWhitespace=function(t){if(document.createNodeIterator)for(var e=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,function(e){return e.parentNode==t?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);e.nextNode();)e.referenceNode&&!e.referenceNode.textContent.trim()&&e.referenceNode.parentNode.removeChild(e.referenceNode);else for(var i=0;i<t.childNodes.length;i++){var n=t.childNodes[i];3!=n.nodeType||/\S/.test(n.nodeValue)||(t.removeChild(n),i--),1==n.nodeType&&N.stripWhitespace(n)}};var dt=_.requestAnimationFrame||_.webkitRequestAnimationFrame||_.mozRequestAnimationFrame||_.oRequestAnimationFrame||_.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};N.animationFrame=function(e){dt.call(_,e)};var pt,ht,ft=[];function mt(e,t,i,n){var r=g("<form>").attr({action:i,method:"POST",target:n}),a=N.antiForgeryTokens();a.fileName=t;var s=e.split(";base64,");for(var o in a.contentType=s[0].replace("data:",""),a.base64=s[1],a)a.hasOwnProperty(o)&&g("<input>").attr({value:a[o],name:o,type:"hidden"}).appendTo(r);r.appendTo("body").submit().remove()}function gt(e,t){var i=e;if("string"==typeof e){for(var n=e.split(";base64,"),r=n[0],a=atob(n[1]),s=new Uint8Array(a.length),o=0;o<a.length;o++)s[o]=a.charCodeAt(o);i=new Blob([s.buffer],{type:r})}navigator.msSaveBlob(i,t)}function _t(e,t){_.Blob&&e instanceof Blob&&(e=URL.createObjectURL(e)),pt.download=t,pt.href=e;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,_,0,0,0,0,0,!1,!1,!1,!1,0,null),pt.dispatchEvent(i),setTimeout(function(){URL.revokeObjectURL(e)})}N.queueAnimation=function(e){ft[ft.length]=e,1===ft.length&&N.runNextAnimation()},N.runNextAnimation=function(){N.animationFrame(function(){ft[0]&&(ft.shift()(),ft[0]&&N.runNextAnimation())})},N.parseQueryStringParams=function(e){for(var t={},i=(e.split("?")[1]||"").split(/&|=/),n=i.length,r=0;r<n;r+=2)""!==i[r]&&(t[decodeURIComponent(i[r])]=decodeURIComponent(i[r+1]));return t},N.elementUnderCursor=function(e){if(void 0!==e.x.client)return document.elementFromPoint(e.x.client,e.y.client)},N.wheelDeltaY=function(e){var t,i=e.originalEvent,n=i.wheelDeltaY;return i.wheelDelta?n!==R&&!n||(t=i.wheelDelta):i.detail&&i.axis===i.VERTICAL_AXIS&&(t=10*-i.detail),t},N.throttle=function(r,a){var s,o=0;if(!a||a<=0)return r;function e(){var e=this,t=new Date-o,i=arguments;function n(){r.apply(e,i),o=+new Date}if(!o)return n();s&&clearTimeout(s),a<t?n():s=setTimeout(n,a-t)}return e.cancel=function(){clearTimeout(s)},e},N.caret=function(e,t,i){var n,r=t!==R;if(i===R&&(i=t),e[0]&&(e=e[0]),!r||!e.disabled){try{if(e.selectionStart!==R)if(r){e.focus();var a=w.mobileOS;a.wp||a.android?setTimeout(function(){e.setSelectionRange(t,i)},0):e.setSelectionRange(t,i)}else t=[e.selectionStart,e.selectionEnd];else if(document.selection)if(g(e).is(":visible")&&e.focus(),n=e.createTextRange(),r)n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",i-t),n.select();else{var s,o,l=n.duplicate();n.moveToBookmark(document.selection.createRange().getBookmark()),l.setEndPoint("EndToStart",n),o=(s=l.text.length)+n.text.length,t=[s,o]}}catch(e){t=[]}return t}},N.compileMobileDirective=function(t,i){var e=_.angular;return t.attr("data-"+N.ns+"role",t[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),e.element(t).injector().invoke(["$compile",function(e){e(t)(i),/^\$(digest|apply)$/.test(i.$$phase)||i.$digest()}]),N.widgetInstance(t,N.mobile.ui)},N.antiForgeryTokens=function(){var e={},t=g("meta[name=csrf-token],meta[name=_csrf]").attr("content"),i=g("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return g("input[name^='__RequestVerificationToken']").each(function(){e[this.name]=this.value}),i!==R&&t!==R&&(e[i]=t),e},N.cycleForm=function(e){var t=e.find("input, .k-widget").first(),i=e.find("button, .k-button").last();function n(e){var t=N.widgetInstance(e);t&&t.focus?t.focus():e.focus()}i.on("keydown",function(e){e.keyCode!=N.keys.TAB||e.shiftKey||(e.preventDefault(),n(t))}),t.on("keydown",function(e){e.keyCode==N.keys.TAB&&e.shiftKey&&(e.preventDefault(),n(i))})},N.focusElement=function(t){var i=[],e=t.parentsUntil("body").filter(function(e,t){return"visible"!==N.getComputedStyles(t,["overflow"]).overflow}).add(_);e.each(function(e,t){i[e]=g(t).scrollTop()});try{t[0].setActive()}catch(e){t[0].focus()}e.each(function(e,t){g(t).scrollTop(i[e])})},N.focusNextElement=function(){if(document.activeElement){var e=g(":kendoFocusable"),t=e.index(document.activeElement);if(-1<t)(e[t+1]||e[0]).focus()}},N.matchesMedia=function(e){var t=N._bootstrapToMedia(e)||e;return w.matchMedia&&_.matchMedia(t).matches},N._bootstrapToMedia=function(e){return{xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]},N.fileGroupMap={audio:[".aif",".iff",".m3u",".m4a",".mid",".mp3",".mpa",".wav",".wma",".ogg",".wav",".wma",".wpl"],video:[".3g2",".3gp",".avi",".asf",".flv",".m4u",".rm",".h264",".m4v",".mkv",".mov",".mp4",".mpg",".rm",".swf",".vob",".wmv"],image:[".ai",".dds",".heic",".jpe","jfif",".jif",".jp2",".jps",".eps",".bmp",".gif",".jpeg",".jpg",".png",".ps",".psd",".svg",".svgz",".tif",".tiff"],txt:[".doc",".docx",".log",".pages",".tex",".wpd",".wps",".odt",".rtf",".text",".txt",".wks"],presentation:[".key",".odp",".pps",".ppt",".pptx"],data:[".xlr",".xls",".xlsx"],programming:[".tmp",".bak",".msi",".cab",".cpl",".cur",".dll",".dmp",".drv",".icns",".ico",".link",".sys",".cfg",".ini",".asp",".aspx",".cer",".csr",".css",".dcr",".htm",".html",".js",".php",".rss",".xhtml"],pdf:[".pdf"],config:[".apk",".app",".bat",".cgi",".com",".exe",".gadget",".jar",".wsf"],zip:[".7z",".cbr",".gz",".sitx",".arj",".deb",".pkg",".rar",".rpm",".tar.gz",".z",".zip",".zipx"],"disc-image":[".dmg",".iso",".toast",".vcd",".bin",".cue",".mdf"]},N.getFileGroup=function(e,t){var i=N.fileGroupMap,n=Object.keys(i);if(e===R||!e.length)return"file";for(var r=0;r<n.length;r+=1){if(-1<i[n[r]].indexOf(e.toLowerCase()))return t?"file-"+n[r]:n[r]}return"file"},N.getFileSizeMessage=function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},pt=document.createElement("a"),ht="download"in pt&&!N.support.browser.edge,N.saveAs=function(e){var t=mt;e.forceProxy||(ht?t=_t:navigator.msSaveBlob&&(t=gt)),t(e.dataURI,e.fileName,e.proxyURL,e.proxyTarget)},N.proxyModelSetters=function(i){var e={};return Object.keys(i||{}).forEach(function(t){Object.defineProperty(e,t,{get:function(){return i[t]},set:function(e){i[t]=e,i.dirty=!0}})}),e}}(jQuery,window),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.color",["kendo.core"],function(){var e={id:"color",name:"Color utils",category:"framework",advanced:true,description:"Color utilities used across components",depends:["core"]};window.kendo=window.kendo||{};var t=kendo.Class,i=kendo.support,a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},n=i.browser,s=function(e){var t=Object.keys(a);t.push("transparent");var i=new RegExp("^("+t.join("|")+")(\\W|$)","i");s=function(e){return i.exec(e)};return i.exec(e)},o=t.extend({init:function(){},toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},toDisplay:function(){if(n.msie&&n.version<9){return this.toCss()}return this.toCssRgba()},equals:function(e){return e===this||e!==null&&this.toCssRgba()===h(e).toCssRgba()},diff:function(e){if(e===null){return NaN}var t=this.toBytes();var i=e.toBytes();return Math.sqrt(Math.pow((t.r-i.r)*.3,2)+Math.pow((t.g-i.g)*.59,2)+Math.pow((t.b-i.b)*.11,2))},clone:function(){var e=this.toBytes();if(e===this){e=new l(e.r,e.g,e.b,e.a)}return e}}),p=o.extend({init:function(e,t,i,n){o.fn.init.call(this);this.r=e;this.g=t;this.b=i;this.a=n},toHSV:function(){var e=this;var t=e.r;var i=e.g;var n=e.b;var r=Math.min(t,i,n);var a=Math.max(t,i,n);var s=a-r;var o=a;var l,u;if(s===0){return new c(0,0,o,this.a)}if(a!==0){u=s/a;if(t===a){l=(i-n)/s}else if(i===a){l=2+(n-t)/s}else{l=4+(t-i)/s}l*=60;if(l<0){l+=360}}else{u=0;l=-1}return new c(l,u,o,this.a)},toHSL:function(){var e=this;var t=e.r;var i=e.g;var n=e.b;var r=Math.max(t,i,n);var a=Math.min(t,i,n);var s,o,l=(r+a)/2;if(r===a){s=o=0}else{var u=r-a;o=l>.5?u/(2-r-a):u/(r+a);switch(r){case t:s=(i-n)/u+(i<n?6:0);break;case i:s=(n-t)/u+2;break;case n:s=(t-i)/u+4;break;default:break}}return new d(s*60,o*100,l*100,this.a)},toBytes:function(){return new l(this.r*255,this.g*255,this.b*255,this.a)}}),l=p.extend({init:function(e,t,i,n){p.fn.init.call(this,Math.round(e),Math.round(t),Math.round(i),n)},toRGB:function(){return new p(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHSL:function(){return this.toRGB().toHSL()},toHex:function(){return r(this.r,2)+r(this.g,2)+r(this.b,2)},toBytes:function(){return this}});function r(e,t,i){if(i===void 0){i="0"}var n=e.toString(16);while(t>n.length){n=i+n}return n}var c=o.extend({init:function(e,t,i,n){o.fn.init.call(this);this.h=e;this.s=t;this.v=i;this.a=n},toRGB:function(){var e=this;var t=e.h;var i=e.s;var n=e.v;var r,a,s;if(i===0){r=a=s=n}else{t/=60;var o=Math.floor(t);var l=t-o;var u=n*(1-i);var c=n*(1-i*l);var d=n*(1-i*(1-l));switch(o){case 0:r=n;a=d;s=u;break;case 1:r=c;a=n;s=u;break;case 2:r=u;a=n;s=d;break;case 3:r=u;a=c;s=n;break;case 4:r=d;a=u;s=n;break;default:r=n;a=u;s=c;break}}return new p(r,a,s,this.a)},toHSL:function(){return this.toRGB().toHSL()},toBytes:function(){return this.toRGB().toBytes()}}),d=o.extend({init:function(e,t,i,n){o.fn.init.call(this);this.h=e;this.s=t;this.l=i;this.a=n},toRGB:function(){var e=this.h/360;var t=this.s/100;var i=this.l/100;var n,r,a;if(t===0){n=r=a=i}else{var s=i<.5?i*(1+t):i+t-i*t;var o=2*i-s;n=u(o,s,e+1/3);r=u(o,s,e);a=u(o,s,e-1/3)}return new p(n,r,a,this.a)},toHSV:function(){return this.toRGB().toHSV()},toBytes:function(){return this.toRGB().toBytes()}});function u(e,t,i){var n=i;if(n<0){n+=1}if(n>1){n-=1}if(n<1/6){return e+(t-e)*6*n}if(n<1/2){return t}if(n<2/3){return e+(t-e)*(2/3-n)*6}return e}function h(e,t){var i,n;if(e==null||e==="none"){return null}if(e instanceof o){return e}var r=e.toLowerCase();if(i=s(r)){if(i[1]==="transparent"){r=new p(1,1,1,0)}else{r=h(a[i[1]],t)}r.match=[i[1]];return r}if(i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(r)){n=new l(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),1)}else if(i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(r)){n=new l(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),1)}else if(i=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(r)){n=new l(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),1)}else if(i=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(r)){n=new l(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]))}else if(i=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(r)){n=new p(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,1)}else if(i=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(r)){n=new p(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4]))}if(n){n.match=i}else if(!t){throw new Error("Cannot parse color: "+r)}return n}var f=t.extend({init:function(e){var t=this;if(arguments.length===1){var i=f.formats;var n=this.resolveColor(e);for(var r=0;r<i.length;r++){var a=i[r].re;var s=i[r].process;var o=a.exec(n);if(o){var l=s(o);t.r=l[0];t.g=l[1];t.b=l[2]}}}else{this.r=arguments[0];this.g=arguments[1];this.b=arguments[2]}this.r=this.normalizeByte(this.r);this.g=this.normalizeByte(this.g);this.b=this.normalizeByte(this.b)},toHex:function(){var e=this.padDigit;var t=this.r.toString(16);var i=this.g.toString(16);var n=this.b.toString(16);return"#"+e(t)+e(i)+e(n)},resolveColor:function(e){var t=e||"black";if(t.charAt(0)==="#"){t=t.substr(1,6)}t=t.replace(/ /g,"");t=t.toLowerCase();t=f.namedColors[t]||t;return t},normalizeByte:function(e){if(e<0||isNaN(e)){return 0}return e>255?255:e},padDigit:function(e){return e.length===1?"0"+e:e},brightness:function(e){var t=Math.round;this.r=t(this.normalizeByte(this.r*e));this.g=t(this.normalizeByte(this.g*e));this.b=t(this.normalizeByte(this.b*e));return this},percBrightness:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}});f.fromBytes=function(e,t,i,n){return new l(e,t,i,n!=null?n:1)},f.fromRGB=function(e,t,i,n){return new p(e,t,i,n!=null?n:1)},f.fromHSV=function(e,t,i,n){return new c(e,t,i,n!=null?n:1)},f.fromHSL=function(e,t,i,n){return new d(e,t,i,n!=null?n:1)},f.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],f.namedColors=a,kendo.deepExtend(kendo,{parseColor:h,Color:f})}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.data",["kendo.core","kendo.data.odata","kendo.data.xml"],function(){var e={id:"data",name:"Data source",category:"framework",description:"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",depends:["core"],features:[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-signalr",name:"SignalR",description:"Support for binding to SignalR hubs.",depends:["data.signalr"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}]};return function(v,w){function t(e){return e}var m,g=v.extend,_=v.proxy,b=v.isPlainObject,d=v.isEmptyObject,y=v.isArray,r=v.grep,i=v.ajax,k=v.each,o=v.noop,p=window.kendo,x=p.isFunction,s=p.Observable,e=p.Class,C="string",h="function",n="destroy",f="change",u="get",a="error",l="requestStart",c="progress",T="requestEnd",S=["create","read","update",n],I=p.getter,D=p.stringify,F=Math,E=[].push,A=[].join,M=[].pop,O=[].splice,H=[].shift,P=[].slice,z=[].unshift,V={}.toString,L=p.support.stableSort,B=/^\/Date\((.*?)\)\/$/,R=s.extend({init:function(e,t){var i=this;i.type=t||U,s.fn.init.call(i),i.length=e.length,i.wrapAll(e,i)},at:function(e){return this[e]},toJSON:function(e){var t,i,n=this.length,r=new Array(n);for(t=0;t<n;t++)(i=this[t])instanceof U&&(i=i.toJSON(e)),r[t]=i;return r},parent:o,wrapAll:function(e,t){function i(){return a}var n,r,a=this;for(t=t||[],n=0,r=e.length;n<r;n++)t[n]=a.wrap(e[n],i);return t},wrap:function(e,t){var i=this;return null!==e&&"[object Object]"===V.call(e)&&(e instanceof i.type||e instanceof G||(e=e instanceof U?e.toJSON():e,e=new i.type(e)),e.parent=t,e.bind(f,function(e){i.trigger(f,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemloaded":"itemchange"})})),e},push:function(){var e,t=this.length,i=this.wrapAll(arguments);return e=E.apply(this,i),this.trigger(f,{action:"add",index:t,items:i}),e},slice:P,sort:[].sort,join:A,pop:function(){var e=this.length,t=M.apply(this);return e&&this.trigger(f,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,i){var n,r,a,s=this.wrapAll(P.call(arguments,2));if((n=O.apply(this,[e,t].concat(s))).length)for(this.trigger(f,{action:"remove",index:e,items:n}),r=0,a=n.length;r<a;r++)n[r]&&n[r].children&&n[r].unbind(f);return i&&this.trigger(f,{action:"add",index:e,items:s}),n},shift:function(){var e=this.length,t=H.apply(this);return e&&this.trigger(f,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=z.apply(this,t),this.trigger(f,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,i;for(t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},forEach:function(e,t){for(var i=0,n=this.length,r=t||window;i<n;i++)e.call(r,this[i],i,this)},map:function(e,t){for(var i=0,n=[],r=this.length,a=t||window;i<r;i++)n[i]=e.call(a,this[i],i,this);return n},reduce:function(e){var t,i=0,n=this.length;for(2==arguments.length?t=arguments[1]:i<n&&(t=this[i++]);i<n;i++)t=e(t,this[i],i,this);return t},reduceRight:function(e){var t,i=this.length-1;for(2==arguments.length?t=arguments[1]:0<i&&(t=this[i--]);0<=i;i--)t=e(t,this[i],i,this);return t},filter:function(e,t){for(var i,n=0,r=[],a=this.length,s=t||window;n<a;n++)i=this[n],e.call(s,i,n,this)&&(r[r.length]=i);return r},find:function(e,t){for(var i,n=0,r=this.length,a=t||window;n<r;n++)if(i=this[n],e.call(a,i,n,this))return i},every:function(e,t){for(var i,n=0,r=this.length,a=t||window;n<r;n++)if(i=this[n],!e.call(a,i,n,this))return!1;return!0},some:function(e,t){for(var i,n=0,r=this.length,a=t||window;n<r;n++)if(i=this[n],e.call(a,i,n,this))return!0;return!1},remove:function(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}});"undefined"!=typeof Symbol&&Symbol.iterator&&!R.prototype[Symbol.iterator]&&(R.prototype[Symbol.iterator]=[][Symbol.iterator]);var N=R.extend({init:function(e,t,i){s.fn.init.call(this),this.type=t||U,i&&(this._events=i);for(var n=0;n<e.length;n++)this[n]=e[n];this.length=n,this._parent=_(function(){return this},this)},at:function(e){var t=this[e];return t instanceof this.type?t.parent=this._parent:t=this[e]=this.wrap(t,this._parent),t}});function W(n,r,a,s){return function(e){var t,i={};for(t in e)i[t]=e[t];i.field=s?a+"."+e.field:a,r==f&&n._notifyChange&&n._notifyChange(i),n.trigger(r,i)}}var U=s.extend({init:function(e){function t(){return r}var i,n,r=this;for(n in s.fn.init.call(this),this._handlers={},e)"object"==typeof(i=e[n])&&i&&!i.getTime&&"_"!=n.charAt(0)&&(i=r.wrap(i,n,t)),r[n]=i;r.uid=p.guid()},shouldSerialize:function(e,t){return this.hasOwnProperty(e)&&"_handlers"!==e&&"_events"!==e&&(t&&t[e]||typeof this[e]!=h)&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(e){var t,i,n={};for(i in this)this.shouldSerialize(i,e)&&(((t=this[i])instanceof U||t instanceof R)&&(t=t.toJSON(e)),n[i]=t);return n},get:function(e){return this.trigger(u,{field:e}),"this"===e?this:p.getter(e,!0)(this)},_set:function(e,t){var i=0<=e.indexOf(".");if(i)for(var n=e.split("."),r="";1<n.length;){r+=n.shift();var a=p.getter(r,!0)(this);if(a instanceof U)return a.set(n.join("."),t),i;r+="."}return p.setter(e)(this,t),i},set:function(e,t){var i=this,n=!1,r=0<=e.indexOf("."),a=p.getter(e,!0)(i);return a!==t&&(a instanceof s&&this._handlers[e]&&(this._handlers[e].get&&a.unbind(u,this._handlers[e].get),a.unbind(f,this._handlers[e].change)),(n=i.trigger("set",{field:e,value:t}))||(r||(t=i.wrap(t,e,function(){return i})),(!i._set(e,t)||0<=e.indexOf("(")||0<=e.indexOf("["))&&i.trigger(f,{field:e}))),n},parent:o,wrap:function(e,t,i){var n,r,a=this,s=V.call(e);if(null!=e&&("[object Object]"===s||"[object Array]"===s)){var o=e instanceof R,l=e instanceof Ae;"[object Object]"!==s||l||o?("[object Array]"===s||o||l)&&(o||l||(e=new R(e)),r=W(a,f,t,!1),e.bind(f,r),a._handlers[t]={change:r}):(e instanceof U||(e=new U(e)),n=W(a,u,t,!0),e.bind(u,n),r=W(a,f,t,!0),e.bind(f,r),a._handlers[t]={get:n,change:r}),e.parent=i}return e}});var q={number:function(e){return typeof e===C&&"null"===e.toLowerCase()?null:p.parseFloat(e)},date:function(e){return typeof e===C&&"null"===e.toLowerCase()?null:p.parseDate(e)},boolean:function(e){return typeof e===C?"null"===e.toLowerCase()?null:"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return typeof e===C&&"null"===e.toLowerCase()?null:null!=e?e+"":e},default:function(e){return e}},j={string:"",number:0,date:new Date,boolean:!1,default:""};var G=U.extend({init:function(e){var t=this;if((!e||v.isEmptyObject(e))&&(e=v.extend({},t.defaults,e),t._initializers))for(var i=0;i<t._initializers.length;i++){var n=t._initializers[i];e[n]=t.defaults[n]()}U.fn.init.call(t,e),t.dirty=!1,t.dirtyFields={},t.idField&&(t.id=t.get(t.idField),t.id===w&&(t.id=t._defaultId))},shouldSerialize:function(e){return U.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"dirtyFields"!==e&&"_accessors"!==e},_parse:function(e,t){var i,n=e,r=this.fields||{};return(e=(e=r[e])||function(e,t){var i,n;for(n in e){if(i=e[n],b(i)&&i.field&&i.field===t)return i;if(i===t)return i}return null}(r,n))&&!(i=e.parse)&&e.type&&(i=q[e.type.toLowerCase()]),i?i(t):t},_notifyChange:function(e){var t=e.action;"add"!=t&&"remove"!=t||(this.dirty=!0,this.dirtyFields[e.field]=!0)},editable:function(e){return!(e=(this.fields||{})[e])||!1!==e.editable},set:function(e,t){var i=this,n=i.dirty;i.editable(e)&&(!function e(t,i){if(t===i)return 1;var n,r=v.type(t);if(r===v.type(i)){if("date"===r)return t.getTime()===i.getTime();if("object"===r||"array"===r){for(n in t)if(!e(t[n],i[n]))return;return 1}}}(t=i._parse(e,t),i.get(e))?(i.dirty=!0,i.dirtyFields[e]=!0,U.fn.set.call(i,e,t)&&!n&&(i.dirty=n,i.dirty||(i.dirtyFields[e]=!1))):i.trigger("equalSet",{field:e,value:t}))},accept:function(e){function t(){return n}var i,n=this;for(i in e){var r=e[i];"_"!=i.charAt(0)&&(r=n.wrap(e[i],i,t)),n._set(i,r)}n.idField&&(n.id=n.get(n.idField)),n.dirty=!1,n.dirtyFields={}},isNew:function(){return this.id===this._defaultId}});G.define=function(e,t){t===w&&(t=e,e=G);var i,n,r,a,s,o,l,u,c=g({defaults:{}},t),d={},p=c.id,h=[];if(p&&(c.idField=p),c.id&&delete c.id,p&&(c.defaults[p]=c._defaultId=""),"[object Array]"===V.call(c.fields)){for(o=0,l=c.fields.length;o<l;o++)typeof(r=c.fields[o])===C?d[r]={}:r.field&&(d[r.field]=r);c.fields=d}for(n in c.fields)a=(r=c.fields[n]).type||"default",s=null,u=n,n=typeof r.field===C?r.field:n,r.nullable||"function"==typeof(s=c.defaults[u!==n?u:n]=r.defaultValue!==w?r.defaultValue:j[a.toLowerCase()])&&h.push(n),t.id===n&&(c._defaultId=s),c.defaults[u!==n?u:n]=s,r.parse=r.parse||q[a];return 0<h.length&&(c._initializers=h),(i=e.extend(c)).define=function(e){return G.define(i,e)},c.fields&&(i.fields=c.fields,i.idField=c.idField),i};var Y={selector:function(e){return x(e)?e:I(e)},compare:function(e){var i=this.selector(e);return function(e,t){return e=i(e),t=i(t),null==e&&null==t?0:null==e?-1:null==t?1:e.localeCompare?e.localeCompare(t):t<e?1:e<t?-1:0}},create:function(e){var i=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,t){return i(t,e,!0)}:i},combine:function(a){return function(e,t){var i,n,r=a[0](e,t);for(i=1,n=a.length;i<n;i++)r=r||a[i](e,t);return r}}},$=g({},Y,{asc:function(e){var r=this.selector(e);return function(e,t){var i=r(e),n=r(t);return i&&i.getTime&&n&&n.getTime&&(i=i.getTime(),n=n.getTime()),i===n?e.__position-t.__position:null==i?-1:null==n?1:i.localeCompare?i.localeCompare(n):n<i?1:-1}},desc:function(e){var r=this.selector(e);return function(e,t){var i=r(e),n=r(t);return i&&i.getTime&&n&&n.getTime&&(i=i.getTime(),n=n.getTime()),i===n?e.__position-t.__position:null==i?1:null==n?-1:n.localeCompare?n.localeCompare(i):i<n?1:-1}},create:function(e){return this[e.dir](e.field)}});m=function(e,t){var i,n=e.length,r=new Array(n);for(i=0;i<n;i++)r[i]=t(e[i],i,e);return r};var K={quote:function(e){return e&&e.getTime?"new Date("+e.getTime()+")":Q(e)},eq:function(e,t,i,n){return X("==",e,t,i,n)},neq:function(e,t,i,n){return X("!=",e,t,i,n)},gt:function(e,t,i){return X(">",e,t,i)},gte:function(e,t,i){return X(">=",e,t,i)},lt:function(e,t,i){return X("<",e,t,i)},lte:function(e,t,i){return X("<=",e,t,i)},startswith:J(function(e,t){return e+".lastIndexOf("+t+", 0) == 0"}),doesnotstartwith:J(function(e,t){return e+".lastIndexOf("+t+", 0) == -1"}),endswith:J(function(e,t){return e+".indexOf("+t+", "+e+".length - "+(t?t.length-2:0)+") >= 0"}),doesnotendwith:J(function(e,t){return e+".indexOf("+t+", "+e+".length - "+(t?t.length-2:0)+") < 0"}),contains:J(function(e,t){return e+".indexOf("+t+") >= 0"}),doesnotcontain:J(function(e,t){return e+".indexOf("+t+") == -1"}),matches:J(function(e,t){return Z(t=t.substring(1,t.length-1))+".test("+e+")"}),doesnotmatch:J(function(e,t){return"!"+Z(t=t.substring(1,t.length-1))+".test("+e+")"}),isempty:function(e){return e+" === ''"},isnotempty:function(e){return e+" !== ''"},isnull:function(e){return"("+e+" == null)"},isnotnull:function(e){return"("+e+" != null)"},isnullorempty:function(e){return"("+e+" === null) || ("+e+" === '')"},isnotnullorempty:function(e){return"("+e+" !== null) && ("+e+" !== '')"}};function Q(e){return"string"==typeof e&&(e=e.replace(/[\r\n]+/g,"")),JSON.stringify(e)}function J(r){return function(e,t,i,n){return t+="",i&&(e="("+e+" + '').toString()"+(n?".toLocaleLowerCase('"+n+"')":".toLowerCase()"),t=n?t.toLocaleLowerCase(n):t.toLowerCase()),r(e,Q(t),i)}}function X(e,t,i,n,r){if(null!=i){if(typeof i===C){var a=B.exec(i);a?i=new Date(+a[1]):n?(i=Q(r?i.toLocaleLowerCase(r):i.toLowerCase()),t="(("+t+" || '')+'')"+(r?".toLocaleLowerCase('"+r+"')":".toLowerCase()")):i=Q(i)}i.getTime&&(t="("+t+"&&"+t+".getTime?"+t+".getTime():"+t+")",i=i.getTime())}return t+" "+e+" "+i}function Z(e){for(var t="/^",i=!1,n=0;n<e.length;++n){var r=e.charAt(n);if(i)t+="\\"+r;else{if("~"==r){i=!0;continue}"*"==r?t+=".*":"?"==r?t+=".":0<=".+^$()[]{}|\\/\n\r\u2028\u2029 ".indexOf(r)?t+="\\"+r:t+=r}i=!1}return t+"$/"}function ee(e){this.data=e||[]}function te(e,t){if(e){var i=typeof e===C?{field:e,dir:t}:e,n=y(i)?i:i!==w?[i]:[];return r(n,function(e){return!!e.dir})}}ee.filterExpr=function(e){var t,i,n,r,a,s,o=[],l=[],u=[],c=e.filters;for(t=0,i=c.length;t<i;t++)a=(n=c[t]).field,s=n.operator,n.filters?(n=(r=ee.filterExpr(n)).expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(u.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(l.length+t)+"]"}),u.push.apply(u,r.operators),l.push.apply(l,r.fields)):(typeof a==h?(r="__f["+l.length+"](d)",l.push(a)):r=p.expr(a),typeof s==h?(n="__o["+u.length+"]("+r+", "+K.quote(n.value)+")",u.push(s)):n=K[(s||"eq").toLowerCase()](r,n.value,n.ignoreCase===w||n.ignoreCase,e.accentFoldingFiltering)),o.push(n);return{expression:"("+o.join({and:" && ",or:" || "}[e.logic])+")",fields:l,operators:u}};var ie={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"};function ne(e){if(e&&!d(e))return!y(e)&&e.filters||(e={logic:"and",filters:y(e)?e:[e]}),function e(t){var i,n,r,a,s=t.filters;if(s)for(i=0,n=s.length;i<n;i++)(a=(r=s[i]).operator)&&typeof a===C&&(r.operator=ie[a.toLowerCase()]||a),e(r)}(e),e}function re(e){return d(e=e||{})?{logic:"and",filters:[]}:ne(e)}function ae(e,t){return t.logic||e.field>t.field?1:e.field<t.field?-1:0}function se(e,t,i,n){var r=typeof e===C?{field:e,dir:t,compare:i,skipItemSorting:n}:e,a=y(r)?r:r!==w?[r]:[];return m(a,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates,compare:e.compare,skipItemSorting:e.skipItemSorting}})}function oe(e,t,i){for(var n=se(e,t,i),r=0;r<n.length;r++)delete n[r].compare;return n}function le(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t}function ue(e,t,i,n,r,a){var s,o,l,u=(t=t||[]).length;for(s=0;s<u;s++){l=(o=t[s]).aggregate;var c=o.field;e[c]=e[c]||{},a[c]=a[c]||{},a[c][l]=a[c][l]||{},e[c][l]=ce[l.toLowerCase()](e[c][l],i,p.accessor(c),n,r,a[c][l])}}ee.normalizeFilter=ne,ee.compareFilters=function e(t,i){if(t=re(t),i=re(i),t.logic!==i.logic)return!1;var n,r,a,s,o=(t.filters||[]).slice(),l=(i.filters||[]).slice();if(o.length!==l.length)return!1;o=o.sort(ae),l=l.sort(ae);for(var u=0;u<o.length;u++)if(n=o[u],r=l[u],n.logic&&r.logic){if(!e(n,r))return!1}else if(s=r,(a=n).logic||s.logic||a.field!==s.field||a.value!==s.value||a.operator!==s.operator)return!1;return!0},ee.prototype={toArray:function(){return this.data},range:function(e,t){return new ee(this.data.slice(e,e+t))},skip:function(e){return new ee(this.data.slice(e))},take:function(e){return new ee(this.data.slice(0,e))},select:function(e){return new ee(m(this.data,e))},order:function(e,t,i){var n={dir:t};return e&&(e.compare?n.compare=e.compare:n.field=e),new ee(i?this.data.sort(Y.create(n)):this.data.slice(0).sort(Y.create(n)))},orderBy:function(e,t){return this.order(e,"asc",t)},orderByDescending:function(e,t){return this.order(e,"desc",t)},sort:function(e,t,i,n){var r,a,s=te(e,t),o=[];if(i=i||Y,s.length){for(r=0,a=s.length;r<a;r++)o.push(i.create(s[r]));return this.orderBy({compare:i.combine(o)},n)}return this},filter:function(e){var t,i,n,r,a,s,o,l,u=this.data,c=[];if(!(e=ne(e))||0===e.filters.length)return this;for(r=ee.filterExpr(e),s=r.fields,o=r.operators,a=l=new Function("d, __f, __o","return "+r.expression),(s.length||o.length)&&(l=function(e){return a(e,s,o)}),t=0,n=u.length;t<n;t++)l(i=u[t])&&c.push(i);return new ee(c)},group:function(i,n){i=se(i||[]),n=n||this.data;var r,e=new ee(this.data);return 0<i.length&&(r=i[0],e=e.groupBy(r).select(function(e){var t=new ee(n).filter([{field:e.field,operator:"eq",value:e.value,ignoreCase:!1}]);return{field:e.field,value:e.value,items:1<i.length?new ee(e.items).group(i.slice(1),t.toArray()).toArray():e.items,hasSubgroups:1<i.length,aggregates:t.aggregate(r.aggregates)}})),e},groupBy:function(e){if(d(e)||!this.data.length)return new ee([]);var t,i,n,r,a=e.field,s=e.skipItemSorting?this.data:this._sortForGrouping(a,e.dir||"asc"),o=p.accessor(a),l=o.get(s[0],a),u={field:a,value:l,items:[]},c=[u];for(n=0,r=s.length;n<r;n++)t=s[n],le(l,i=o.get(t,a))||(u={field:a,value:l=i,items:[]},c.push(u)),u.items.push(t);return new ee(c=this._sortGroups(c,e))},_sortForGrouping:function(e,t){var i,n,r=this.data;if(L)return this.sort(e,t).toArray();for(i=0,n=r.length;i<n;i++)r[i].__position=i;for(i=0,n=(r=new ee(r).sort(e,t,$).toArray()).length;i<n;i++)delete r[i].__position;return r},_sortGroups:function(e,t){var i=e;return t&&x(t.compare)&&(i=new ee(i).order({compare:t.compare},t.dir||"asc").toArray()),i},aggregate:function(e){var t,i,n={},r={};if(e&&e.length)for(t=0,i=this.data.length;t<i;t++)ue(n,e,this.data[t],t,i,r);return n}};var ce={sum:function(e,t,i){var n=i.get(t);return de(e)?de(n)&&(e+=n):e=n,e},count:function(e){return(e||0)+1},average:function(e,t,i,n,r,a){var s=i.get(t);return a.count===w&&(a.count=0),de(e)?de(s)&&(e+=s):e=s,de(s)&&a.count++,n==r-1&&de(e)&&(e/=a.count),e},max:function(e,t,i){var n=i.get(t);return de(e)||pe(e)||(e=n),e<n&&(de(n)||pe(n))&&(e=n),e},min:function(e,t,i){var n=i.get(t);return de(e)||pe(e)||(e=n),n<e&&(de(n)||pe(n))&&(e=n),e}};function de(e){return"number"==typeof e&&!isNaN(e)}function pe(e){return e&&e.getTime}function he(e){var t,i=e.length,n=new Array(i);for(t=0;t<i;t++)n[t]=e[t].toJSON();return n}ee.normalizeGroup=se,ee.normalizeSort=te,ee.process=function(e,t,i){var n,r,a=(t=t||{}).group,s=function(e){for(var t=y(e)?e:[e],i=0;i<t.length;i++)if(t[i]&&x(t[i].compare))return!0;return!1}(se(a||[])),o=new ee(e),l=oe(a||[]),u=te(t.sort||[]),c=s?u:l.concat(u),d=t.filterCallback,p=t.filter,h=t.skip,f=t.take;return c&&i&&(o=o.sort(c,w,w,i)),p&&(o=o.filter(p),d&&(o=d(o)),r=o.toArray().length),c&&(i||(o=o.sort(c)),a&&(e=o.toArray())),s?(o=o.group(a,e),h!==w&&f!==w&&(o=new ee(function e(t,i){var n=[];var r=(t||[]).length;var a;var s;var o=x(i)?i:function(e,t){return e[t]};for(var l=0;l<r;l++)if((a=o(t,l)).hasSubgroups)n=n.concat(e(a.items));else{s=a.items;for(var u=0;u<s.length;u++)n.push(o(s,u))}return n}(o.toArray())).range(h,f),n=m(l,function(e){return g({},e,{skipItemSorting:!0})}),o=o.group(n,e))):(h!==w&&f!==w&&(o=o.range(h,f)),a&&(o=o.group(a,e))),{total:r,data:o.toArray()}};var fe=e.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),me=e.extend({init:function(i){var n,e=this;i=e.options=g({},e.options,i),k(S,function(e,t){typeof i[t]===C&&(i[t]={url:i[t]})}),e.cache=i.cache?ge.create(i.cache):{find:o,add:o},n=i.parameterMap,i.submit&&(e.submit=i.submit),x(i.push)&&(e.push=i.push),e.push||(e.push=t),e.parameterMap=x(n)?n:function(e){var i={};return k(e,function(e,t){e in n&&(e=n[e],b(e)&&(t=e.value(t),e=e.key)),i[e]=t}),i}},options:{parameterMap:t},create:function(e){return i(this.setup(e,"create"))},read:function(t){var i,e,n=this.cache;t=this.setup(t,"read"),i=t.success||o,t.error,(e=n.find(t.data))!==w?i(e):(t.success=function(e){n.add(t.data,e),i(e)},v.ajax(t))},update:function(e){return i(this.setup(e,"update"))},destroy:function(e){return i(this.setup(e,n))},setup:function(e,t){e=e||{};var i,n=this.options[t],r=x(n.data)?n.data(e.data):n.data;return e=g(!0,{},n,e),i=g(!0,{},r,e.data),e.data=this.parameterMap(i,t),x(e.url)&&(e.url=e.url(i)),e}}),ge=e.extend({init:function(){this._store={}},add:function(e,t){e!==w&&(this._store[D(e)]=t)},find:function(e){return this._store[D(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[D(e)]}});function _e(e,t,i,n,r){var a,s,o,l,u,c={};for(l=0,u=e.length;l<u;l++)for(s in a=e[l],t)(o=r[s])&&o!==s&&(c[o]||(c[o]=p.setter(o)),c[o](a,t[s](a)),delete a[s])}function ve(e,t,i,n,r){var a,s,o,l,u;for(l=0,u=e.length;l<u;l++)for(s in a=e[l],t)a[s]=i._parse(s,t[s](a)),(o=r[s])&&o!==s&&delete a[o]}function we(e,t,i,n,r){var a,s,o,l;for(s=0,l=e.length;s<l;s++)(o=n[(a=e[s]).field])&&o!=a.field&&(a.field=o),a.value=i._parse(a.field,a.value),a.hasSubgroups?we(a.items,t,i,n,r):ve(a.items,t,i,0,r)}function be(t,i,n,r,a,s){return function(e){return e=t(e),ye(i,n,r,a,s)(e)}}function ye(t,i,n,r,a){return function(e){return e&&!d(n)&&("[object Array]"===V.call(e)||e instanceof R||(e=[e]),i(e,n,new t,r,a)),e||[]}}ge.create=function(e){var t={inmemory:function(){return new ge}};return b(e)&&x(e.find)?e:!0===e?new ge:t[e]()};var ke=e.extend({init:function(e){var t,i,n,r,a=this;for(t in e=e||{})i=e[t],a[t]=typeof i===C?I(i):i;r=e.modelBase||G,b(a.model)&&(a.model=n=r.define(a.model));var s=_(a.data,a);if(a._dataAccessFunction=s,a.model){var o,l,u=_(a.groups,a),c=_(a.serialize,a),d={},p={},h={},f={},m=!1;(n=a.model).fields&&(k(n.fields,function(e,t){var i;o=e,b(t)&&t.field?o=t.field:typeof t===C&&(o=t),b(t)&&t.from&&(i=t.from),m=m||i&&i!==e||o!==e,l=i||o,p[e]=-1!==l.indexOf(".")?I(l,!0):I(l),h[e]=I(e),d[i||o]=e,f[e]=i||o}),!e.serialize&&m&&(a.serialize=be(c,n,_e,h,d,f))),a._dataAccessFunction=s,a._wrapDataAccessBase=ye(n,ve,p,d,f),a.data=be(s,n,ve,p,d,f),a.groups=be(u,n,we,p,d,f)}},errors:function(e){return e?e.errors:null},parse:t,data:t,total:function(e){return e.length},groups:t,aggregates:function(){return{}},serialize:function(e){return e}});function xe(e){var t,i,n,r,a=[];for(t=0,i=e.length;t<i;t++){var s=e.at(t);if(s.hasSubgroups)a=a.concat(xe(s.items));else for(n=s.items,r=0;r<n.length;r++)a.push(n.at(r))}return a}function Ce(e,t,i,n){for(var r=0;r<e.length&&e[r].data!==t&&!Te(e[r].data,i,n);r++);}function Te(e,t,i){for(var n=0,r=e.length;n<r;n++){if(e[n]&&e[n].hasSubgroups)return Te(e[n].items,t,i);if(e[n]===t||e[n]===i)return e[n]=i,!0}}function Se(e,t){return t?De(e,function(e){return e.uid&&e.uid==t.uid||e[t.idField]===t.id&&t.id!==t._defaultId}):-1}function Ie(e,t){return t?De(e,function(e){return e.uid==t.uid}):-1}function De(e,t){var i,n;for(i=0,n=e.length;i<n;i++)if(t(e[i]))return i;return-1}function Fe(e,t){if(!e||d(e))return t;var i,n=e[t];return i=b(n)?n.from||n.field||t:e[t]||t,x(i)?t:i}function Ee(e,t){var i,n,r,a,s=[];for(i=0,n=e.length;i<n;i++){for(var o in r={},a=e[i])r[o]=a[o];r.field=Fe(t.fields,r.field),r.aggregates&&y(r.aggregates)&&(r.aggregates=Ee(r.aggregates,t)),s.push(r)}return s}var Ae=s.extend({init:function(e){var t,i=this;if(e&&(t=e.data),e=i.options=g({},i.options,e),i._map={},i._prefetch={},i._data=[],i._pristineData=[],i._ranges=[],i._view=[],i._pristineTotal=0,i._destroyed=[],i._pageSize=e.pageSize,i._page=e.page||(e.pageSize?1:w),i._sort=te(e.sort),i._filter=ne(e.filter),i._group=se(e.group),i._aggregate=e.aggregate,i._total=e.total,i._shouldDetachObservableParents=!0,s.fn.init.call(i),i.transport=Me.create(e,t,i),x(i.transport.push)&&i.transport.push({pushCreate:_(i._pushCreate,i),pushUpdate:_(i._pushUpdate,i),pushDestroy:_(i._pushDestroy,i)}),null!=e.offlineStorage)if("string"==typeof e.offlineStorage){var n=e.offlineStorage;i._storage={getItem:function(){return JSON.parse(localStorage.getItem(n))},setItem:function(e){localStorage.setItem(n,D(i.reader.serialize(e)))}}}else i._storage=e.offlineStorage;i.reader=new p.data.readers[e.schema.type||"json"](e.schema),i.reader.model,i._detachObservableParents(),i._data=i._observe(i._data),i._online=!0,i.bind(["push",a,f,l,"sync",T,c],e)},options:{data:null,schema:{modelBase:G},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1,inPlaceSort:!1},clone:function(){return this},online:function(e){return e!==w?this._online!=e&&(this._online=e)?this.sync():v.Deferred().resolve().promise():this._online},offlineData:function(e){return null==this.options.offlineStorage?null:e!==w?this._storage.setItem(e):this._storage.getItem()||[]},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var i=this._readData(e);i=i||e,this[t](i)},_flatData:function(e,t){if(e){if(this._isServerGrouped())return xe(e);if(!t)for(var i=0;i<e.length;i++)e.at(i)}return e},parent:o,get:function(e){var t,i,n=this._flatData(this._data,this.options.useRanges);for(t=0,i=n.length;t<i;t++)if(n[t].id==e)return n[t]},getByUid:function(e){return this._getByUid(e,this._data)},_getByUid:function(e,t){var i,n,r=this._flatData(t,this.options.useRanges);if(r)for(i=0,n=r.length;i<n;i++)if(r[i].uid==e)return r[i]},indexOf:function(e){return Ie(this._data,e)},at:function(e){return this._data.at(e)},data:function(e){var t=this;if(e===w){if(t._data)for(var i=0;i<t._data.length;i++)t._data.at(i);return t._data}t._detachObservableParents(),t._data=this._observe(e),t._pristineData=e.slice(0),t._storeData(),t._ranges=[],t.trigger("reset"),t._addRange(t._data),t._total=t._data.length,t._pristineTotal=t._total,t._process(t._data)},view:function(e){if(e===w)return this._view;this._view=this._observeView(e)},_observeView:function(e){var t=this;!function e(t,i,n,r,a){for(var s=0,o=t.length;s<o;s++){var l=t[s];if(l&&!(l instanceof r))if(l.hasSubgroups===w||a){for(var u=0;u<i.length;u++)if(i[u]===l){t[s]=i.at(u),Ce(n,i,l,t[s]);break}}else e(l.items,i,n,r,a)}}(e,t._data,t._ranges,t.reader.model||U,t._isServerGrouped());var i=new N(e,t.reader.model);return i.parent=function(){return t.parent()},i},flatView:function(){return(this.group()||[]).length?xe(this._view):this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):e instanceof U?e:new U(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof G||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,this._wrapInEmptyGroup(t)):this._data.splice(e,0,t),this._insertModelInRange(e,t),t},pushInsert:function(e,t){var i=this._getCurrentRangeSpan();t||(t=e,e=0),y(t)||(t=[t]);var n=[],r=this.options.autoSync;this.options.autoSync=!1;try{for(var a=0;a<t.length;a++){var s=t[a],o=this.insert(e,s);n.push(o);var l=o.toJSON();this._isServerGrouped()&&(l=this._wrapInEmptyGroup(l)),this._pristineData.push(l),i&&i.length&&v(i).last()[0].pristineData.push(l),e++}}finally{this.options.autoSync=r}n.length&&this.trigger("push",{type:"create",items:n})},pushCreate:function(e){this.pushInsert(this._data.length,e)},pushUpdate:function(e){y(e)||(e=[e]);for(var t=[],i=0;i<e.length;i++){var n=e[i],r=this._createNewModel(n),a=this.get(r.id);a?(t.push(a),a.accept(n),a.trigger(f),this._updatePristineForModel(a,n)):this.pushCreate(n)}t.length&&this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){var t=this._removeItems(e);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(e,t){y(e)||(e=[e]);var i=void 0===t||t,n=[],r=this.options.autoSync;this.options.autoSync=!1;try{for(var a=0;a<e.length;a++){var s=e[a],o=this._createNewModel(s),l=!1;this._eachItem(this._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);if(i.id===o.id){n.push(i),e.splice(t,1),l=!0;break}}}),l&&i&&(this._removePristineForModel(o),this._destroyed.pop())}}finally{this.options.autoSync=r}return n},remove:function(t){var i,n=this,r=n._isServerGrouped();return this._eachItem(n._data,function(e){if((i=function(e,t){var i,n,r=e.length;for(n=0;n<r;n++)if((i=e[n]).uid&&i.uid==t.uid)return e.splice(n,1),i}(e,t))&&r)return i.isNew&&i.isNew()||n._destroyed.push(i),!0}),this._removeModelFromRanges(t),t},destroyed:function(){return this._destroyed},created:function(){var e,t,i=[],n=this._flatData(this._data,this.options.useRanges);for(e=0,t=n.length;e<t;e++)n[e].isNew&&n[e].isNew()&&i.push(n[e]);return i},updated:function(){var e,t,i=[],n=this._flatData(this._data,this.options.useRanges);for(e=0,t=n.length;e<t;e++)n[e].isNew&&!n[e].isNew()&&n[e].dirty&&i.push(n[e]);return i},sync:function(){var i=this,e=[],t=[],n=i._destroyed,r=v.Deferred().resolve().promise();if(i.online()){if(!i.reader.model)return r;e=i.created(),t=i.updated();var a=[];i.options.batch&&i.transport.submit?a=i._sendSubmit(e,t,n):(a.push.apply(a,i._send("create",e)),a.push.apply(a,i._send("update",t)),a.push.apply(a,i._send("destroy",n))),r=v.when.apply(null,a).then(function(){var e,t;for(e=0,t=arguments.length;e<t;e++)arguments[e]&&i._accept(arguments[e]);i._storeData(!0),i._syncEnd(),i._change({action:"sync"}),i.trigger("sync")})}else i._storeData(!0),i._syncEnd(),i._change({action:"sync"});return r},_syncEnd:o,cancelChanges:function(e){var t=this;e instanceof p.data.Model?t._cancelModel(e):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._ranges=[],t._addRange(t._data,0),t._changesCanceled(),t._change(),t._markOfflineUpdatesAsDirty())},_changesCanceled:o,_markOfflineUpdatesAsDirty:function(){null!=this.options.offlineStorage&&this._eachItem(this._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);"update"!=i.__state__&&"create"!=i.__state__||(i.dirty=!0)}})},hasChanges:function(){var e,t,i=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return!0;for(e=0,t=i.length;e<t;e++)if(i[e].isNew&&i[e].isNew()||i[e].dirty)return!0;return!1},_accept:function(e){var t,i=this,n=e.models,r=e.response,a=0,s=i._isServerGrouped(),o=i._pristineData,l=e.type;if(i.trigger(T,{response:r,type:l}),r&&!d(r)){if(r=i.reader.parse(r),i._handleCustomErrors(r))return;r=i.reader.data(r),y(r)||(r=[r])}else r=v.map(n,function(e){return e.toJSON()});for("destroy"===l&&(i._destroyed=[]),a=0,t=n.length;a<t;a++)"destroy"!==l?(n[a].accept(r[a]),"create"===l?o.push(s?i._wrapInEmptyGroup(n[a].toJSON()):r[a]):"update"===l&&i._updatePristineForModel(n[a],r[a])):i._removePristineForModel(n[a])},_updatePristineForModel:function(e,i){this._executeOnPristineForModel(e,function(e,t){p.deepExtend(t[e],i)})},_executeOnPristineForModel:function(i,n){this._eachPristineItem(function(e){var t=Se(e,i);if(-1<t)return n(t,e),!0})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){return(this._isServerGrouped()?this.reader.groups:this.reader.data).call(this.reader,e)},_eachPristineItem:function(i){var n=this,e=n.options,t=n._getCurrentRangeSpan();n._eachItem(n._pristineData,i),e.serverPaging&&e.useRanges&&k(t,function(e,t){n._eachItem(t.pristineData,i)})},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?function e(t,i){for(var n=0;n<t.length;n++)if(t[n].hasSubgroups){if(e(t[n].items,i))return 1}else if(i(t[n].items,t[n]))return 1}(e,t):t(e))},_pristineForModel:function(t){var i,n;return this._eachPristineItem(function(e){if(-1<(n=Se(e,t)))return i=e[n],!0}),i},_cancelModel:function(i){var n=this,r=this._pristineForModel(i);this._eachItem(this._data,function(e){var t=Ie(e,i);0<=t&&(!r||i.isNew()&&!r.__state__?(n._modelCanceled(i),e.splice(t,1),n._removeModelFromRanges(i)):(e[t].accept(r),"update"==r.__state__&&(e[t].dirty=!0)))})},_modelCanceled:o,_submit:function(r,e){var a=this;a.trigger(l,{type:"submit"}),a.trigger(c),a.transport.submit(g({success:function(e,t){var i=v.grep(r,function(e){return e.type==t})[0];i&&i.resolve({response:e,models:i.models,type:t})},error:function(e,t,i){for(var n=0;n<r.length;n++)r[n].reject(e);a.error(e,t,i)}},e))},_sendSubmit:function(t,i,n){var e=this,r=[];return e.options.batch&&(t.length&&r.push(v.Deferred(function(e){e.type="create",e.models=t})),i.length&&r.push(v.Deferred(function(e){e.type="update",e.models=i})),n.length&&r.push(v.Deferred(function(e){e.type="destroy",e.models=n})),e._submit(r,{data:{created:e.reader.serialize(he(t)),updated:e.reader.serialize(he(i)),destroyed:e.reader.serialize(he(n))}})),r},_promise:function(e,t,i){var r=this;return v.Deferred(function(n){r.trigger(l,{type:i}),r.trigger(c),r.transport[i].call(r.transport,g({success:function(e){n.resolve({response:e,models:t,type:i})},error:function(e,t,i){n.reject(e),r.error(e,t,i)}},e))}).promise()},_send:function(e,t){var i,n,r=[],a=this.reader.serialize(he(t));if(this.options.batch)t.length&&r.push(this._promise({data:{models:a}},t,e));else for(i=0,n=t.length;i<n;i++)r.push(this._promise({data:a[i]},[t[i]],e));return r},read:function(e){var t=this,i=t._params(e),n=v.Deferred();return t._queueRequest(i,function(){var e=t.trigger(l,{type:"read"});e?(t._dequeueRequest(),n.resolve(e)):(t.trigger(c),t._ranges=[],t.trigger("reset"),t.online()?t.transport.read({data:i,success:function(e){t._ranges=[],t.success(e,i),n.resolve()},error:function(){var e=P.call(arguments);t.error.apply(t,e),n.reject.apply(n,e)}}):null!=t.options.offlineStorage&&(t.success(t.offlineData(),i),n.resolve()))}),n.promise()},_readAggregates:function(e){return this.reader.aggregates(e)},success:function(e){var t,i,n=this,r=n.options;if(n.trigger(T,{response:e,type:"read"}),n.online()){if(e=n.reader.parse(e),n._handleCustomErrors(e))return void n._dequeueRequest();n._total=n.reader.total(e),n._pageSize>n._total&&(n._pageSize=n._total,n.options.pageSize&&n.options.pageSize>n._pageSize&&(n._pageSize=n.options.pageSize)),n._aggregate&&r.serverAggregates&&(n._aggregateResult=n._readAggregates(e)),e=n._readData(e),n._destroyed=[]}else{e=n._readData(e),t=[];var a,s={},o=n.reader.model,l=o?o.idField:"id";for(a=0;a<this._destroyed.length;a++){var u=this._destroyed[a][l];s[u]=u}for(a=0;a<e.length;a++){var c=e[a];"destroy"==c.__state__?s[c[l]]||this._destroyed.push(this._createNewModel(c)):t.push(c)}e=t,n._total=e.length}if(n._pristineTotal=n._total,i=n._skip&&n._data.length&&n._skip<n._data.length,n.options.endless){i&&n._pristineData.splice(n._skip,n._pristineData.length),t=e.slice(0);for(var d=0;d<t.length;d++)n._pristineData.push(t[d])}else n._pristineData=e.slice(0);if(n._detachObservableParents(),n.options.endless){n._data.unbind(f,n._changeHandler),n._isServerGrouped()&&n._data[n._data.length-1].value===e[0].value&&(function e(t,i){var n,r;if(i.items&&i.items.length)for(var a=0;a<i.items.length;a++)n=t.items[a],r=i.items[a],n&&r?n.hasSubgroups?e(n,r):n.field&&n.value==r.value?n.items.push.apply(n.items,r.items):t.items.push.apply(t.items,[r]):r&&t.items.push.apply(t.items,[r])}(n._data[n._data.length-1],e[0]),e.shift()),e=n._observe(e),i&&n._data.splice(n._skip,n._data.length);for(var p=0;p<e.length;p++)n._data.push(e[p]);n._data.bind(f,n._changeHandler)}else n._data=n._observe(e);n._markOfflineUpdatesAsDirty(),n._storeData(),n._addRange(n._data),n._process(n._data),n._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;e<this._data.length;e++)this._data[e].parent&&(this._data[e].parent=o)},_storeData:function(e){var s=this._isServerGrouped(),o=this.reader.model;if(null!=this.options.offlineStorage){for(var t=function e(t){for(var i=[],n=0;n<t.length;n++){var r=t.at(n),a=r.toJSON();s&&r.items?a.items=e(r.items):(a.uid=r.uid,o&&(r.isNew()?a.__state__="create":r.dirty&&(a.__state__="update"))),i.push(a)}return i}(this._data),i=[],n=0;n<this._destroyed.length;n++){var r=this._destroyed[n].toJSON();r.__state__="destroy",i.push(r)}this.offlineData(t.concat(i)),e&&(this._pristineData=this.reader.reader?this.reader.reader._wrapDataAccessBase(t):this.reader._wrapDataAccessBase(t))}},_addRange:function(e,t){var i=this,n=void 0!==t?t:i._skip||0,r=n+i._flatData(e,!0).length;i._ranges.push({start:n,end:r,data:e,pristineData:e.toJSON(),timestamp:i._timeStamp()}),i._sortRanges()},_sortRanges:function(){this._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,i){this._dequeueRequest(),this.trigger(T,{}),this.trigger(a,{xhr:e,status:t,errorThrown:i})},_params:function(e){var t=this,i=g({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete i.take,delete i.skip,delete i.page,delete i.pageSize),t.options.serverGrouping?t.reader.model&&i.group&&(i.group=Ee(i.group,t.reader.model)):delete i.group,t.options.serverFiltering?t.reader.model&&i.filter&&(i.filter=function e(t,i){var n,r,a={};for(var s in t)"filters"!==s&&(a[s]=t[s]);if(t.filters)for(a.filters=[],n=0,r=t.filters.length;n<r;n++)a.filters[n]=e(t.filters[n],i);else a.field=Fe(i.fields,a.field);return a}(i.filter,t.reader.model)):delete i.filter,t.options.serverSorting?t.reader.model&&i.sort&&(i.sort=Ee(i.sort,t.reader.model)):delete i.sort,t.options.serverAggregates?t.reader.model&&i.aggregate&&(i.aggregate=Ee(i.aggregate,t.reader.model)):delete i.aggregate,i},_queueRequest:function(e,t){var i=this;i._requestInProgress?i._pending={callback:_(t,i),options:e}:(i._requestInProgress=!0,i._pending=w,t())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(a,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_shouldWrap:function(e){var t=this.reader.model;return!(!t||!e.length)&&!(e[0]instanceof t)},_observe:function(e){var t=this,i=t.reader.model;(t._shouldDetachObservableParents=!0,e instanceof R)?(t._shouldDetachObservableParents=!1,t._shouldWrap(e)&&(e.type=t.reader.model,e.wrapAll(e,e))):(e=new(t.pageSize()&&!t.options.serverPaging?N:R)(e,t.reader.model)).parent=function(){return t.parent()};return t._isServerGrouped()&&function e(t,i){var n,r,a;if(i)for(n=0,r=t.length;n<r;n++)(a=t.at(n)).hasSubgroups?e(a.items,i):a.items=new N(a.items,i,a.items._events)}(e,i),!(t._changeHandler&&t._data&&t._data instanceof R)||t.options.useRanges&&t.options.serverPaging?t._changeHandler=_(t._change,t):t._data.unbind(f,t._changeHandler),e.bind(f,t._changeHandler)},_updateTotalForAction:function(e,t){var i=this,n=parseInt(i._total,10);de(i._total)||(n=parseInt(i._pristineTotal,10)),"add"===e?n+=t.length:"remove"===e?n-=t.length:"itemchange"===e||"sync"===e||i.options.serverPaging?"sync"===e&&(n=i._pristineTotal=parseInt(i._total,10)):n=i._pristineTotal,i._total=n},_change:function(t){var e,i,n=this,r=t?t.action:"";if("remove"===r)for(e=0,i=t.items.length;e<i;e++)t.items[e].isNew&&t.items[e].isNew()||n._destroyed.push(t.items[e]);if(!n.options.autoSync||"add"!==r&&"remove"!==r&&"itemchange"!==r)n._updateTotalForAction(r,t?t.items:[]),n._process(n._data,t);else{var a=function(e){"sync"===e.action&&(n.unbind("change",a),n._updateTotalForAction(r,t.items))};n.first("change",a),n.sync()}},_calculateAggregates:function(e,t){t=t||{};var i=new ee(e),n=t.aggregate,r=t.filter;return r&&(i=i.filter(r)),i.aggregate(n)},_process:function(e,t){var i,n=this,r={};!0!==n.options.serverPaging&&(r.skip=n._skip,r.take=n._take||n._pageSize,r.skip===w&&n._page!==w&&n._pageSize!==w&&(r.skip=(n._page-1)*n._pageSize),n.options.useRanges&&(r.skip=n.currentRangeStart())),!0!==n.options.serverSorting&&(r.sort=n._sort),!0!==n.options.serverFiltering&&(r.filter=n._filter),!0!==n.options.serverGrouping&&(r.group=n._group),!0!==n.options.serverAggregates&&(r.aggregate=n._aggregate),n.options.serverGrouping&&n._clearEmptyGroups(e),i=n._queryProcess(e,r),!0!==n.options.serverAggregates&&(n._aggregateResult=n._calculateAggregates(i.dataToAggregate||e,r)),n.view(i.data),n._setFilterTotal(i.total,!1),(t=t||{}).items=t.items||n._view,n.trigger(f,t)},_clearEmptyGroups:function(e){for(var t=e.length-1;0<=t;t--){var i=e[t];i.hasSubgroups?this._clearEmptyGroups(i.items):i.items&&!i.items.length&&O.apply(i.parent(),[t,1])}},_queryProcess:function(e,t){return this.options.inPlaceSort?ee.process(e,t,this.options.inPlaceSort):ee.process(e,t)},_mergeState:function(e){var t,i=this;return e!==w&&(i._pageSize=e.pageSize,i._page=e.page,i._sort=e.sort,i._filter=e.filter,i._group=e.group,i._aggregate=e.aggregate,i._skip=i._currentRangeStart=e.skip,i._take=e.take,i._skip===w&&(i._skip=i._currentRangeStart=i.skip(),e.skip=i.skip()),i._take===w&&i._pageSize!==w&&(i._take=i._pageSize,e.take=i._take),e.sort&&(i._sort=e.sort=te(e.sort),i._sortFields=function(e,t){var i={};if(e)for(var n=typeof e===C?{field:e,dir:t}:e,r=y(n)?n:n!==w?[n]:[],a=0;a<r.length;a++)i[r[a].field]={dir:r[a].dir,index:a+1};return i}(e.sort)),e.filter&&(i._filter=e.filter=i.options.accentFoldingFiltering&&!v.isEmptyObject(e.filter)?v.extend({},ne(e.filter),{accentFoldingFiltering:i.options.accentFoldingFiltering}):ne(e.filter)),e.group&&(i._group=e.group=se(e.group)),e.aggregate&&(i._aggregate=e.aggregate=(t=e.aggregate,y(t)?t:[t]))),e},query:function(e){var t;if(this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates||(this._data===w||0===this._data.length)&&!this._destroyed.length){if(this.options.endless){var i=e.pageSize-this.pageSize();0<i?(i=this.pageSize(),e.page=e.pageSize/i,e.pageSize=i):(e.page=1,this.options.endless=!1)}return this.read(this._mergeState(e))}var n=this.trigger(l,{type:"read"});return n||(this.trigger(c),t=this._queryProcess(this._data,this._mergeState(e)),this._setFilterTotal(t.total,!0),this._aggregateResult=this._calculateAggregates(t.dataToAggregate||this._data,e),this.view(t.data),this.trigger(T,{type:"read"}),this.trigger(f,{items:t.data})),v.Deferred().resolve(n).promise()},_setFilterTotal:function(e,t){this.options.serverFiltering||(e!==w?this._total=e:t&&(this._total=this._data.length))},fetch:function(t){var i=this;return this._query().done(function(e){!0!==e&&x(t)&&t.call(i)})},_query:function(e){var t=this;return t.query(g({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var t=this,i=t.page(),n=t.total();if(e=e||{},i&&!(n&&i+1>t.totalPages()))return t._skip=t._currentRangeStart=i*t.take(),i+=1,e.page=i,t._query(e),i},prev:function(e){var t=this,i=t.page();if(e=e||{},i&&1!==i)return t._skip=t._currentRangeStart=t._skip-t.take(),--i,e.page=i,t._query(e),i},page:function(e){var t,i=this;return e!==w?(e=F.max(F.min(F.max(e,1),i.totalPages()),1),void i._query(i._pageableQueryOptions({page:e}))):(t=i.skip())!==w?F.round((t||0)/(i.take()||1))+1:w},pageSize:function(e){if(e===w)return this.take();this._query(this._pageableQueryOptions({pageSize:e,page:1}))},sort:function(e){return e!==w?(this.trigger("sort"),void this._query({sort:e})):this._sort},filter:function(e){if(e===w)return this._filter;this.trigger("reset"),this._query({filter:e,page:1})},group:function(e){if(e===w)return this._group;this._query({group:e})},total:function(){return parseInt(this._total||0,10)},aggregate:function(e){if(e===w)return this._aggregate;this._query({aggregate:e})},aggregates:function(){var e=this._aggregateResult;return d(e)&&(e=this._emptyAggregates(this.aggregate())),e},_emptyAggregates:function(e){var t={};if(!d(e)){var i={};y(e)||(e=[e]);for(var n=0;n<e.length;n++)i[e[n].aggregate]=0,t[e[n].field]=i}return t},_pageableQueryOptions:function(e){return e},_wrapInEmptyGroup:function(e){var t,i,n,r=this.group();for(n=r.length-1,0;0<=n;n--)i=r[n],t={value:e.get?e.get(i.field):e[i.field],field:i.field,items:t?[t]:[e],hasSubgroups:!!t,aggregates:this._emptyAggregates(i.aggregates)};return t},totalPages:function(){var e=this.pageSize()||this.total();return F.ceil((this.total()||0)/e)},inRange:function(e,t){var i=F.min(e+t,this.total());return!this.options.serverPaging&&0<this._data.length||0<this._findRange(e,i).length},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return(new Date).getTime()},range:function(e,t,i){this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,e=F.min(e||0,this.total()),i=x(i)?i:o;var n,r=this,a=F.max(F.floor(e/t),0)*t,s=F.min(a+t,r.total());if((n=r._findRange(e,F.min(e+t,r.total()))).length||0===r.total())return r._processRangeData(n,e,t,a,s),void i();t!==w&&(r._rangeExists(a,s)?a<e&&r.prefetch(s,t,function(){r.range(e,t,i)}):r.prefetch(a,t,function(){a<e&&s<r.total()&&!r._rangeExists(s,F.min(s+t,r.total()))?r.prefetch(s,t,function(){r.range(e,t,i)}):r.range(e,t,i)}))},_findRange:function(e,t){var i,n,r,a,s,o,l,u,c,d,p,h=this,f=h._ranges,m=[],g=h.options,_=g.serverSorting||g.serverPaging||g.serverFiltering||g.serverGrouping||g.serverAggregates;for(n=0,p=f.length;n<p;n++)if(e>=(i=f[n]).start&&e<=i.end){for(d=0,r=n;r<p;r++)if(i=f[r],(c=h._flatData(i.data,!0)).length&&e+d>=i.start){if(o=i.data,l=i.end,!_){if(g.inPlaceSort)u=h._queryProcess(i.data,{filter:h.filter()});else{var v=oe(h.group()||[]).concat(te(h.sort()||[]));u=h._queryProcess(i.data,{sort:v,filter:h.filter()})}c=o=u.data,u.total!==w&&(l=u.total)}if(a=0,e+d>i.start&&(a=e+d-i.start),s=c.length,t<l&&(s-=l-t),d+=s-a,m=h._mergeGroups(m,o,a,s),t<=i.end&&d==t-e)return m}break}return[]},_mergeGroups:function(e,t,i,n){if(this._isServerGrouped()){var r,a=t.toJSON();return e.length&&(r=e[e.length-1]),function e(t,i,n,r){for(var a,s,o=0;i.length&&r;){var l=(s=(a=i[o]).items).length;if(t&&t.field===a.field&&t.value===a.value?(t.hasSubgroups&&t.items.length?e(t.items[t.items.length-1],a.items,n,r):(s=s.slice(n,n+r),t.items=t.items.concat(s)),i.splice(o--,1)):(a.hasSubgroups&&s.length?e(a,s,n,r):(s=s.slice(n,n+r),a.items=s),a.items.length||i.splice(o--,1)),0===s.length?n-=l:(n=0,r-=s.length),++o>=i.length)break}o<i.length&&i.splice(o,i.length-o)}(r,a,i,n),e.concat(a)}return e.concat(t.slice(i,n))},_processRangeData:function(e,t,i,n,r){var a=this;a._pending=w,a._skip=t>a.skip()?F.min(r,(a.totalPages()-1)*a.take()):n,a._currentRangeStart=t,a._take=i;var s=a.options.serverPaging,o=a.options.serverSorting,l=a.options.serverFiltering,u=a.options.serverAggregates;try{a.options.serverPaging=!0,a._isServerGrouped()||a.group()&&a.group().length||(a.options.serverSorting=!0),a.options.serverFiltering=!0,a.options.serverPaging=!0,a.options.serverAggregates=!0,s&&(a._detachObservableParents(),a._data=e=a._observe(e)),a._process(e)}finally{a.options.serverPaging=s,a.options.serverSorting=o,a.options.serverFiltering=l,a.options.serverAggregates=u}},skip:function(){var e=this;return e._skip===w?e._page!==w?(e._page-1)*(e.take()||1):w:e._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(s,o,l,u){var c=this,d=c._timeStamp();return function(e){var t,i,n,r=!1,a={start:s,end:o,data:[],timestamp:c._timeStamp()};if(c._dequeueRequest(),c.trigger(T,{response:e,type:"read"}),e=c.reader.parse(e),(n=c._readData(e)).length){for(t=0,i=c._ranges.length;t<i;t++)if(c._ranges[t].start===s){r=!0,(a=c._ranges[t]).pristineData=n,a.data=c._observe(n),a.end=a.start+c._flatData(a.data,!0).length,c._sortRanges();break}r||c._addRange(c._observe(n),s)}c._total=c.reader.total(e),(u||d>=c._currentRequestTimeStamp||!c._skipRequestsInProgress)&&(l&&n.length?l():c.trigger(f,{}))}},prefetch:function(e,t,i){var n=this,r=F.min(e+t,n.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};n._rangeExists(e,r)?i&&i():(clearTimeout(n._timeout),n._timeout=setTimeout(function(){n._queueRequest(a,function(){n.trigger(l,{type:"read"})?n._dequeueRequest():n.transport.read({data:n._params(a),success:n._prefetchSuccessHandler(e,r,i),error:function(){var e=P.call(arguments);n.error.apply(n,e)}})})},100))},_multiplePrefetch:function(e,t,i){var n=this,r=F.min(e+t,n.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};n._rangeExists(e,r)?i&&i():n.trigger(l,{type:"read"})||n.transport.read({data:n._params(a),success:n._prefetchSuccessHandler(e,r,i,!0)})},_rangeExists:function(e,t){var i,n,r=this._ranges;for(i=0,n=r.length;i<n;i++)if(r[i].start<=e&&r[i].end>=t)return!0;return!1},_getCurrentRangeSpan:function(){var e,t,i=this._ranges,n=this.currentRangeStart(),r=n+(this.take()||0),a=[],s=i.length;for(t=0;t<s;t++)((e=i[t]).start<=n&&e.end>=n||e.start>=n&&e.start<=r)&&a.push(e);return a},_removeModelFromRanges:function(e){for(var t,i=0,n=this._ranges.length;i<n;i++)t=this._ranges[i],this._removeModelFromRange(t,e);this._updateRangesLength()},_removeModelFromRange:function(e,n){this._eachItem(e.data,function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.uid&&i.uid==n.uid){[].splice.call(e,t,1);break}}})},_insertModelInRange:function(e,t){var i,n,r=this,a=r._ranges||[],s=a.length;for(n=0;n<s;n++)if((i=a[n]).start<=e&&i.end>=e){r._getByUid(t.uid,i.data)||(r._isServerGrouped()?i.data.splice(e,0,r._wrapInEmptyGroup(t)):i.data.splice(e,0,t));break}r._updateRangesLength()},_updateRangesLength:function(){var e,t,i=this._ranges||[],n=i.length,r=!1,a=0,s=0;for(t=0;t<n;t++)e=i[t],s=this._flatData(e.data,!0).length-F.abs(e.end-e.start),r||0===s?r&&(e.start+=a,e.end+=a):(r=!0,a=s,e.end+=a)}}),Me={};Me.create=function(e,t,i){var n,r=e.transport?v.extend({},e.transport):null;return n=r?(r.read=typeof r.read===C?{url:r.read}:r.read,"jsdo"===e.type&&(r.dataSource=i),e.type&&(p.data.transports=p.data.transports||{},p.data.schemas=p.data.schemas||{},p.data.transports[e.type]?b(p.data.transports[e.type])?r=g(!0,{},p.data.transports[e.type],r):n=new p.data.transports[e.type](g(r,{data:t})):p.logToConsole("Unknown DataSource transport type '"+e.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),e.schema=g(!0,{},p.data.schemas[e.type],e.schema)),n||(x(r.read)?r:new me(r))):new fe({data:e.data||[]})},Ae.create=function(e){(y(e)||e instanceof R)&&(e={data:e});var t,i,n,r=e||{},a=r.data,s=r.fields,o=r.table,l=r.select,u={};if(a||!s||r.transport||(o?a=function(e,t){var i,n,r,a,s,o,l,u=v(e)[0].tBodies[0],c=u?u.rows:[],d=t.length,p=[];for(i=0,n=c.length;i<n;i++){for(s={},l=!0,a=c[i].cells,r=0;r<d;r++)"th"!==(o=a[r]).nodeName.toLowerCase()&&(l=!1,s[t[r].field]=o.innerHTML);l||p.push(s)}return p}(o,s):l&&(a=function(e,t){var i,n,r,a,s,o,l=(e=v(e)[0]).options,u=t[0],c=t[1],d=[];for(i=0,n=l.length;i<n;i++)s={},a=l[i],(r=a.parentNode)===e&&(r=null),a.disabled||r&&r.disabled||(r&&(s.optgroup=r.label),s[u.field]=a.text,o=(o=a.attributes.value)&&o.specified?a.value:a.text,s[c.field]=o,d.push(s));return d}(l,s),r.group===w&&a[0]&&a[0].optgroup!==w&&(r.group="optgroup"))),p.data.Model&&s&&(!r.schema||!r.schema.model)){for(t=0,i=s.length;t<i;t++)(n=s[t]).type&&(u[n.field]=n);d(u)||(r.schema=g(!0,r.schema,{model:{fields:u}}))}return r.data=a,l=null,o=r.select=null,r.table=null,r instanceof Ae?r:new Ae(r)};var Oe=G.define({idField:"id",init:function(e){var t=this,i=t.hasChildren||e&&e.hasChildren,n="items",r={};if(p.data.Model.fn.init.call(t,e),typeof t.children===C&&(n=t.children),r={schema:{data:n,model:{hasChildren:i,id:t.idField,fields:t.fields}}},typeof t.children!==C&&g(r,t.children),r.data=e,typeof(i=i||r.schema.data)===C&&(i=p.getter(i)),x(i)){var a=i.call(t,t);a&&0===a.length?t.hasChildren=!1:t.hasChildren=!!a}t._childrenOptions=r,t.hasChildren&&t._initChildren(),t._loaded=!(!e||!e._loaded)},_initChildren:function(){var e,t,i,n=this;n.children instanceof Pe||(t=(e=n.children=new Pe(n._childrenOptions)).transport,i=t.parameterMap,t.parameterMap=function(e,t){return e[n.idField||"id"]=n.id,i&&(e=i(e,t)),e},e.parent=function(){return n},e.bind(f,function(e){e.node=e.node||n,n.trigger(f,e)}),e.bind(a,function(e){var t=n.parent();t&&(e.node=e.node||n,t.trigger(a,e))}),n._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){this[this._childrenOptions.schema.data||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var e,t,i={},n="_query";return this.hasChildren?(this._initChildren(),e=this.children,i[this.idField||"id"]=this.id,this._loaded||(e._data=w,n="read"),e.one(f,_(this._childrenLoaded,this)),this._matchFilter&&(i.filter={field:"_matchFilter",operator:"eq",value:!0}),t=e[n](i)):this.loaded(!0),t||v.Deferred().resolve().promise()},parentNode:function(){return this.parent().parent()},loaded:function(e){if(e===w)return this._loaded;this._loaded=e},shouldSerialize:function(e){return G.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}});function He(i){return function(){var e=this._data,t=Ae.fn[i].apply(this,P.call(arguments));return this._data!=e&&this._attachBubbleHandlers(),t}}var Pe=Ae.extend({init:function(e){var t=Oe.define({children:e});e.filter&&!e.serverFiltering&&(this._hierarchicalFilter=e.filter,e.filter=null),Ae.fn.init.call(this,g(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var t=this;t._data.bind(a,function(e){t.trigger(a,e)})},read:function(e){var t=Ae.fn.read.call(this,e);return this._hierarchicalFilter&&(this._data&&0<this._data.length?this.filter(this._hierarchicalFilter):(this.options.filter=this._hierarchicalFilter,this._filter=ne(this.options.filter),this._hierarchicalFilter=null)),t},remove:function(e){var t,i=e.parentNode(),n=this;return i&&i._initChildren&&(n=i.children),t=Ae.fn.remove.call(n,e),i&&!n.data().length&&(i.hasChildren=!1),t},success:He("success"),data:He("data"),insert:function(e,t){var i=this.parent();return i&&i._initChildren&&(i.hasChildren=!0,i._initChildren()),Ae.fn.insert.call(this,e,t)},filter:function(e){if(e===w)return this._filter;!this.options.serverFiltering&&this._markHierarchicalQuery(e)&&(e={logic:"or",filters:[e,{field:"_matchFilter",operator:"equals",value:!0}]}),this.trigger("reset"),this._query({filter:e,page:1})},_markHierarchicalQuery:function(e){var t,i,n,r,a,s=this.options.accentFoldingFiltering;return(e=s?v.extend({},ne(e),{accentFoldingFiltering:s}):ne(e))&&0!==e.filters.length?(t=ee.filterExpr(e),n=t.fields,r=t.operators,i=a=new Function("d, __f, __o","return "+t.expression),(n.length||r.length)&&(a=function(e){return i(e,n,r)}),this._updateHierarchicalFilter(a),!0):(this._updateHierarchicalFilter(function(){return!0}),!1)},_updateHierarchicalFilter:function(e){for(var t,i=this._data,n=!1,r=0;r<i.length;r++)(t=i[r]).hasChildren?(t._matchFilter=t.children._updateHierarchicalFilter(e),t._matchFilter||(t._matchFilter=e(t))):t._matchFilter=e(t),t._matchFilter&&(n=!0);return n},_find:function(e,t){var i,n,r,a,s=this._data;if(s){if(r=Ae.fn[e].call(this,t))return r;for(i=0,n=(s=this._flatData(this._data)).length;i<n;i++)if((a=s[i].children)instanceof Pe&&(r=a[e](t)))return r}},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}});Pe.create=function(e){var t=(e=e&&e.push?{data:e}:e)||{},i=t.data,n=t.fields,r=t.list;return i&&i._dataSource?i._dataSource:(i||!n||t.transport||r&&(i=function e(t,i){var n,r,a,s,o,l,u,c,d=v(t).children(),p=[],h=i[0].field,f=i[1]&&i[1].field,m=i[2]&&i[2].field,g=i[3]&&i[3].field;function _(e,t){return e.filter(t).add(e.find(t))}for(n=0,r=d.length;n<r;n++)a={_loaded:!0},l=(s=d.eq(n))[0].firstChild,t=(c=s.children()).filter("ul"),c=c.filter(":not(ul)"),(o=s.attr("data-id"))&&(a.id=o),l&&(a[h]=3==l.nodeType?l.nodeValue:c.text()),f&&(a[f]=_(c,"a").attr("href")),g&&(a[g]=_(c,"img").attr("src")),m&&(u=_(c,".k-sprite").prop("className"),a[m]=u&&v.trim(u.replace("k-sprite",""))),t.length&&(a.items=e(t.eq(0),i)),"true"==s.attr("data-hasChildren")&&(a.hasChildren=!0),p.push(a);return p}(r,n)),t.data=i,t instanceof Pe?t:new Pe(t))};var ze=p.Observable.extend({init:function(e,t,i){p.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!i;var n=this;e.bind("change",function(){n._change()}),e.bind("reset",function(){n._reset()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var t=this.pageSize,i=!0;return e>=this.total()?(this.trigger("endreached",{index:e}),null):this.useRanges?this.useRanges?((e<this.dataOffset||e>=this.skip+t)&&(i=this.range(Math.floor(e/t)*t)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange,!0):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),i?this.dataSource.at(e-this.dataOffset):(this.trigger("endreached",{index:e}),null)):void 0:this.dataSource.view()[e]},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,i=e.skip-e.viewSize+t,n=F.max(F.floor(i/t),0)*t;this.offset=i,this.dataSource.prefetch(n,t,function(){e._goToRange(i,!0)})},range:function(e,t){if(this.offset===e)return!0;var i=this,n=this.pageSize,r=F.max(F.floor(e/n),0)*n,a=this.dataSource;return t&&(r+=n),a.inRange(e,n)?(this.offset=e,this._recalculate(),this._goToRange(e),!0):!this.prefetch||(a.prefetch(r,n,function(){i.offset=e,i._recalculate(),i._goToRange(e,!0)}),!1)},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,i=this.skip+t,n=this.dataSource;n.inRange(i,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:i,take:t}),n.prefetch(i,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:i,take:t})}))},_goToRange:function(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var e=this.dataSource;this.length=this.useRanges?e.lastRange().end:e.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()||0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,i=this.viewSize,n=Math.ceil(t/e)*e;this.skip=n,this.midPageThreshold=n+e-1,this.nextPageThreshold=n+i-1,this.prefetchThreshold=n+Math.floor(e/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=n+e-i,this.nextFullRange=n,this.previousMidRange=t-i,this.previousFullRange=n-e}}),Ve=p.Observable.extend({init:function(e,t){var i=this;p.Observable.fn.init.call(i),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new ze(e,3*t),this.buffer.bind({endreached:function(e){i.trigger("endreached",{index:e.index})},prefetching:function(e){i.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){i.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){i._total=0,i.trigger("reset")},resize:function(){i._total=Math.ceil(this.length/i.batchSize),i.trigger("resize",{total:i.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var t,i=this.buffer,n=e*this.batchSize,r=this.batchSize,a=[];i.offset>n&&i.at(i.offset-1);for(var s=0;s<r&&null!==(t=i.at(n+s));s++)a.push(t);return a},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}});g(!0,p.data,{readers:{json:ke},Query:ee,DataSource:Ae,HierarchicalDataSource:Pe,Node:Oe,ObservableObject:U,ObservableArray:R,LazyObservableArray:N,LocalTransport:fe,RemoteTransport:me,Cache:ge,DataReader:ke,Model:G,Buffer:ze,BatchBuffer:Ve})}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.button",["kendo.core","kendo.badge"],function(){var e={id:"button",name:"Button",category:"web",description:"The Button widget displays styled buttons.",depends:["core","badge"]};return function(u){var n=window.kendo,r=n.ui.Widget,a=n.ui,s=u.proxy,t=n.keys,o="click",l=n.support.mousedown,c=n.support.mouseup,d=".kendoButton",p="disabled",i="k-state-focused",h="k-state-active",e=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t),e=i.wrapper=i.element,t=i.options,e.addClass("k-button").attr("role","button"),t.enable=t.enable&&t.enabled&&!e.attr(p),i.enable(t.enable),t.enable&&i._tabindex(),t.badge&&i.createBadge(t.badge),i.iconElement(),e.on(o+d,s(i._click,i)).on("focus"+d,s(i._focus,i)).on("blur"+d,s(i._blur,i)).on("keydown"+d,s(i._keydown,i)).on("keyup"+d,s(i._removeActive,i)).on(l+d,s(i._addActive,i)).on(c+d+" mouseout"+d,s(i._removeActive,i)),n.notify(i)},destroy:function(){this.wrapper.off(d),this.badge&&this.badge.destroy(),r.fn.destroy.call(this)},events:[o],options:{name:"Button",icon:"",iconClass:"",spriteCssClass:"",imageUrl:"",enable:!0,enabled:!0},_isNativeButton:function(){return"button"==this.element.prop("tagName").toLowerCase()},_click:function(e){this.options.enable&&this.trigger(o,{event:e})&&e.preventDefault()},_focus:function(){this.options.enable&&this.element.addClass(i)},_blur:function(){var e=this;e.element.removeClass(i),setTimeout(function(){e.element.removeClass(h)})},_keydown:function(e){e.keyCode!=t.ENTER&&e.keyCode!=t.SPACEBAR||(this._addActive(),this._isNativeButton()||(e.keyCode==t.SPACEBAR&&e.preventDefault(),this._click(e)))},_removeActive:function(){this.element.removeClass(h)},_addActive:function(){this.options.enable&&this.element.addClass(h)},iconElement:function(){var e,t,i,n=this.element,r=this.options,a=r.icon,s=r.iconClass,o=r.spriteCssClass,l=r.imageUrl;(o||l||a||s)&&(i=!0,n.contents().filter(function(){return!u(this).hasClass("k-sprite")&&!u(this).hasClass("k-icon")&&!u(this).hasClass("k-image")}).each(function(e,t){(1==t.nodeType||3==t.nodeType&&0<u.trim(t.nodeValue).length)&&(i=!1)}),i?n.addClass("k-button-icon"):n.addClass("k-button-icontext")),l?((t=n.children("img.k-image").first())[0]||(t=u('<img alt="icon" class="k-image" />').prependTo(n)),t.attr("src",l)):a||s?((e=n.children("span.k-icon").first())[0]||(e=u("<span></span>").prependTo(n)),e.attr("class",a?"k-icon k-i-"+a:s)):o&&((e=n.children("span.k-sprite").first())[0]||(e=u('<span class="k-sprite"></span>').prependTo(n)),e.addClass(o))},enable:function(e){var t=this.element;void 0===e&&(e=!0),e=!!e,this.options.enable=e,t.toggleClass("k-state-disabled",!e).attr("aria-disabled",!e).attr(p,!e),e&&this._tabindex();try{t.blur()}catch(e){}},createBadge:function(e){var t=this,i=u("<span />").appendTo(t.element);!1!==e.overlay&&t.element.addClass("k-badge-overlay"),t.badge="string"==typeof e||"number"==typeof e?new a.Badge(i,{value:e}):"boolean"==typeof e?new a.Badge(i):new a.Badge(i,e)}});n.ui.plugin(e)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.calendar",["kendo.core","kendo.selectable"],function(){var e={id:"calendar",name:"Calendar",category:"web",description:"The Calendar widget renders a graphical calendar that supports navigation and selection.",depends:["core","selectable"]};return function(v,w){var C=window.kendo,e=C.support,t=C.ui,a=t.Widget,g=C.keys,s=C.parseDate,T=C.date.adjustDST,S=C.date.weekInYear,r=C.ui.Selectable,o=C._extractFormat,l=C.template,u=C.getCulture,i=C.support.transitions,c=i?i.css+"transform-origin":"",b=l('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),y=l('<td role="gridcell" class="k-out-of-range"><a class="k-link"></a></td>',{useWithBlock:!1}),k=l('<td role="gridcell" class="k-out-of-range">&nbsp;</td>',{useWithBlock:!1}),x=l('<td class="k-alt">#= data.weekNumber #</td>',{useWithBlock:!1}),n=C.support.browser,d=n.msie&&n.version<9,p=C._outerWidth,h=".kendoCalendar",f="click"+h,m="slideIn",_="month",I="century",D="change",F="navigate",E="value",A="k-state-hover",M="k-state-disabled",O="k-state-focused",H="k-other-month",P=' class="'+H+'"',z="k-nav-today",V="td:has(.k-link)",L="td:has(.k-link):not(."+M+"):not(.k-out-of-range)",B="k-state-selected",R="blur"+h,N="focus"+h,W=e.touch?"touchstart":"mouseenter",U=e.touch?"touchstart"+h:"mouseenter"+h,q=e.touch?"touchend"+h+" touchmove"+h:"mouseleave"+h,j="_prevArrow",G="_nextArrow",Y="aria-disabled",$="aria-selected",K="aria-label",Q=v.proxy,J=v.extend,X=Date,Z={month:0,year:1,decade:2,century:3},ee=a.extend({init:function(e,n){var t,i,r=this;a.fn.init.call(r,e,n),e=r.wrapper=r.element,(n=r.options).url=C.unescape(n.url),r.options.disableDates=we(r.options.disableDates),r._templates(),r._selectable(),r._header(),r._viewWrapper(),r._footer(r.footer),(i=e.addClass("k-widget k-calendar "+(n.weekNumber?" k-week-number":"")).on(U+" "+q,V,pe).on("keydown.kendoCalendar","table.k-content",Q(r._move,r)).on(f+" touchend",V,function(e){var t=e.currentTarget.firstChild,i=ye(t);-1!=t.href.indexOf("#")&&e.preventDefault(),"month"==r._view.name&&r.options.disableDates(i)||"month"==r._view.name&&"single"!=n.selectable||r._click(v(t))}).on("mouseup"+h,"table.k-content, .k-footer",function(){r._focusView(!1!==r.options.focusOnNav)}).attr("id"))&&(r._cellID=i+"_cell_selected"),r._isMultipleSelection()&&r.options.weekNumber&&e.on(f,"td:not(:has(.k-link))",function(e){var t=v(e.currentTarget).closest("tr").find(L).first(),i=r.selectable._lastActive=v(e.currentTarget).closest("tr").find(L).last();r.selectable.selectRange(t,i,{event:e}),r._current=r._value=ye(i.find("a")),r._class(O,r._current)}),ge(n),t=s(n.value,n.format,n.culture),r._selectDates=[],r._index=Z[n.start],r._current=new X(+se(t,n.min,n.max)),r._addClassProxy=function(){if(r._active=!0,r._cell.hasClass(M)){var e=r._view.toDateString(ae());r._cell=r._cellByDate(e)}r._cell.addClass(O)},r._removeClassProxy=function(){r._active=!1,r._cell.removeClass(O)},r.value(t),r._isMultipleSelection()&&0<n.selectDates.length&&r.selectDates(n.selectDates),C.notify(r)},options:{name:"Calendar",value:null,min:new X(1900,0,1),max:new X(2099,11,31),dates:[],disableDates:null,url:"",culture:"",footer:"",format:"",month:{},weekNumber:!1,selectable:"single",selectDates:[],start:_,depth:_,animation:{horizontal:{effects:m,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:""}},events:[D,F],setOptions:function(e){var t=this;ge(e),e.disableDates=we(e.disableDates),t._destroySelectable(),a.fn.setOptions.call(t,e),t._templates(),t._selectable(),t._viewWrapper(),t._footer(t.footer),t._index=Z[t.options.start],t.navigate(),e.weekNumber&&t.element.addClass("k-week-number")},destroy:function(){var e=this,t=e._today;e.element.off(h),e._title.off(h),e[j].off(h),e[G].off(h),e._destroySelectable(),C.destroy(e._table),t&&C.destroy(t.off(h)),a.fn.destroy.call(e)},current:function(){return this._current},view:function(){return this._view},focus:function(e){e=e||this._table,this._bindTable(e),e.trigger("focus")},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate(j,-1)},navigateToFuture:function(){this._navigate(G,1)},navigateUp:function(){var e=this._index;this._title.hasClass(M)||this.navigate(this._current,++e)},navigateDown:function(e){var t=this,i=t._index,n=t.options.depth;e&&(i!==Z[n]?t.navigate(e,--i):be(t._value,t._current)&&be(t._value,e)||(t.value(e),t.trigger(D)))},navigate:function(e,t){t=isNaN(t)?Z[t]:t;var i,n,r,a,s=this,o=s.options,l=o.culture,u=o.min,c=o.max,d=s._title,p=s._table,h=s._oldTable,f=s._current,m=e&&+f<+e,g=t!==w&&t!==s._index;if(e=e||f,s._current=e=new X(+se(e,u,c)),t===w?t=s._index:s._index=t,s._view=n=te.views[t],r=n.compare,a=t===Z[I],d.toggleClass(M,a).attr(Y,a),a=r(e,u)<1,s[j].toggleClass(M,a).attr(Y,a),s[j].hasClass(M)&&s[j].removeClass(A),a=-1<r(e,c),s[G].toggleClass(M,a).attr(Y,a),s[G].hasClass(M)&&s[G].removeClass(A),p&&h&&h.data("animating")&&(h.kendoStop(!0,!0),p.kendoStop(!0,!0)),!(s._oldTable=p)||s._changeView){d.html(n.title(e,u,c,l)),s._table=i=v(n.content(J({min:u,max:c,date:e,url:o.url,dates:o.dates,format:o.format,otherMonth:!0,culture:l,disableDates:o.disableDates,isWeekColumnVisible:o.weekNumber,messages:o.messages},s[n.name]))),ve(i,n.name),_e(i);var _=p&&p.data("start")===i.data("start");s._animate({from:p,to:i,vertical:g,future:m,replace:_}),s.trigger(F),s._focus(e)}t===Z[o.depth]&&0<s._selectDates.length&&s._visualizeSelectedDatesInView(),"single"===s.options.selectable&&t===Z[o.depth]&&s._value&&!s.options.disableDates(s._value)&&s._class("k-state-selected",s._value),s._class(O,e),!p&&s._cell&&s._cell.removeClass(O),s._changeView=!0},selectDates:function(e){var t,i,n=this;if(e===w)return n._selectDates;i=e.map(function(e){return e.getTime()}).filter(function(e,t,i){return i.indexOf(e)===t}).map(function(e){return new Date(e)}),t=v.grep(i,function(e){if(e)return+n._validateValue(new Date(e.setHours(0,0,0,0)))==+e}),n._selectDates=0<t.length?t:0===i.length?i:n._selectDates,n._visualizeSelectedDatesInView()},value:function(e){var t=this,i=t._view,n=t._view;if(e===w)return t._value;if((e=t._validateValue(e))&&t._isMultipleSelection()){var r=new Date(+e);r.setHours(0,0,0,0),t._selectDates=[r],t.selectable._lastActive=null}i&&null===e&&t._cell?t._cell.removeClass(B):(t._changeView=!e||n&&0!==n.compare(e,t._current),t.navigate(e))},_validateValue:function(e){var t=this,i=t.options,n=i.min,r=i.max;return null===e&&(t._current=fe(t._current.getFullYear(),t._current.getMonth(),t._current.getDate())),null!==(e=s(e,i.format,i.culture))&&(oe(e=new X(+e),n,r)||(e=null)),null!==e&&t.options.disableDates(new Date(+e))?t._value===w&&(t._value=null):t._value=e,t._value},_visualizeSelectedDatesInView:function(){var i={};v.each(this._selectDates,function(e,t){i[C.calendar.views[0].toDateString(t)]=t}),this.selectable.clear();var e=this._table.find(V).filter(function(e,t){return i[v(t.firstChild).attr(C.attr(E))]});0<e.length&&this.selectable._selectElement(e,!0)},_isMultipleSelection:function(){return"multiple"===this.options.selectable},_selectable:function(){var e=this;if(e._isMultipleSelection()){var t=e.options.selectable,i=r.parseOptions(t);i.multiple&&e.element.attr("aria-multiselectable","true"),e.selectable=new r(e.wrapper,{aria:!0,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:i.multiple,filter:"table.k-month:eq(0) "+L,change:Q(e._onSelect,e),relatedTarget:Q(e._onRelatedTarget,e)})}},_onRelatedTarget:function(e){this.selectable.options.multiple&&e.is(L)&&(this._current=ye(e.find("a")),this._class(O,ye(e.find("a"))))},_onSelect:function(e){var n=this,t=e;r.parseOptions(n.options.selectable).multiple?(t.event.ctrlKey||t.event.metaKey?v(t.event.currentTarget).is(L)?n._toggleSelection(v(t.event.currentTarget)):(n._cellsBySelector(L).each(function(e,t){var i=ye(v(t).find("a"));n._deselect(i)}),n._addSelectedCellsToArray()):t.event.shiftKey?n._rangeSelection(n._cell):v(t.event.currentTarget).is(V)?n.value(ye(v(t.event.currentTarget).find("a"))):(n._selectDates=[],n._addSelectedCellsToArray()),n.trigger(D)):v(t.event.currentTarget).is("td")&&!v(t.event.currentTarget).hasClass("k-state-selected")?v(t.event.currentTarget).addClass("k-state-selected"):n._click(v(t.event.currentTarget).find("a"))},_destroySelectable:function(){this.selectable&&(this.selectable.destroy(),this.selectable=null)},_toggleSelection:function(e){var t=ye(e.find("a"));e.hasClass("k-state-selected")?this._selectDates.push(t):this._deselect(t)},_rangeSelection:function(e,t){var i,n=this,r=t||ye(n.selectable.value().first().find("a")),a=ye(e.find("a"));n.selectable._lastActive||n._value?r=n.selectable._lastActive?ye(n.selectable._lastActive.find("a")):new Date(+n._value):n.selectable._lastActive=t?n._cellByDate(n._view.toDateString(t),L):n.selectable.value().first(),n._selectDates=[],i=ce(r,a),de(n._selectDates,i,r,n.options.disableDates),n._visualizeSelectedDatesInView()},_cellsBySelector:function(e){return this._table.find(e)},_addSelectedCellsToArray:function(){var n=this;n.selectable.value().each(function(e,t){var i=ye(v(t.firstChild));n.options.disableDates(i)||n._selectDates.push(i)})},_deselect:function(e){var t=this._selectDates.map(Number).indexOf(+e);-1!=t&&this._selectDates.splice(t,1)},_dateInView:function(e){var t=ye(this._cellsBySelector(L+":first").find("a"));return+e<=+ye(this._cellsBySelector(L+":last").find("a"))&&+t<=+e},_isNavigatable:function(e,t){var i,n=this.options.disableDates;return"month"==this._view.name?!n(e):(i=this.wrapper.find("."+O).index(),this.wrapper.find(".k-content td:eq("+(i+t)+")").is(L)||!n(e))},_move:function(e){var t,i,n,r,a=this,s=a.options,o=e.keyCode,l=a._view,u=a._index,c=a.options.min,d=a.options.max,p=new X(+a._current),h=C.support.isRtl(a.wrapper),f=a.options.disableDates;if(e.target===a._table[0]&&(a._active=!0),o==g.RIGHT&&!h||o==g.LEFT&&h?(t=1,i=!0):o==g.LEFT&&!h||o==g.RIGHT&&h?(t=-1,i=!0):o==g.UP?(t=0===u?-7:-4,i=!0):o==g.DOWN?(t=0===u?7:4,i=!0):o==g.SPACEBAR?i=!(t=0):o!=g.HOME&&o!=g.END||(r=l[n=o==g.HOME?"first":"last"](p),(p=new X(r.getFullYear(),r.getMonth(),r.getDate(),p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())).setFullYear(r.getFullYear()),i=!0),e.ctrlKey||e.metaKey){if(o==g.RIGHT&&!h||o==g.LEFT&&h)a.navigateToFuture(),i=!0;else if(o==g.LEFT&&!h||o==g.RIGHT&&h)a.navigateToPast(),i=!0;else if(o==g.UP)a.navigateUp(),i=!0;else if(o==g.DOWN)a._click(v(a._cell[0].firstChild)),i=!0;else if((o==g.ENTER||o==g.SPACEBAR)&&a._isMultipleSelection()){a._keyboardToggleSelection(e);var m=ye(v(a._cell[0]).find("a"));a._class(O,m)}}else e.shiftKey?t===w&&!n||(n||l.setDate(p,t),oe(p,c,d)||(p=se(p,s.min,s.max)),f(p)&&(p=a._nextNavigatable(p,t)),c=fe(c.getFullYear(),c.getMonth(),c.getDate()),a._isMultipleSelection()?a._keyboardRangeSelection(e,p):a._focus(p)):(o==g.ENTER||o==g.SPACEBAR?("month"==l.name&&a._isMultipleSelection()?(a.value(ye(v(a._cell.find("a")))),a.selectable._lastActive=v(a._cell[0]),a.trigger(D)):a._click(v(a._cell[0].firstChild)),i=!0):o==g.PAGEUP?(i=!0,a.navigateToPast()):o==g.PAGEDOWN&&(i=!0,a.navigateToFuture()),(t||n)&&(n||l.setDate(p,t),oe(p,c=fe(c.getFullYear(),c.getMonth(),c.getDate()),d)||(p=se(p,s.min,s.max)),a._isNavigatable(p,t)||(p=a._nextNavigatable(p,t)),a._isMultipleSelection()?a._dateInView(p)?(a._current=p,a._class(O,p)):a.navigate(p):a._focus(p)));return i&&e.preventDefault(),a._current},_keyboardRangeSelection:function(e,t){var i,n,r=this;if(!r._dateInView(t))return r._selectDates=[],n=ce(i=r.selectable._lastActive?ye(r.selectable._lastActive.find("a")):t,new Date(+t)),de(r._selectDates,n,i,r.options.disableDates),r.navigate(t),r._current=t,r.selectable._lastActive=r.selectable._lastActive||r._cellByDate(r._view.toDateString(t),L),void r.trigger(D);r.selectable.options.filter=1<r.wrapper.find("table").length&&+t>+r._current?"table.k-month:eq(1) "+L:"table.k-month:eq(0) "+L,r._class(O,t),r._current=t,r._rangeSelection(r._cellByDate(r._view.toDateString(t),L),t),r.trigger(D),r.selectable.options.filter="table.k-month:eq(0) "+L},_keyboardToggleSelection:function(e){var t=this;e.currentTarget=t._cell[0],t.selectable._lastActive=v(t._cell[0]),v(t._cell[0]).hasClass(B)?(t.selectable._unselect(v(t._cell[0])),t.selectable.trigger(D,{event:e})):t.selectable.value(v(t._cell[0]),{event:e})},_nextNavigatable:function(e,t){var i=!0,n=this._view,r=this.options.min,a=this.options.max,s=this.options.disableDates,o=new Date(e.getTime());for(n.setDate(o,-t);i;){if(n.setDate(e,t),!oe(e,r,a)){e=o;break}i=s(e)}return e},_animate:function(e){var t=this,i=e.from,n=e.to,r=t._active,a=t.element.children(".k-calendar-view");i?i.parent().data("animating")?(i.off(h),i.parent().kendoStop(!0,!0).remove(),i.remove(),a.append(n),t._focusView(r)):!i.is(":visible")||!1===t.options.animation||e.replace?(n.insertAfter(i),i.off(h).remove(),t._focusView(r)):t[e.vertical?"_vertical":"_horizontal"](i,n,e.future):(a.append(n),t._bindTable(n))},_horizontal:function(e,t,i){var n=this,r=n._active,a=n.options.animation.horizontal,s=a.effects,o=p(e);s&&-1!=s.indexOf(m)&&(e.add(t).css({width:o}),e.wrap("<div/>"),n._focusView(r,e),e.parent().css({position:"relative",width:2*o,float:"left","margin-left":i?0:-o}),t[i?"insertAfter":"insertBefore"](e),J(a,{effects:m+":"+(i?"right":"left"),complete:function(){e.off(h).remove(),n._oldTable=null,t.unwrap(),n._focusView(r)}}),e.parent().kendoStop(!0,!0).kendoAnimate(a))},_vertical:function(e,t){var i,n,r=this,a=r.options.animation.vertical,s=a.effects,o=r._active;s&&-1!=s.indexOf("zoom")&&(t.insertBefore(e),e.css({position:"absolute",width:t.width()}),c&&(n=(n=(i=r._cellByDate(r._view.toDateString(r._current))).position()).left+parseInt(i.width()/2,10)+"px "+(n.top+parseInt(i.height()/2,10))+"px",t.css(c,n)),e.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.off(h).remove(),r._oldTable=null,r._focusView(o)}}),t.kendoStop(!0,!0).kendoAnimate(a))},_cellByDate:function(e,t){return this._table.find(t||"td:not(."+H+")").filter(function(){return v(this.firstChild).attr(C.attr(E))===e})},_class:function(e,t){var i,n=this,r=n._cellID,a=n._cell,s=n._view.toDateString(t);a&&a.length&&(a[0].removeAttribute($),a[0].removeAttribute(K),a[0].removeAttribute("id")),t&&"month"==n._view.name&&(i=n.options.disableDates(t)),n._cellsBySelector(n._isMultipleSelection()?V:"td:not(."+H+")").removeClass(e),a=n._cellByDate(s,"multiple"==n.options.selectable?V:"td:not(."+H+")").attr($,!0),(e===O&&!n._active&&!1!==n.options.focusOnNav||i)&&(e=""),a.addClass(e),a[0]&&(n._cell=a),r&&(a.attr("id",r),n._table[0].removeAttribute("aria-activedescendant"),n._table.attr("aria-activedescendant",r))},_bindTable:function(e){e.on(N,this._addClassProxy).on(R,this._removeClassProxy)},_click:function(e){var t=this,i=t.options,n=new Date(+t._current),r=ye(e);T(r,0),"month"==t._view.name&&t.options.disableDates(r)&&(r=t._value),t._view.setDate(n,r),t.navigateDown(se(n,i.min,i.max))},_focus:function(e){var t=this;0!==t._view.compare(e,t._current)?t.navigate(e):(t._current=e,t._class(O,e))},_focusView:function(e,t){e&&this.focus(t)},_viewWrapper:function(){var e=this.element,t=e.children(".k-calendar-view");t[0]||(t=v("<div class='k-calendar-view' />").insertAfter(e.find(".k-header")))},_footer:function(e){var t=this,i=ae(),n=t.element,r=n.find(".k-footer");if(!e)return t._toggle(!1),void r.hide();r[0]||(r=v('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(n)),t._today=r.show().find(".k-link").html(e(i)).attr("title",C.toString(i,"D",t.options.culture)),t._toggle()},_header:function(){var e,t=this,i=t.element;i.find(".k-header")[0]||i.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev" '+K+'="Previous"><span class="k-icon k-i-arrow-60-left"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next" '+K+'="Next"><span class="k-icon k-i-arrow-60-right"></span></a></div>'),e=i.find(".k-link").on(U+" "+q+" "+N+" "+R,pe).on(f+" touchend"+h,function(){return!1}),t._title=e.eq(1).on(f+" touchend"+h,function(){t._active=!1!==t.options.focusOnNav,t.navigateUp()}),t[j]=e.eq(0).on(f+" touchend"+h,function(){t._active=!1!==t.options.focusOnNav,t.navigateToPast()}),t[G]=e.eq(2).on(f+" touchend"+h,function(){t._active=!1!==t.options.focusOnNav,t.navigateToFuture()})},_navigate:function(e,t){var i=this,n=i._index+1,r=new X(+i._current);i._isMultipleSelection()&&(r=ye(i._table.find("td:not(.k-other-month):not(.k-out-of-range)").has(".k-link").first().find("a")),i._current=new Date(+r));(e=i[e]).hasClass(M)||(3<n?r.setFullYear(r.getFullYear()+100*t):te.views[n].setDate(r,t),i.navigate(r))},_option:function(e,t){var i,n=this,r=n.options,a=n._value||n._current;if(t===w)return r[e];(t=s(t,r.format,r.culture))&&(r[e]=new X(+t),((i="min"===e?a<t:t<a)||function(e,t){if(e)return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth();return}(a,t))&&(i&&(n._value=null),n._changeView=!0),n._changeView||(n._changeView=!(!r.month.content&&!r.month.empty)),n.navigate(n._value),n._toggle())},_toggle:function(e){var t=this,i=t.options,n=t.options.disableDates(ae()),r=t._today;e===w&&(e=oe(ae(),i.min,i.max)),r&&(r.off(f),e&&!n?r.addClass(z).removeClass(M).on(f,Q(t._todayClick,t)):r.removeClass(z).addClass(M).on(f,he))},_todayClick:function(e){var t=this,i=Z[t.options.depth],n=t.options.disableDates,r=ae();e.preventDefault(),n(r)||(0===t._view.compare(t._current,r)&&t._index==i&&(t._changeView=!1),t._isMultipleSelection()&&(t._selectDates=[r],t.selectable._lastActive=null),t._value=r,t.navigate(r,i),t.trigger(D))},_templates:function(){var e=this.options,t=e.footer,i=e.month,n=i.content,r=i.weekNumber,a=i.empty,s='#= kendo.toString(data,"D","'+e.culture+'") #';this.month={content:l('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+C.attr(E)+'="#=data.dateString#" title="#=data.title#">'+(n||"#=data.value#")+"</a></td>",{useWithBlock:!!n}),empty:l('<td role="gridcell">'+(a||"&nbsp;")+"</td>",{useWithBlock:!!a}),weekNumber:l('<td class="k-alt">'+(r||"#= data.weekNumber #")+"</td>",{useWithBlock:!!r})},t&&!0!==t&&(s=t),this.footer=!1!==t?l(s,{useWithBlock:!1}):null}});t.plugin(ee);var te={firstDayOfMonth:function(e){return fe(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){var i=(t=t||C.culture().calendar).firstDay,n=new X(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());for(n.setFullYear(e.getFullYear());n.getDay()!=i;)te.setTime(n,-864e5);return n},setTime:function(e,t){var i=e.getTimezoneOffset(),n=new X(e.getTime()+t),r=n.getTimezoneOffset()-i;e.setTime(n.getTime()+6e4*r)},views:[{name:_,title:function(e,t,i,n){return me(n).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){var t=0,i=e.min,n=e.max,r=e.date,o=e.dates,l=e.format,u=e.culture,c=e.url,a=e.showHeader,s=e.otherMonth,d=e.isWeekColumnVisible,p=c&&o[0],h=me(u),f=h.firstDay,m=h.days,g=le(m.names,f),_=le(m.namesShort,f),v=te.firstVisibleDay(r,h),w=this.first(r),b=this.last(r),y=this.toDateString,k=ae(),x='<table tabindex="0" role="grid" class="k-content" cellspacing="0" data-start="'+y(v)+'">';for(x+=a?'<caption class="k-month-header">'+this.title(r,i,n,u)+'</caption><thead><tr role="row">':'<thead><tr role="row">',d&&(x+='<th scope="col" class="k-alt">'+e.messages.weekColumnHeader+"</th>");t<7;t++)x+='<th scope="col" title="'+g[t]+'">'+_[t]+"</th>";return T(k,0),k=+k,ne({cells:42,perRow:7,html:x+='</tr></thead><tbody><tr role="row">',start:v,isWeekColumnVisible:d,weekNumber:e.weekNumber,min:fe(i.getFullYear(),i.getMonth(),i.getDate()),max:fe(n.getFullYear(),n.getMonth(),n.getDate()),otherMonth:s,content:e.content,lastDayOfMonth:b,empty:e.empty,setter:this.setDate,disableDates:e.disableDates,build:function(e,t,i){var n=[],r=e.getDay(),a="",s="#";return(e<w||b<e)&&n.push(H),i(e)&&n.push(M),+e===k&&n.push("k-today"),0!==r&&6!==r||n.push("k-weekend"),p&&function(e,t){for(var i=0,n=t.length;i<n;i++)if(e===+t[i])return 1;return}(+e,o)&&(s=c.replace("{0}",C.toString(e,l,u)),a=" k-action-link"),{date:e,dates:o,ns:C.ns,title:C.toString(e,"D",u),value:e.getDate(),dateString:y(e),cssClass:n[0]?' class="'+n.join(" ")+'"':"",linkClass:a,url:s}},weekNumberBuild:function(e){return{weekNumber:S(e,C.culture().calendar.firstDay),currentDate:e}}})},first:function(e){return te.firstDayOfMonth(e)},last:function(e){var t=fe(e.getFullYear(),e.getMonth()+1,0),i=te.firstDayOfMonth(e),n=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());return n&&t.setHours(i.getHours()+n/60),t},compare:function(e,t){var i=e.getMonth(),n=e.getFullYear(),r=t.getMonth(),a=t.getFullYear();return a<n?1:n<a?-1:i==r?0:r<i?1:-1},setDate:function(e,t){var i=e.getHours();t instanceof X?e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):te.setTime(e,864e5*t),T(e,i)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var t=me(e.culture).months.namesAbbr,i=this.toDateString,n=e.min,r=e.max,a="";return e.showHeader&&(a+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',a+=this.title(e.date),a+='</caption><tbody><tr role="row">'),ne({min:fe(n.getFullYear(),n.getMonth(),1),max:fe(r.getFullYear(),r.getMonth(),1),start:fe(e.date.getFullYear(),0,1),html:a,setter:this.setDate,build:function(e){return{value:t[e.getMonth()],ns:C.ns,dateString:i(e),cssClass:""}}})},first:function(e){return fe(e.getFullYear(),0,e.getDate())},last:function(e){return fe(e.getFullYear(),11,e.getDate())},compare:function(e,t){return re(e,t)},setDate:function(e,t){var i,n=e.getHours();t instanceof X?(i=t.getMonth(),e.setFullYear(t.getFullYear(),i,e.getDate()),i!==e.getMonth()&&e.setDate(0)):(i=e.getMonth()+t,e.setMonth(i),11<i&&(i-=12),0<i&&e.getMonth()!=i&&e.setDate(0)),T(e,n)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"}},{name:"decade",title:function(e,t,i){return ie(e,t,i,10)},content:function(e){var t=e.date.getFullYear(),i=this.toDateString,n="";return e.showHeader&&(n+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',n+=this.title(e.date,e.min,e.max),n+='</caption><tbody><tr role="row">'),ne({start:fe(t-t%10-1,0,1),min:fe(e.min.getFullYear(),0,1),max:fe(e.max.getFullYear(),0,1),otherMonth:e.otherMonth,html:n,setter:this.setDate,build:function(e,t){return{value:e.getFullYear(),ns:C.ns,dateString:i(e),cssClass:0===t||11==t?P:""}}})},first:function(e){var t=e.getFullYear();return fe(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return fe(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return re(e,t,10)},setDate:function(e,t){ue(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"}},{name:I,title:function(e,t,i){return ie(e,t,i,100)},content:function(e){var t=e.date.getFullYear(),r=e.min.getFullYear(),a=e.max.getFullYear(),s=this.toDateString,i=r,n=a,o="";return(n-=n%10)-(i-=i%10)<10&&(n=i+9),e.showHeader&&(o+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',o+=this.title(e.date,e.min,e.max),o+='</caption><tbody><tr role="row">'),ne({start:fe(t-t%100-10,0,1),min:fe(i,0,1),max:fe(n,0,1),otherMonth:e.otherMonth,html:o,setter:this.setDate,build:function(e,t){var i=e.getFullYear(),n=i+9;return i<r&&(i=r),a<n&&(n=a),{ns:C.ns,value:i+" - "+n,dateString:s(e),cssClass:0===t||11==t?P:""}}})},first:function(e){var t=e.getFullYear();return fe(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return fe(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return re(e,t,100)},setDate:function(e,t){ue(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"}}]};function ie(e,t,i,n){var r,a=e.getFullYear(),s=t.getFullYear(),o=i.getFullYear();return r=(a-=a%n)+(n-1),a<s&&(a=s),o<r&&(r=o),a+"-"+r}function ne(e){var t,i=0,n=e.min,r=e.max,a=e.start,s=e.setter,o=e.build,l=e.weekNumberBuild,u=e.cells||12,c=e.isWeekColumnVisible,d=e.perRow||4,p=e.otherMonth,h=e.lastDayOfMonth,f=e.weekNumber||x,m=e.content||b,g=e.empty||y,_=e.otherMonthCellTemplate||k,v=e.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(c&&(v+=f(l(a)));i<u;i++)0<i&&i%d==0&&(v+='</tr><tr role="row">',c&&(v+=f(p||+a<=+h?l(a):{weekNumber:"&nbsp;"}))),a=fe(a.getFullYear(),a.getMonth(),a.getDate()),T(a,0),v+=(-1===(t=o(a,i,e.disableDates)).cssClass.indexOf(H)||p?oe(a,n,r)?m:g:_)(t),s(a,1);return v+"</tr></tbody></table>"}function re(e,t,i){var n=e.getFullYear(),r=t.getFullYear(),a=r,s=0;return i&&(a=(r-=r%i)-r%i+i-1),a<n?s=1:n<r&&(s=-1),s}function ae(){var e=new X;return new X(e.getFullYear(),e.getMonth(),e.getDate())}function se(e,t,i){var n=ae();return e&&(n=new X(+e)),n<t?n=new X(+t):i<n&&(n=new X(+i)),n}function oe(e,t,i){return+t<=+e&&+e<=+i}function le(e,t){return e.slice(t).concat(e.slice(0,t))}function ue(e,t,i){t=t instanceof X?t.getFullYear():e.getFullYear()+i*t,e.setFullYear(t)}function ce(e,t){if(+t<+e){var i=+e;te.views[0].setDate(e,t),te.views[0].setDate(t,new Date(i))}var n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((r-n)/C.date.MS_PER_DAY)}function de(e,t,i,n){for(var r=0;r<=t;r++){var a=new Date(i.getTime());n(a=new Date(a.setDate(a.getDate()+r)))||e.push(a)}}function pe(e){v(this).hasClass("k-state-disabled")||v(this).toggleClass(A,-1<W.indexOf(e.type)||"focus"==e.type)}function he(e){e.preventDefault()}function fe(e,t,i){var n=new X(e,t,i);return n.setFullYear(e,t,i),n}function me(e){return u(e).calendars.standard}function ge(e){var t=Z[e.start],i=Z[e.depth],n=u(e.culture);e.format=o(e.format||n.calendars.standard.patterns.d),isNaN(t)&&(t=0,e.start=_),(i===w||t<i)&&(e.depth=_),null===e.dates&&(e.dates=[])}function _e(e){d&&e.find("*").attr("unselectable","on")}function ve(e,t){e.addClass("k-"+t)}function we(e){return C.isFunction(e)?e:v.isArray(e)?function(e){var t,i=[],n=["su","mo","tu","we","th","fr","sa"],r="if (found) { return true } else {return false}";if(e[0]instanceof X)i=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].setHours(0,0,0,0));return t}(e),t="var found = date && window.kendo.jQuery.inArray(date.setHours(0, 0, 0, 0),["+i+"]) > -1;"+r;else{for(var a=0;a<e.length;a++){var s=e[a].slice(0,2).toLowerCase(),o=v.inArray(s,n);-1<o&&i.push(o)}t="var found = date && window.kendo.jQuery.inArray(date.getDay(),["+i+"]) > -1;"+r}return new Function("date",t)}(e):v.noop}function be(e,t){return e instanceof Date&&t instanceof Date&&(e=e.getTime(),t=t.getTime()),e===t}function ye(e){var t=v(e).attr(C.attr(E)).split("/");return t=fe(t[0],t[1],t[2])}te.isEqualDatePart=function(e,t){return!!e&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())},te.isEqualDate=be,te.makeUnselectable=_e,te.restrictValue=se,te.isInRange=oe,te.addClassToViewContainer=ve,te.normalize=ge,te.viewsEnum=Z,te.disabled=we,te.toDateObject=ye,te.getToday=ae,te.createDate=fe,C.calendar=te}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.popup",["kendo.core"],function(){var e={id:"popup",name:"Pop-up",category:"framework",depends:["core"],advanced:true};return function(E){var A=window.kendo,e=A.ui,r=e.Widget,t=A.Class,M=A.support,O=A.getOffset,H=A._outerWidth,P=A._outerHeight,c="open",o="close",i="deactivate",a="activate",v="center",w="right",d="top",b="bottom",z="absolute",p="hidden",h="body",V="location",L="position",s="visible",f="effects",n="k-state-active",l="k-state-border",u=/k-state-border-(\w+)/,m=".k-picker-wrap, .k-dropdown-wrap, .k-link",g=E(document.documentElement),_=E.proxy,y=E(window),k=M.transitions.css+"transform",B=E.extend,x=".kendoPopup",C=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function T(e,t){return e&&t&&(e===t||E.contains(e,t))}var S=r.extend({init:function(e,t){var i,n=this;(t=t||{}).isRtl&&(t.origin=t.origin||b+" "+w,t.position=t.position||"top "+w),r.fn.init.call(n,e,t),e=n.element,t=n.options,n.collisions=t.collision?t.collision.split(" "):[],n.downEvent=A.applyEventMap("down",A.guid()),1===n.collisions.length&&n.collisions.push(n.collisions[0]),i=E(n.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),t.appendTo=E(E(t.appendTo)[0]||i[0]||document.body),n.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!t.isRtl).css({position:z}).appendTo(t.appendTo).attr("aria-hidden",!0).on("mouseenter"+x,function(){n._hovered=!0}).on("wheel"+x,function(e){var t=E(e.target).find(".k-list"),i=t.parent();t.length&&t.is(":visible")&&(0===i.scrollTop()&&e.originalEvent.deltaY<0||i.scrollTop()===i.prop("scrollHeight")-i.prop("offsetHeight")&&0<e.originalEvent.deltaY)&&e.preventDefault()}).on("mouseleave"+x,function(){n._hovered=!1}),n.wrapper=E(),!1===t.animation&&(t.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),B(t.animation.open,{complete:function(){n.wrapper.css({overflow:s}),n._activated=!0,n._trigger(a)}}),B(t.animation.close,{complete:function(){n._animationClose()}}),n._mousedownProxy=function(e){n._mousedown(e)},M.mobileOS.android?n._resizeProxy=function(e){setTimeout(function(){n._resize(e)},600)}:n._resizeProxy=function(e){n._resize(e)},t.toggleTarget&&E(t.toggleTarget).on(t.toggleEvent+x,E.proxy(n.toggle,n))},events:[c,a,o,i],options:{name:"Popup",toggleEvent:"click",origin:b+" left",position:"top left",anchor:h,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var e=this,t=e.wrapper.data(V);e.wrapper.hide(),t&&e.wrapper.css(t),e.options.anchor!=h&&e._hideDirClass(),e._closing=!1,e._trigger(i)},destroy:function(){var e,t=this,i=t.options,n=t.element.off(x);r.fn.destroy.call(t),i.toggleTarget&&E(i.toggleTarget).off(x),i.modal||(g.off(t.downEvent,t._mousedownProxy),t._toggleResize(!1)),A.destroy(t.element.children()),n.removeData(),i.appendTo[0]===document.body&&((e=n.parent(".k-animation-container"))[0]?e.remove():n.remove())},open:function(e,t){var i,n,r=this,a={isFixed:!isNaN(parseInt(t,10)),x:e,y:t},s=r.element,o=r.options,l=E(o.anchor),u=s[0]&&s.hasClass("km-widget");if(!r.visible()){if(o.copyAnchorStyles&&(u&&"font-size"==C[0]&&C.shift(),s.css(A.getComputedStyles(l[0],C))),s.data("animating")||r._trigger(c))return;r._activated=!1,o.modal||(g.off(r.downEvent,r._mousedownProxy).on(r.downEvent,r._mousedownProxy),r._toggleResize(!1),r._toggleResize(!0)),r.wrapper=n=A.wrap(s,o.autosize).css({overflow:p,display:"block",position:z}).attr("aria-hidden",!1),M.mobileOS.android&&n.css(k,"translatez(0)"),n.css(L),E(o.appendTo)[0]==document.body&&n.css(d,"-10000px"),r.flipped=r._position(a),i=r._openAnimation(),o.anchor!=h&&r._showDirClass(i),s.data(f,i.effects).kendoStop(!0).kendoAnimate(i).attr("aria-hidden",!1)}},_location:function(e){var t,i=this.element,n=this.options,r=E(n.anchor),a=i[0]&&i.hasClass("km-widget");n.copyAnchorStyles&&(a&&"font-size"==C[0]&&C.shift(),i.css(A.getComputedStyles(r[0],C))),this.wrapper=t=A.wrap(i,n.autosize).css({overflow:p,display:"block",position:z}),M.mobileOS.android&&t.css(k,"translatez(0)"),t.css(L),E(n.appendTo)[0]==document.body&&t.css(d,"-10000px"),this._position(e||{});var s=t.offset();return{width:A._outerWidth(t),height:A._outerHeight(t),left:s.left,top:s.top}},_openAnimation:function(){var e=B(!0,{},this.options.animation.open);return e.effects=A.parseEffects(e.effects,this.flipped),e},_hideDirClass:function(){var e=E(this.options.anchor),t=((e.attr("class")||"").match(u)||["","down"])[1],i=l+"-"+t;e.removeClass(i).children(m).removeClass(n).removeClass(i),this.element.removeClass(l+"-"+A.directions[t].reverse)},_showDirClass:function(e){var t=e.effects.slideIn?e.effects.slideIn.direction:"down",i=l+"-"+t;E(this.options.anchor).addClass(i).children(m).addClass(n).addClass(i),this.element.addClass(l+"-"+A.directions[t].reverse)},position:function(){this.visible()&&(this.flipped=this._position())},toggle:function(){this[this.visible()?o:c]()},visible:function(){return this.element.is(":"+s)},close:function(t){var e,i,n,r,a=this,s=a.options;if(a.visible()){if(e=a.wrapper[0]?a.wrapper:A.wrap(a.element).hide(),a._toggleResize(!1),a._closing||a._trigger(o))return void a._toggleResize(!0);a.element.find(".k-popup").each(function(){var e=E(this).data("kendoPopup");e&&e.close(t)}),g.off(a.downEvent,a._mousedownProxy),t?i={hide:!0,effects:{}}:(i=B(!0,{},s.animation.close),n=a.element.data(f),!(r=i.effects)&&!A.size(r)&&n&&A.size(n)&&(i.effects=n,i.reverse=!0),a._closing=!0),a.element.kendoStop(!0).attr("aria-hidden",!0),e.css({overflow:p}).attr("aria-hidden",!0),a.element.kendoAnimate(i),t&&a._animationClose()}},_trigger:function(e){return this.trigger(e,{type:e})},_resize:function(e){var t=this;-1!==M.resize.indexOf(e.type)?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close()},_toggleResize:function(e){var t=e?"on":"off",i=M.resize;M.mobileOS.ios||M.mobileOS.android||(i+=" scroll"),e&&!this.scrollableParents&&(this.scrollableParents=this._scrollableParents()),this.scrollableParents&&this.scrollableParents.length&&this.scrollableParents[t]("scroll",this._resizeProxy),y[t](i,this._resizeProxy)},_mousedown:function(e){var t=this.element[0],i=this.options,n=E(i.anchor)[0],r=i.toggleTarget,a=A.eventTarget(e),s=E(a).closest(".k-popup"),o=s.parent().parent(".km-shim").length;s=s[0],!o&&s&&s!==this.element[0]||"popover"!==E(e.target).closest("a").data("rel")&&(T(t,a)||T(n,a)||r&&T(E(r)[0],a)||this.close())},_fit:function(e,t,i){var n=0;return i<e+t&&(n=i-(e+t)),e<0&&(n=-e),n},_flip:function(e,t,i,n,r,a,s){var o=0;return s=s||t,a!==r&&a!==v&&r!==v&&(n<e+s&&(o+=-(i+t)),e+o<0&&(o+=i+t)),o},_scrollableParents:function(){return E(this.options.anchor).parentsUntil("body").filter(function(e,t){return A.isScrollable(t)})},_position:function(e){var t,i,n,r,a,s,o,l=this,u=l.element,c=l.wrapper,d=l.options,p=E(d.viewport),h=M.zoomLevel(),f=!!(p[0]==window&&window.innerWidth&&h<=1.02),m=E(d.anchor),g=d.origin.toLowerCase().split(" "),_=d.position.toLowerCase().split(" "),v=l.collisions,w=10002,b=0,y=document.documentElement;a=d.viewport===window?{top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0}:p.offset(),o=f?(s=window.innerWidth,window.innerHeight):(s=p.width(),p.height()),f&&0<y.scrollHeight-y.clientHeight&&(s-=(d.isRtl?-1:1)*A.support.scrollbar());if((t=m.parents().filter(c.siblings()))[0])if(n=Math.max(Number(t.css("zIndex")),0))w=n+10;else for(r=(i=m.parentsUntil(t)).length;b<r;b++)(n=Number(E(i[b]).css("zIndex")))&&w<n&&(w=n+10);c.css("zIndex",w),e&&e.isFixed?c.css({left:e.x,top:e.y}):c.css(l._align(g,_));var k=O(c,L,m[0]===c.offsetParent()[0]),x=O(c);m.offsetParent().parent(".k-animation-container,.k-popup,.k-group").length&&(k=O(c,L,!0),x=O(c)),x.top-=a.top,x.left-=a.left,l.wrapper.data(V)||c.data(V,B({},k));var C=B({},x),T=B({},k),S=d.adjustSize;"fit"===v[0]&&(T.top+=l._fit(C.top,P(c)+S.height,o/h)),"fit"===v[1]&&(T.left+=l._fit(C.left,H(c)+S.width,s/h));var I=B({},T),D=P(u),F=P(c);return!c.height()&&D&&(F+=D),"flip"===v[0]&&(T.top+=l._flip(C.top,D,P(m),o/h,g[0],_[0],F)),"flip"===v[1]&&(T.left+=l._flip(C.left,H(u),H(m),s/h,g[1],_[1],H(c))),u.css(L,z),c.css(T),T.left!=I.left||T.top!=I.top},_align:function(e,t){var i,n=this.wrapper,r=E(this.options.anchor),a=e[0],s=e[1],o=t[0],l=t[1],u=O(r),c=E(this.options.appendTo),d=H(n),p=P(n)||P(n.children().first()),h=H(r),f=P(r),m=u.top,g=u.left,_=Math.round;return c[0]!=document.body&&(m-=(i=O(c)).top,g-=i.left),a===b&&(m+=f),a===v&&(m+=_(f/2)),o===b&&(m-=p),o===v&&(m-=_(p/2)),s===w&&(g+=h),s===v&&(g+=_(h/2)),l===w&&(g-=d),l===v&&(g-=_(d/2)),{top:m,left:g}}});e.plugin(S);var I=A.support.stableSort,D="kendoTabKeyTrap",F=t.extend({init:function(e){this.element=E(e),this.element.autoApplyNS(D)},trap:function(){this.element.on("keydown",_(this._keepInTrap,this))},removeTrap:function(){this.element.kendoDestroy(D)},destroy:function(){this.element.kendoDestroy(D),this.element=void 0},shouldTrap:function(){return!0},_keepInTrap:function(e){if(9===e.which&&this.shouldTrap()&&!e.isDefaultPrevented()){var t=this._focusableElements(),i=this._sortFocusableElements(t),n=this._nextFocusable(e,i);this._focus(n),e.preventDefault()}},_focusableElements:function(){var e=this.element.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]").filter(function(e,t){return 0<=t.tabIndex&&E(t).is(":visible")&&!E(t).is("[disabled]")});return this.element.is("[tabindex]")&&e.push(this.element[0]),e},_sortFocusableElements:function(e){var t;if(I)t=e.sort(function(e,t){return e.tabIndex-t.tabIndex});else{var i="__k_index";e.each(function(e,t){t.setAttribute(i,e)}),t=e.sort(function(e,t){return e.tabIndex===t.tabIndex?parseInt(e.getAttribute(i),10)-parseInt(t.getAttribute(i),10):e.tabIndex-t.tabIndex}),e.removeAttr(i)}return t},_nextFocusable:function(e,t){var i=t.length,n=t.index(e.target);return t.get((n+(e.shiftKey?-1:1))%i)},_focus:function(e){"IFRAME"!=e.nodeName?(e.focus(),"INPUT"==e.nodeName&&e.setSelectionRange&&this._haveSelectionRange(e)&&e.setSelectionRange(0,e.value.length)):e.contentWindow.document.body.focus()},_haveSelectionRange:function(e){var t=e.type.toLowerCase();return"text"===t||"search"===t||"url"===t||"tel"===t||"password"===t}});e.Popup.TabKeyTrap=F}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.datepicker",["kendo.calendar","kendo.popup","kendo.dateinput"],function(){var e={id:"datepicker",name:"DatePicker",category:"web",description:"The DatePicker widget allows the user to select a date from a calendar or by direct input.",depends:["calendar","popup"]};return function(u,n){var c=window.kendo,a=c.ui,s=a.Widget,d=c.parseDate,o=c.keys,i=c.support,e=c.template,r=c._activeElement,l="<div />",p="<span />",h=".kendoDatePicker",f="click"+h,m=i.mouseAndTouchPresent?c.applyEventMap("up",h.slice(1)):f,g="open",t="close",_="change",v="disabled",w="readonly",b="k-state-default",y="k-state-focused",k="k-state-selected",x="k-state-disabled",C="mousedown"+h,T="aria-disabled",S="aria-expanded",I="aria-hidden",D=c.calendar,F=D.isInRange,E=D.restrictValue,A=D.isEqualDatePart,M=u.extend,O=u.proxy,H=Date;function P(e){var t=e.parseFormats,i=e.format;D.normalize(e),(t=u.isArray(t)?t:[t]).length||t.push("yyyy-MM-dd"),-1===u.inArray(i,t)&&t.splice(0,0,e.format),e.parseFormats=t}function z(e){e.preventDefault()}function V(e){var t,i=this,n=document.body,r=u(l).attr(I,"true").addClass("k-calendar-container").appendTo(n);i.options=e=e||{},(t=e.id)&&(t+="_dateview",r.attr("id",t),i._dateViewID=t),i.popup=new a.Popup(r,M(e.popup,e,{name:"Popup",isRtl:c.support.isRtl(e.anchor)})),i.div=r,i.value(e.value)}V.prototype={_calendar:function(){var e,t=this,i=t.calendar,n=t.options;i||(e=u(l).attr("id",c.guid()).appendTo(t.popup.element).on(C,z).on(f,"td:has(.k-link)",O(t._click,t)),t.calendar=i=new a.Calendar(e),t._setOptions(n),c.calendar.makeUnselectable(i.element),i.navigate(t._value||t._current,n.start),t.value(t._value))},_setOptions:function(e){this.calendar.setOptions({focusOnNav:!1,change:e.change,culture:e.culture,dates:e.dates,depth:e.depth,footer:e.footer,format:e.format,max:e.max,min:e.min,month:e.month,weekNumber:e.weekNumber,start:e.start,disableDates:e.disableDates})},setOptions:function(e){var t=this.options,i=e.disableDates;i&&(e.disableDates=D.disabled(i)),this.options=M(t,e,{change:t.change,close:t.close,open:t.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var e,t=this;t._calendar(),e=t.popup._hovered,t.popup._hovered=!0,t.popup.open(),setTimeout(function(){t.popup._hovered=e},1)},close:function(){this.popup.close()},min:function(e){this._option("min",e)},max:function(e){this._option("max",e)},toggle:function(){this[this.popup.visible()?t:g]()},move:function(e){var t=this,i=e.keyCode,n=t.calendar,r=e.ctrlKey&&i==o.DOWN||i==o.ENTER,a=!1;if(e.altKey)i==o.DOWN?(t.open(),e.preventDefault(),a=!0):i==o.UP&&(t.close(),e.preventDefault(),a=!0);else if(t.popup.visible()){if(i==o.ESC||r&&n._cell.hasClass(k))return t.close(),e.preventDefault(),!0;i!=o.SPACEBAR&&(t._current=n._move(e)),a=!0}return a},current:function(e){this._current=e,this.calendar&&this.calendar._focus(e)},value:function(e){var t=this.calendar,i=this.options,n=i.disableDates;n&&n(e)&&(e=null),this._value=e,this._current=new H(+E(e,i.min,i.max)),t&&t.value(e)},_click:function(e){-1!==e.currentTarget.className.indexOf(k)&&(this.calendar.trigger("change"),this.close())},_option:function(e,t){var i=this.calendar;this.options[e]=t,i&&i[e](t)}},V.normalize=P,c.DateView=V;var L=s.extend({init:function(n,e){var r,a=this;s.fn.init.call(a,n,e),n=a.element,(e=a.options).disableDates=c.calendar.disabled(e.disableDates),e.min=d(n.attr("min"))||d(e.min),e.max=d(n.attr("max"))||d(e.max),P(e),a._initialOptions=M({},e),a._wrapper(),a.dateView=new V(M({},e,{id:n.attr("id"),anchor:a.wrapper,change:function(){a._change(this.value()),a.close()},close:function(e){a.trigger(t)?e.preventDefault():(n.attr(S,!1),r.attr(I,!0))},open:function(e){var t,i=a.options;a.trigger(g)?e.preventDefault():(a.element.val()!==a._oldText&&(t=d(n.val(),i.parseFormats,i.culture),a.dateView[t?"current":"value"](t)),n.attr(S,!0),r.attr(I,!1),a._updateARIA(t))}})),r=a.dateView.div,a._icon();try{n[0].setAttribute("type","text")}catch(e){n[0].type="text"}n.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":a.dateView._dateViewID,autocomplete:"off"}),a._reset(),a._template(),n.is("[disabled]")||u(a.element).parents("fieldset").is(":disabled")?a.enable(!1):a.readonly(n.is("[readonly]")),a._createDateInput(e),a._old=a._update(e.value||a.element.val()),a._oldText=n.val(),c.notify(a)},events:[g,t,_],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:"month",depth:"month",animation:{},month:{},dates:[],disableDates:null,ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#',dateInput:!1,weekNumber:!1},setOptions:function(e){var t=this,i=t._value;s.fn.setOptions.call(t,e),(e=t.options).min=d(e.min),e.max=d(e.max),P(e),t.dateView.setOptions(e),t._createDateInput(e),t._dateInput||t.element.val(c.toString(i,e.format,e.culture)),i&&t._updateARIA(i)},_editable:function(e){var t=this,i=t._dateIcon.off(h),n=t.element.off(h),r=t._inputWrapper.off(h),a=e.readonly,s=e.disable;a||s?(r.addClass(s?x:b).removeClass(s?b:x),n.attr(v,s).attr(w,a).attr(T,s)):(r.addClass(b).removeClass(x).on("mouseenter.kendoDatePicker mouseleave.kendoDatePicker",t._toggleHover),n&&n.length&&(n[0].removeAttribute(v),n[0].removeAttribute(w)),n.attr(T,!1).on("keydown"+h,O(t._keydown,t)).on("focusout"+h,O(t._blur,t)).on("focus"+h,function(){t._inputWrapper.addClass(y)}),i.on(m,O(t._click,t)).on(C,z))},readonly:function(e){this._editable({readonly:e===n||e,disable:!1}),this._dateInput&&this._dateInput._editable({readonly:e===n||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===n||e)}),this._dateInput&&this._dateInput._editable({readonly:!1,disable:!(e=e===n||e)})},destroy:function(){var e=this;s.fn.destroy.call(e),e.dateView.destroy(),e.element.off(h),e._dateIcon.off(h),e._inputWrapper.off(h),e._form&&e._form.off("reset",e._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},value:function(e){var t=this;if(e===n)return t._value;t._old=t._update(e),null===t._old&&t.element.val(""),t._oldText=t.element.val()},_toggleHover:function(e){u(e.currentTarget).toggleClass("k-state-hover","mouseenter"===e.type)},_blur:function(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&(e._change(t),t||e.dateView.current(c.calendar.getToday())),e._inputWrapper.removeClass(y)},_click:function(e){this.dateView.toggle(),this._focusElement(e.type)},_focusElement:function(e){var t=this.element;i.touch&&(!i.mouseAndTouchPresent||(e||"").match(/touch/i))||t[0]===r()||t.trigger("focus")},_change:function(e){var t,i=this,n=i.element.val();e=i._update(e);var r=(t=!c.calendar.isEqualDate(i._old,e))&&!i._typing,a=n!==i.element.val();(r||a)&&i.element.trigger(_),t&&(i._old=e,i._oldText=i.element.val(),i.trigger(_)),i._typing=!1},_keydown:function(e){var t=this.dateView,i=this.element.val(),n=!1;t.popup.visible()||e.keyCode!=o.ENTER||i===this._oldText?(n=t.move(e),this._updateARIA(t._current),n?this._dateInput&&e.stopImmediatePropagation&&e.stopImmediatePropagation():this._typing=!0):this._change(i)},_icon:function(){var e,t=this.element;(e=t.next("span.k-select"))[0]||(e=u('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-calendar"></span></span>').insertAfter(t)),this._dateIcon=e.attr({role:"button","aria-controls":this.dateView._dateViewID})},_option:function(e,t){var i=this.options;if(t===n)return i[e];(t=d(t,i.parseFormats,i.culture))&&(i[e]=new H(+t),this.dateView[e](t))},_update:function(e){var t,i=this,n=i.options,r=n.min,a=n.max,s=i._value,o=d(e,n.parseFormats,n.culture),l=null===o&&null===s||o instanceof Date&&s instanceof Date;return n.disableDates(o)&&(o=null,i._old||i.element.val()||(e=null)),+o==+s&&l?(t=c.toString(o,n.format,n.culture))!==e&&i.element.val(null===o?e:t):(null!==o&&A(o,r)?o=E(o,r,a):F(o,r,a)||(o=null),i._value=o,i.dateView.value(o),i._dateInput&&o?i._dateInput.value(o||e):i.element.val(c.toString(o||e,n.format,n.culture)),i._updateARIA(o)),o},_wrapper:function(){var e,t=this.element;(e=t.parents(".k-datepicker"))[0]||(e=(e=t.wrap(p).parent().addClass("k-picker-wrap k-state-default")).wrap(p).parent()),e[0].style.cssText=t[0].style.cssText,t.css({width:"100%",height:t[0].style.height}),this.wrapper=e.addClass("k-widget k-datepicker").addClass(t[0].className).removeClass("input-validation-error"),this._inputWrapper=u(e[0].firstChild)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=e.options,r=n.disableDates,a=n.parseFormats.length?n.parseFormats:null,s=e._initialOptions.value,o=i?u("#"+i):t.closest("form"),l=t[0].defaultValue;s&&r&&r(s)&&(s=null),l&&c.parseDate(l,a,n.culture)||!s||t.attr("value",c.toString(s,n.format,n.culture)),o[0]&&(e._resetHandler=function(){e.value(s||t[0].defaultValue),e.max(e._initialOptions.max),e.min(e._initialOptions.min)},e._form=o.on("reset",e._resetHandler))},_template:function(){this._ariaTemplate=e(this.options.ARIATemplate)},_createDateInput:function(e){this._dateInput&&(this._dateInput.destroy(),this._dateInput=null),e.dateInput&&(this._dateInput=new a.DateInput(this.element,{culture:e.culture,format:e.format,min:e.min,max:e.max}))},_updateARIA:function(e){var t,i=this.dateView.calendar;this.element&&this.element.length&&this.element[0].removeAttribute("aria-activedescendant"),i&&((t=i._cell).attr("aria-label",this._ariaTemplate({current:e||i.current()})),this.element.attr("aria-activedescendant",t.attr("id")))}});a.plugin(L)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.timepicker",["kendo.popup","kendo.dateinput"],function(){var e={id:"timepicker",name:"TimePicker",category:"web",description:"The TimePicker widget allows the end user to select a value from a list of predefined values or to type a new value.",depends:["popup"]};return function(l,n){var x=window.kendo,a=x.keys,u=x.parseDate,t=x._activeElement,i=x._extractFormat,r=x.support,s=r.browser,c=x.ui,d=c.Widget,p="open",o="change",h=".kendoTimePicker",f="click"+h,m="k-state-default",g="k-state-focused",_="k-state-hover",v="mousedown"+h,C=6e4,T=864e5,w="k-state-selected",b="k-state-disabled",y="aria-selected",k="aria-expanded",S="aria-hidden",I="aria-disabled",D="aria-activedescendant",F=l.isArray,E=l.extend,A=l.proxy,M=Date,O=new M;O=new M(O.getFullYear(),O.getMonth(),O.getDate(),0,0,0);function H(e){var t=this,i=e.id;t.options=e,t._dates=[],t.ul=l('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:r.kineticScrollNeeded?"":"auto"}).on(f,"li",A(t._click,t)).on("mouseenter"+h,"li",function(){l(this).addClass(_)}).on("mouseleave"+h,"li",function(){l(this).removeClass(_)}),t.list=l("<div class='k-list-container k-list-scroller' unselectable='on'/>").append(t.ul).on(v,L),i&&(t._timeViewID=i+"_timeview",t._optionID=i+"_option_selected",t.ul.attr("id",t._timeViewID)),t._popup(),t._heightHandler=A(t._height,t),t.template=x.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})}function P(e){return 60*e.getHours()*C+e.getMinutes()*C+1e3*e.getSeconds()+e.getMilliseconds()}function z(e,t,i){var n,r=P(t),a=P(i);return!e||r==a||((n=P(e))<r&&(n+=T),a<r&&(a+=T),r<=n&&n<=a)}H.prototype={current:function(e){var t=this,i=t.options.active;if(e===n)return t._current;t._current&&(t._current.removeClass(w),t._current&&t._current.length&&(t._current[0].removeAttribute("id"),t._current[0].removeAttribute(y))),e&&(e=l(e).addClass(w).attr("id",t._optionID).attr(y,!0),t.scroll(e[0])),t._current=e,i&&i(e)},close:function(){this.popup.close()},destroy:function(){this.ul.off(h),this.list.off(h),this.popup.destroy()},open:function(){var e,t=this;t.ul[0].firstChild||t.bind(),e=t.popup._hovered,t.popup._hovered=!0,t.popup.open(),setTimeout(function(){t.popup._hovered=e},1),t._current&&t.scroll(t._current[0])},dataBind:function(e){for(var t,i=this.options,n=i.format,r=x.toString,a=this.template,s=e.length,o=0,l="";o<s;o++)z(t=e[o],i.min,i.max)&&(l+=a(r(t,n,i.culture)));this._html(l)},refresh:function(){var e,t,i,n,r,a,s=this.options,o=s.format,l=(n=new M,r=new M(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),a=new M(n.getFullYear(),n.getMonth(),n.getDate(),12,0,0),-1*(r.getTimezoneOffset()-a.getTimezoneOffset())),u=l<0,c=x.parseDate(this._value),d=B(c||new Date,s.min),p=s.min,h=s.max,f=P(p),m=P(h),g=P((t=s.interval,(i=new Date(2100,0,1)).setMinutes(-t),i)),_=s.interval*C,v=x.toString,w=this.template,b=s.useValueToRender?d:new Date(+s.min),y=new M(b),k="";for(f==m&&g!==m||(m<f&&(m+=T),0);;){if(m&&(P(b)>=m||y.getDate()!=b.getDate())){e=P(b),y<b&&(e+=T),m<e&&(b=new M(+h)),0<P(b)&&(k+=w(v(b,o,s.culture)));break}if(y.getDate()!=b.getDate())break;k+=w(v(b,o,s.culture)),b.setTime(b.getTime()+_)}this._html(k)},bind:function(){var e=this.options.dates;e&&e[0]?this.dataBind(e):this.refresh()},_html:function(e){this.ul[0].innerHTML=e,this.popup.unbind(p,this._heightHandler),this.popup.one(p,this._heightHandler),this.current(null),this.select(this._value)},scroll:function(e){if(e){var t=this.list[0],i=e.offsetTop,n=e.offsetHeight,r=t.scrollTop,a=t.clientHeight,s=i+n;i<r?r=i:r+a<s&&(r=s-a),t.scrollTop=r}},select:function(t){var e,i=this.options,n=this._current;t instanceof Date&&(t=x.toString(t,i.format,i.culture)),"string"==typeof t&&(t=n&&n.text()===t?n:(t=l.grep(this.ul[0].childNodes,function(e){return(e.textContent||e.innerText)==t}))[0]?t:null),e=this._distinctSelection(t),this.current(e)},_distinctSelection:function(e){var t,i;return e&&1<e.length&&(t=P(this._value),i=l.inArray(t,this._dates),e=this.ul.children()[i]),e},setOptions:function(e){var t=this.options;e.min=u(e.min),e.max=u(e.max),this.options=E(t,e,{active:t.active,change:t.change,close:t.close,open:t.open}),this.bind()},toggle:function(){this.popup.visible()?this.close():this.open()},value:function(e){this._value=e,this.ul[0].firstChild&&this.select(e)},_click:function(e){var t=l(e.currentTarget),i=t.text(),n=this.options.dates;n&&0<n.length&&(i=n[t.index()]),e.isDefaultPrevented()||(this.select(t),this.options.change(i,!0),this.close())},_height:function(){var e=this.list,t=e.parent(".k-animation-container"),i=this.options.height;this.ul[0].children.length&&e.add(t).show().height(this.ul[0].scrollHeight>i?i:"auto").hide()},_parse:function(e){var t=this.options,i=P(t.min)!=P(O)?t.min:null,n=P(t.max)!=P(O)?t.max:null,r=this._value||i||n||O;return e instanceof M?e:e=(e=u(e,t.parseFormats,t.culture))&&new M(r.getFullYear(),r.getMonth(),r.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},_adjustListWidth:function(){var e,t,i=this.list,n=i[0].style.width,r=this.options.anchor,a=x._outerWidth;!i.data("width")&&n||(t=(e=window.getComputedStyle?window.getComputedStyle(r[0],null):0)?parseFloat(e.width):a(r),e&&(s.mozilla||s.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),n=t-(a(i)-i.width()),i.css({fontFamily:r.css("font-family"),width:n}).data("width",n))},_popup:function(){var e=this.list,t=this.options,i=t.anchor;this.popup=new c.Popup(e,E(t.popup,{anchor:i,open:t.open,close:t.close,animation:t.animation,isRtl:r.isRtl(t.anchor)}))},move:function(e){var t=e.keyCode,i=this.ul[0],n=this._current,r=t===a.DOWN;if(t===a.UP||r){if(e.altKey)return void this.toggle(r);(n=r?n?n[0].nextSibling:i.firstChild:n?n[0].previousSibling:i.lastChild)&&this.select(n),this.options.change(this._current.text()),e.preventDefault()}else t!==a.ENTER&&t!==a.TAB&&t!==a.ESC||(e.preventDefault(),n&&this.options.change(n.text(),!0),this.close())}},H.getMilliseconds=P,x.TimeView=H;var e=d.extend({init:function(i,e){var t,n,r=this;d.fn.init.call(r,i,e),i=r.element,(e=r.options).min=u(i.attr("min"))||u(e.min),e.max=u(i.attr("max"))||u(e.max),V(e),r._initialOptions=E({},e),r._wrapper(),r.timeView=n=new H(E({},e,{id:i.attr("id"),anchor:r.wrapper,format:e.format,change:function(e,t){t?r._change(e):i.val(e)},open:function(e){r.timeView._adjustListWidth(),r.trigger(p)?e.preventDefault():(i.attr(k,!0),t.attr(S,!1))},close:function(e){r.trigger("close")?e.preventDefault():(i.attr(k,!1),t.attr(S,!0))},active:function(e){i&&i.length&&i[0].removeAttribute(D),e&&i.attr(D,n._optionID)}})),t=n.ul,r._icon(),r._reset();try{i[0].setAttribute("type","text")}catch(e){i[0].type="text"}if(i.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":n._timeViewID,autocomplete:"off"}),i.is("[disabled]")||l(r.element).parents("fieldset").is(":disabled")?r.enable(!1):r.readonly(i.is("[readonly]")),e.dateInput){var a=e.min,s=e.max,o=new M;P(a)==P(s)&&(a=new M(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),s=new M(o.getFullYear(),o.getMonth(),o.getDate(),24,0,0)),r._dateInput=new c.DateInput(i,{culture:e.culture,format:e.format,min:a,max:s,value:e.value,interval:e.interval})}r._old=r._update(e.value||r.element.val()),r._oldText=i.val(),x.notify(r)},options:{name:"TimePicker",min:O,max:O,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{},dateInput:!1},events:[p,"close",o],setOptions:function(e){var t=this._value;d.fn.setOptions.call(this,e),V(e=this.options),this.timeView.setOptions(e),t&&this.element.val(x.toString(t,e.format,e.culture))},dataBind:function(e){F(e)&&this.timeView.dataBind(e)},_editable:function(e){var t=this,i=e.disable,n=e.readonly,r=t._arrow.off(h),a=t.element.off(h),s=t._inputWrapper.off(h);t._dateInput&&t._dateInput._unbindInput(),n||i?(s.addClass(i?b:m).removeClass(i?m:b),a.attr("disabled",i).attr("readonly",n).attr(I,i)):(s.addClass(m).removeClass(b).on("mouseenter.kendoTimePicker mouseleave.kendoTimePicker",t._toggleHover),a&&a.length&&(a[0].removeAttribute("disabled"),a[0].removeAttribute("readonly")),a.attr(I,!1).on("keydown"+h,A(t._keydown,t)).on("focusout"+h,A(t._blur,t)).on("focus"+h,function(){t._inputWrapper.addClass(g)}),t._dateInput&&t._dateInput._bindInput(),r.on(f,A(t._click,t)).on(v,L))},readonly:function(e){this._editable({readonly:e===n||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===n||e)})},destroy:function(){d.fn.destroy.call(this),this.timeView.destroy(),this.element.off(h),this._arrow.off(h),this._inputWrapper.off(h),this._form&&this._form.off("reset",this._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},value:function(e){if(e===n)return this._value;this._old=this._update(e),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_blur:function(){var e=this.element.val();this.close(),e!==this._oldText&&this._change(e),this._inputWrapper.removeClass(g)},_click:function(){var e=this.element;this.timeView.toggle(),r.touch||e[0]===t()||e.trigger("focus")},_change:function(e){var t,i=this,n=i.element.val();e=i._update(e);var r=(t=!x.calendar.isEqualDate(i._old,e))&&!i._typing,a=n!==i.element.val();(r||a)&&i.element.trigger(o),t&&(i._old=e,i._oldText=i.element.val(),i.trigger(o)),i._typing=!1},_icon:function(){var e,t=this.element;(e=t.next("span.k-select"))[0]||(e=l('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-clock"></span></span>').insertAfter(t)),this._arrow=e.attr({role:"button","aria-controls":this.timeView._timeViewID})},_keydown:function(e){var t=e.keyCode,i=this.timeView,n=this.element.val();i.popup.visible()||e.altKey?(i.move(e),this._dateInput&&e.stopImmediatePropagation&&e.stopImmediatePropagation()):t===a.ENTER&&n!==this._oldText?this._change(n):this._typing=!0},_option:function(e,t){var i=this.options;if(t===n)return i[e];(t=this.timeView._parse(t))&&(t=new M(+t),i[e]=t,this.timeView.options[e]=t,this.timeView.bind())},_toggleHover:function(e){l(e.currentTarget).toggleClass(_,"mouseenter"===e.type)},_update:function(e){var t=this.options,i=this.timeView,n=i._parse(e);return z(n,t.min,t.max)||(n=null),this._value=n,this._dateInput&&n?this._dateInput.value(n||e):this.element.val(x.toString(n||e,t.format,t.culture)),i.value(n),n},_wrapper:function(){var e,t=this.element;(e=t.parents(".k-timepicker"))[0]||(e=(e=t.wrap("<span/>").parent().addClass("k-picker-wrap k-state-default")).wrap("<span/>").parent()),e[0].style.cssText=t[0].style.cssText,this.wrapper=e.addClass("k-widget k-timepicker").addClass(t[0].className),t.css({width:"100%",height:t[0].style.height}),this._inputWrapper=l(e[0].firstChild)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?l("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){e.value(t[0].defaultValue),e.max(e._initialOptions.max),e.min(e._initialOptions.min)},e._form=n.on("reset",e._resetHandler))}});function V(e){var t=e.parseFormats;e.format=i(e.format||x.getCulture(e.culture).calendars.standard.patterns.t),(t=F(t)?t:[t]).splice(0,0,e.format),e.parseFormats=t}function L(e){e.preventDefault()}function B(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}c.plugin(e)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.datetimepicker",["kendo.datepicker","kendo.timepicker"],function(){var e={id:"datetimepicker",name:"DateTimePicker",category:"web",description:"The DateTimePicker allows the end user to select a value from a calendar or a time drop-down list.",depends:["datepicker","timepicker"]};return function(m,l){var g=window.kendo,c=g.TimeView,_=g.parseDate,i=g.support,n=g._activeElement,r=g._extractFormat,e=g.calendar,v=e.isInRange,w=e.restrictValue,b=e.isEqualDatePart,a=c.getMilliseconds,t=g.ui,s=t.Widget,y="change",u=".kendoDateTimePicker",d=i.mouseAndTouchPresent?g.applyEventMap("up",u.slice(1)):"click.kendoDateTimePicker",p="k-state-default",h="k-state-focused",f="k-state-disabled",k="mousedown"+u,x="aria-activedescendant",C="aria-expanded",T="aria-hidden",S="aria-owns",I="aria-disabled",D=Date,F=new D(1800,0,1),E=new D(2099,11,31),A={view:"date"},M={view:"time"},O=m.extend,o=s.extend({init:function(t,e){var i=this;s.fn.init.call(i,t,e),t=i.element,(e=i.options).disableDates=g.calendar.disabled(e.disableDates),e.min=_(t.attr("min"))||_(e.min),e.max=_(t.attr("max"))||_(e.max),z(e),i._initialOptions=O({},e),i._wrapper(),i._views(),i._icons(),i._reset(),i._template();try{t[0].setAttribute("type","text")}catch(e){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,autocomplete:"off"}),i._midnight=i._calculateMidnight(e.min,e.max),t.is("[disabled]")||m(i.element).parents("fieldset").is(":disabled")?i.enable(!1):i.readonly(t.is("[readonly]")),i._createDateInput(e),i._old=i._update(e.value||i.element.val()),i._oldText=t.val(),g.notify(i)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],disableDates:null,min:new D(F),max:new D(E),interval:30,height:200,footer:"",start:"month",depth:"month",animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#',dateButtonText:"Open the date view",timeButtonText:"Open the time view",dateInput:!1,weekNumber:!1},events:["open","close",y],setOptions:function(e){var t,i,n,r=this,a=r._value;s.fn.setOptions.call(r,e),(e=r.options).min=t=_(e.min),e.max=i=_(e.max),z(e),r._midnight=r._calculateMidnight(e.min,e.max),n=e.value||r._value||r.dateView._current,t&&!b(t,n)&&(t=new D(F)),i&&!b(i,n)&&(i=new D(E)),r.dateView.setOptions(e),r.timeView.setOptions(O({},e,{format:e.timeFormat,min:t,max:i})),r._createDateInput(e),r._dateInput||r.element.val(g.toString(a,e.format,e.culture)),a&&r._updateARIA(a)},_editable:function(e){var t=this,i=t.element.off(u),n=t._dateIcon.off(u),r=t._timeIcon.off(u),a=t._inputWrapper.off(u),s=e.readonly,o=e.disable;s||o?(a.addClass(o?f:p).removeClass(o?p:f),i.attr("disabled",o).attr("readonly",s).attr(I,o)):(a.addClass(p).removeClass(f).on("mouseenter.kendoDateTimePicker mouseleave.kendoDateTimePicker",t._toggleHover),i&&i.length&&(i[0].removeAttribute("disabled"),i[0].removeAttribute("readonly",!1),i[0].removeAttribute(I,!1)),i.on("keydown"+u,m.proxy(t._keydown,t)).on("focus"+u,function(){t._inputWrapper.addClass(h)}).on("focusout"+u,function(){t._inputWrapper.removeClass(h),i.val()!==t._oldText&&(t._change(i.val()),i.val()||t.dateView.current(g.calendar.getToday())),t.close("date"),t.close("time")}),n.on(k,P).on(d,function(e){t.toggle("date"),t._focusElement(e.type)}),r.on(k,P).on(d,function(e){t.toggle("time"),t._focusElement(e.type)}))},_focusElement:function(e){var t=this.element;i.touch&&(!i.mouseAndTouchPresent||(e||"").match(/touch/i))||t[0]===n()||t.trigger("focus")},readonly:function(e){this._editable({readonly:e===l||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===l||e)})},destroy:function(){var e=this;s.fn.destroy.call(e),e.dateView.destroy(),e.timeView.destroy(),e.element.off(u),e._dateIcon.off(u),e._timeIcon.off(u),e._inputWrapper.off(u),e._form&&e._form.off("reset",e._resetHandler)},close:function(e){"time"!==e&&(e="date"),this[e+"View"].close()},open:function(e){"time"!==e&&(e="date"),this[e+"View"].open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},toggle:function(e){var t="timeView";"time"!==e?e="date":t="dateView",this[e+"View"].toggle(),this[t].close()},value:function(e){if(e===l)return this._value;this._old=this._update(e),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_change:function(e){var t,i=this,n=i.element.val();e=i._update(e);var r=(t=+i._old!=+e)&&!i._typing,a=n!==i.element.val();(r||a)&&i.element.trigger(y),t&&(i._old=e,i._oldText=i.element.val(),i.trigger(y)),i._typing=!1},_option:function(e,t){var i,n,r=this.options,a=this.timeView,s=a.options,o=this._value||this._old;if(t===l)return r[e];if(t=_(t,r.parseFormats,r.culture)){if(r.min.getTime()===r.max.getTime()&&(s.dates=[]),r[e]=new D(t.getTime()),this.dateView[e](t),this._midnight=this._calculateMidnight(r.min,r.max),o&&(i=b(r.min,o),n=b(r.max,o)),i||n){if(s[e]=t,i&&!n&&(s.max=H(r.interval)),n){if(this._midnight)return void a.dataBind([E]);i||(s.min=F)}}else s.max=E,s.min=F;a.bind()}},_toggleHover:function(e){m(e.currentTarget).toggleClass("k-state-hover","mouseenter"===e.type)},_update:function(e){var t,i,n,r,a,s=this,o=s.options,l=o.min,u=o.max,c=o.dates,d=s.timeView,p=s._value,h=_(e,o.parseFormats,o.culture),f=null===h&&null===p||h instanceof Date&&p instanceof Date;return o.disableDates&&o.disableDates(h)&&(h=null,s._old||s.element.val()||(e=null)),+h==+p&&f?(a=g.toString(h,o.format,o.culture))!==e&&(s.element.val(null===h?e:a),e instanceof String&&s.element.trigger(y)):(null!==h&&b(h,l)?h=w(h,l,u):v(h,l,u)||(h=null),s._value=h,d.value(h),s.dateView.value(h),h&&(n=s._old,i=d.options,c[0]&&(c=m.grep(c,function(e){return b(h,e)}))[0]&&(d.dataBind(c),r=!0),r||(b(h,l)&&(i.min=l,i.max=H(o.interval),t=!0),b(h,u)&&(s._midnight?(d.dataBind([E]),r=!0):(i.max=u,t||(i.min=F),t=!0))),!r&&(!n&&t||n&&!b(n,h))&&(t||(i.max=E,i.min=F),d.bind())),s._dateInput&&h?s._dateInput.value(h||e):s.element.val(g.toString(h||e,o.format,o.culture)),s._updateARIA(h)),h},_keydown:function(e){var t=this.dateView,i=this.timeView,n=this.element.val(),r=t.popup.visible(),a=this._dateInput&&e.stopImmediatePropagation;e.altKey&&e.keyCode===g.keys.DOWN?this.toggle(r?"time":"date"):r?(t.move(e),this._updateARIA(t._current)):i.popup.visible()?i.move(e):e.keyCode===g.keys.ENTER&&n!==this._oldText?this._change(n):a=!(this._typing=!0),a&&e.stopImmediatePropagation()},_views:function(){var s,i,t,n,e,r,o=this,a=o.element,l=o.options,u=a.attr("id");o.dateView=s=new g.DateView(O({},l,{id:u,anchor:o.wrapper,change:function(){var e,t,i=s.calendar.value(),n=+i,r=+l.min,a=+l.max;n!=r&&n!=a||(e=n==r?r:a,(e=new D(o._value||e)).setFullYear(i.getFullYear(),i.getMonth(),i.getDate()),v(e,r,a)&&(i=e)),o._value&&(t=g.date.setHours(new Date(i),o._value),v(t,r,a)&&(i=t)),o._change(i),o.close("date")},close:function(e){o.trigger("close",A)?e.preventDefault():(a.attr(C,!1),t.attr(T,!0),i.popup.visible()||a&&a.length&&a[0].removeAttribute(S))},open:function(e){o.trigger("open",A)?e.preventDefault():(a.val()!==o._oldText&&(r=_(a.val(),l.parseFormats,l.culture),o.dateView[r?"current":"value"](r)),t.attr(T,!1),a.attr(C,!0).attr(S,s._dateViewID),o._updateARIA(r))}})),t=s.div,e=l.min.getTime(),o.timeView=i=new c({id:u,value:l.value,anchor:o.wrapper,animation:l.animation,format:l.timeFormat,culture:l.culture,height:l.height,interval:l.interval,min:new D(F),max:new D(E),dates:e===l.max.getTime()?[new Date(e)]:[],parseFormats:l.parseFormats,change:function(e,t){(e=i._parse(e))<l.min?(e=new D(+l.min),i.options.min=e):e>l.max&&(e=new D(+l.max),i.options.max=e),t?(o._timeSelected=!0,o._change(e)):(a.val(g.toString(e,l.format,l.culture)),s.value(e),o._updateARIA(e))},close:function(e){o.trigger("close",M)?e.preventDefault():(n.attr(T,!0),a.attr(C,!1),s.popup.visible()||a&&a.length&&a[0].removeAttribute(S))},open:function(e){i._adjustListWidth(),o.trigger("open",M)?e.preventDefault():(a.val()!==o._oldText&&(r=_(a.val(),l.parseFormats,l.culture),o.timeView.value(r)),n.attr(T,!1),a.attr(C,!0).attr(S,i._timeViewID),i.options.active(i.current()))},active:function(e){a&&a.length&&a[0].removeAttribute(x),e&&a.attr(x,i._optionID)},popup:l.popup,useValueToRender:!0}),n=i.ul},_icons:function(){var e,t=this.element,i=this.options;(e=t.next("span.k-select"))[0]||(e=m('<span unselectable="on" class="k-select"><span class="k-link k-link-date" aria-label="'+i.dateButtonText+'"><span unselectable="on" class="k-icon k-i-calendar"></span></span><span class="k-link k-link-time" aria-label="'+i.timeButtonText+'"><span unselectable="on" class="k-icon k-i-clock"></span></span></span>').insertAfter(t)),e=e.children(),this._dateIcon=e.eq(0).attr("aria-controls",this.dateView._dateViewID),this._timeIcon=e.eq(1).attr("aria-controls",this.timeView._timeViewID)},_wrapper:function(){var e,t=this.element;(e=t.parents(".k-datetimepicker"))[0]||(e=(e=t.wrap("<span/>").parent().addClass("k-picker-wrap k-state-default")).wrap("<span/>").parent()),e[0].style.cssText=t[0].style.cssText,t.css({width:"100%",height:t[0].style.height}),this.wrapper=e.addClass("k-widget k-datetimepicker").addClass(t[0].className).removeClass("input-validation-error"),this._inputWrapper=m(e[0].firstChild)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?m("#"+i):t.closest("form"),r=e.options,a=r.disableDates,s=r.parseFormats.length?r.parseFormats:null,o=e._initialOptions.value,l=t[0].defaultValue;o&&a&&a(o)&&(o=null),l&&g.parseDate(l,s,r.culture)||!o||t.attr("value",g.toString(o,r.format,r.culture)),n[0]&&(e._resetHandler=function(){e.value(o||t[0].defaultValue),e.max(e._initialOptions.max),e.min(e._initialOptions.min)},e._form=n.on("reset",e._resetHandler))},_template:function(){this._ariaTemplate=g.template(this.options.ARIATemplate)},_createDateInput:function(e){this._dateInput&&(this._dateInput.destroy(),this._dateInput=null),e.dateInput&&(this._dateInput=new t.DateInput(this.element,{culture:e.culture,format:e.format,min:e.min,max:e.max,interval:e.interval}))},_calculateMidnight:function(e,t){return a(e)+a(t)===0},_updateARIA:function(e){var t,i=this.dateView.calendar;this.element&&this.element.length&&this.element[0].removeAttribute(x),i&&((t=i._cell).attr("aria-label",this._ariaTemplate({current:e||i.current()})),this.element.attr(x,t.attr("id")))}});function H(e){var t=new Date(2100,0,1);return t.setMinutes(-e),t}function P(e){e.preventDefault()}function z(e){var t,i=g.getCulture(e.culture).calendars.standard.patterns,n=!e.parseFormats.length;e.format=r(e.format||i.g),e.timeFormat=t=r(e.timeFormat||i.t),g.DateView.normalize(e),n&&e.parseFormats.unshift("yyyy-MM-ddTHH:mm:ss"),-1===m.inArray(t,e.parseFormats)&&e.parseFormats.push(t)}t.plugin(o)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.list",["kendo.data","kendo.popup"],function(){var e={id:"list",name:"List",category:"framework",depends:["data","popup"],hidden:true};return function(p,h){var f=window.kendo,n=f.ui,a=f._outerHeight,m=/^\d+(\.\d+)?%$/i,s=n.Widget,g=f.keys,r=f.support,_=f.htmlEncode,v=f._activeElement,o=f._outerWidth,t=f.data.ObservableArray,w="change",l="k-state-focused",u="k-state-hover",i="k-i-loading",c=".k-group-header",d="cascade",b="select",y="requestStart",k="requestEnd",x=p.extend,C=p.proxy,T=p.isArray,S=r.browser,I=S.msie,e=I&&S.version<9,D=/"/g,F={ComboBox:["DropDownList","MultiColumnComboBox"],DropDownList:["ComboBox","MultiColumnComboBox"],MultiColumnComboBox:["ComboBox","DropDownList"]},E=f.ui.DataBoundWidget.extend({init:function(e,t){var i,n=this,r=n.ns;s.fn.init.call(n,e,t),e=n.element,t=n.options,n._isSelect=e.is(b),n._isSelect&&n.element[0].length&&(t.dataSource||(t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value")),n.ul=p('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),n.list=p("<div class='k-list-container'/>").append(n.ul).on("mousedown"+r,C(n._listMousedown,n)),i=(i=e.attr("id"))||f.guid(),n.list.attr("id",i+"-list"),n.ul.attr("id",i+"_listbox"),t.columns&&t.columns.length&&(n.ul.removeClass("k-list").addClass("k-grid-list"),n._columnsHeader()),n._header(),n._noData(),n._footer(),n._accessors(),n._initValue()},options:{valuePrimitive:!1,footerTemplate:"",headerTemplate:"",noDataTemplate:!0,messages:{noData:"No data found.",clear:"clear"}},setOptions:function(e){s.fn.setOptions.call(this,e),e&&e.enable!==h&&(e.enabled=e.enable),e.columns&&e.columns.length&&this._columnsHeader(),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData()},focus:function(){this._focused.focus()},readonly:function(e){this._editable({readonly:e===h||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===h||e)})},_header:function(){var e=p(this.header),t=this.options.headerTemplate;if(this._angularElement(e,"cleanup"),f.destroy(e),e.remove(),t){var i="function"!=typeof t?f.template(t):t;e=p(i({})),this.header=e[0]?e:null,this.list.prepend(e),this._angularElement(this.header,"compile")}else this.header=null},_columnsHeader:function(){var e=p(this.columnsHeader);this._angularElement(e,"cleanup"),f.destroy(e),e.remove();for(var t="<div class='k-grid-header'><div class='k-grid-header-wrap'><table role='presentation'>",i="<colgroup>",n="<tr>",r=0;r<this.options.columns.length;r++){var a=this.options.columns[r],s=a.title||a.field||"",o=a.headerTemplate||s,l="function"!=typeof o?f.template(o):o,u=a.width,c=parseInt(u,10),d="";u&&!isNaN(c)&&(d+="style='width:",d+=c,d+=m.test(u)?"%":"px",d+=";'"),i+="<col "+d+"/>",n+="<th class='k-header'>",n+=l(a),n+="</th>"}t+=i+="</colgroup>",t+=n+="</tr>",t+="</table></div></div>",this.columnsHeader=e=p(t),this.list.prepend(e),this._angularElement(this.columnsHeader,"compile")},_noData:function(){var e=p(this.noData),t=!0===this.options.noDataTemplate?this.options.messages.noData:this.options.noDataTemplate;this.angular("cleanup",function(){return{elements:e}}),f.destroy(e),e.remove(),t?(this.noData=p('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(this.list),this.noDataTemplate="function"!=typeof t?f.template(t):t):this.noData=null},_footer:function(){var e=p(this.footer),t=this.options.footerTemplate;this._angularElement(e,"cleanup"),f.destroy(e),e.remove(),t?(this.footer=p('<div class="k-footer"></div>').appendTo(this.list),this.footerTemplate="function"!=typeof t?f.template(t):t):this.footer=null},_listOptions:function(e){var t=this,i=t.options,n=i.virtual,r={change:C(t._listChange,t)},a=C(t._listBound,t);return n="object"==typeof n?n:{},(e=p.extend({autoBind:!1,selectable:!0,dataSource:t.dataSource,click:C(t._click,t),activate:C(t._activateItem,t),columns:i.columns,deactivate:C(t._deactivateItem,t),dataBinding:function(){t.trigger("dataBinding")},dataBound:a,height:i.height,dataValueField:i.dataValueField,dataTextField:i.dataTextField,groupTemplate:i.groupTemplate,fixedGroupTemplate:i.fixedGroupTemplate,template:i.template},e,n,r)).template||(e.template="#:"+f.expr(e.dataTextField,"data")+"#"),i.$angular&&(e.$angular=i.$angular),e},_initList:function(){var e=this,t=e._listOptions({selectedItemChange:C(e._listChange,e)});e.options.virtual?e.listView=new f.ui.VirtualList(e.ul,t):e.listView=new f.ui.StaticList(e.ul,t),e.listView.bind("listBound",C(e._listBound,e)),e._setListValue()},_setListValue:function(e){(e=e||this.options.value)!==h&&this.listView.value(e).done(C(this._updateSelectionState,this))},_updateSelectionState:p.noop,_listMousedown:function(e){this.filterInput&&this.filterInput[0]===e.target||e.preventDefault()},_isFilterEnabled:function(){var e=this.options.filter;return e&&"none"!==e},_hideClear:function(){this._clear&&this._clear.addClass("k-hidden")},_showClear:function(){this._clear&&this._clear.removeClass("k-hidden")},_clearValue:function(){this._clearText(),this._accessor(""),this.listView.value([]),this._isSelect&&(this._customOption=h),this._isFilterEnabled()&&!this.options.enforceMinLength&&(this._filter({word:"",open:!1}),this.options.highlightFirst&&this.listView.focus(0)),this._change()},_clearText:function(){this.text("")},_clearFilter:function(){this.options.virtual||this.listView.bound(!1),this._filterSource()},_filterSource:function(e,t){var i=this.options,n=i.filterFields&&e&&e.logic&&e.filters&&e.filters.length,r=this.dataSource,a=x({},r.filter()||{}),s=e||a.filters&&a.filters.length&&!e,o=V(a,i.dataTextField);if(this._clearFilterExpressions(a),!e&&!o||!this.trigger("filtering",{filter:e})){var l={filters:[],logic:"and"};n?l.filters.push(e):this._pushFilterExpression(l,e),z(a)&&(l.logic===a.logic?l.filters=l.filters.concat(a.filters):l.filters.push(a)),this._cascading&&this.listView.setDSFilter(l);var u=x({},{page:s?1:r.page(),pageSize:s?r.options.pageSize:r.pageSize(),sort:r.sort(),filter:r.filter(),group:r.group(),aggregate:r.aggregate()},{filter:l});return r[t?"read":"query"](r._mergeState(u))}},_pushFilterExpression:function(e,t){z(t)&&""!==t.value&&e.filters.push(t)},_clearFilterExpressions:function(e){if(e.filters){for(var t,i=0;i<e.filters.length;i++)"fromFilter"in e.filters[i]&&(t=i);isNaN(t)||e.filters.splice(t,1)}},_angularElement:function(e,t){e&&this.angular(t,function(){return{elements:e}})},_renderNoData:function(){var e=this.noData;e&&(this._angularElement(e,"cleanup"),e.children(":first").html(this.noDataTemplate({instance:this})),this._angularElement(e,"compile"))},_toggleNoData:function(e){p(this.noData).toggle(e)},_toggleHeader:function(e){this.listView.content.prev(c).toggle(e)},_renderFooter:function(){var e=this.footer;e&&(this._angularElement(e,"cleanup"),e.html(this.footerTemplate({instance:this})),this._angularElement(e,"compile"))},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var e=this.options.value;null!==e?this.element.val(e):(e=this._accessor(),this.options.value=e),this._old=e},_ignoreCase:function(){var e,t=this.dataSource.reader.model;t&&t.fields&&(e=t.fields[this.options.dataTextField])&&e.type&&"string"!==e.type&&(this.options.ignoreCase=!1)},_focus:function(e){return this.listView.focus(e)},_filter:function(e){var t,i=this.options,n=e.word,r=i.filterFields,a=i.dataTextField;if(r&&r.length){t={logic:"or",filters:[],fromFilter:!0};for(var s=0;s<r.length;s++)this._pushFilterExpression(t,this._buildExpression(n,r[s]))}else t=this._buildExpression(n,a);this._open=e.open,this._filterSource(t)},_buildExpression:function(e,t){var i=this.options,n=i.ignoreCase,r=this.dataSource.options.accentFoldingFiltering;return{value:n?r?e.toLocaleLowerCase(r):e.toLowerCase():e,field:t,operator:i.filter,ignoreCase:n}},_clearButton:function(){var e=this.options.messages.clear;this._clear||(this._clear=p('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="'+e+'"></span>').attr({role:"button",tabIndex:-1})),this.options.clearButton||this._clear.remove(),this._hideClear()},search:function(e){var t=this.options;e="string"==typeof e?e:this._inputValue(),clearTimeout(this._typingTimeout),(!t.enforceMinLength&&!e.length||e.length>=t.minLength)&&(this._state="filter",this.listView&&(this.listView._emptySearch=!p.trim(e).length),this._isFilterEnabled()?this._filter({word:e,open:!0}):this._searchByWord(e))},current:function(e){return this._focus(e)},items:function(){return this.ul[0].children},destroy:function(){var e=this.ns;s.fn.destroy.call(this),this._unbindDataSource(),this.listView.destroy(),this.list.off(e),this.popup.destroy(),this._form&&this._form.off("reset",this._resetHandler)},dataItem:function(e){if(e===h)return this.listView.selectedDataItems()[0];if("number"!=typeof e){if(this.options.virtual)return this.dataSource.getByUid(p(e).data("uid"));e=p(this.items()).index(e)}return this.dataSource.flatView()[e]},_activateItem:function(){var e=this.listView.focus();e&&this._focused.add(this.filterInput).attr("aria-activedescendant",e.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var e=this.element,t=this.options,i=f.getter,n=e.attr(f.attr("text-field")),r=e.attr(f.attr("value-field"));!t.dataTextField&&n&&(t.dataTextField=n),!t.dataValueField&&r&&(t.dataValueField=r),this._text=i(t.dataTextField),this._value=i(t.dataValueField)},_aria:function(e){var t=this.options,i=this._focused.add(this.filterInput);t.suggest!==h&&i.attr("aria-autocomplete",t.suggest?"both":"list"),e=e?e+" "+this.ul[0].id:this.ul[0].id,i.attr("aria-owns",e),this.ul.attr("aria-live",this._isFilterEnabled()?"polite":"off"),this._ariaLabel()},_ariaLabel:function(){var e=this._focused,t=this.element,i=t.attr("id"),n=p('label[for="'+i+'"]'),r=t.attr("aria-label"),a=t.attr("aria-labelledby");if(e!==t)if(r)e.attr("aria-label",r);else if(a)e.attr("aria-labelledby",a);else if(n.length){var s=n.attr("id")||this._generateLabelId(n,i||f.guid());e.attr("aria-labelledby",s)}},_generateLabelId:function(e,t){var i=t+"_label";return e.attr("id",i),i},_blur:function(){this._change(),this.close()},_change:function(){var e,t=this,i=t.selectedIndex,n=t.options.value,r=t.value();t._isSelect&&!t.listView.bound()&&n&&(r=n),(r!==A(t._old,typeof r)&&r!==A(t._oldText,typeof r)||t._valueBeforeCascade!==h&&t._valueBeforeCascade!==A(t._old,typeof t._valueBeforeCascade)&&t._userTriggered||i!==h&&i!==t._oldIndex&&!t.listView.isFiltered())&&(e=!0),e&&(null===t._old||""===t._old||""===r?t._valueBeforeCascade=t._old=r:t.dataItem()?t._valueBeforeCascade=t._old=t.options.dataValueField?t.dataItem()[t.options.dataValueField]:t.dataItem():t._valueBeforeCascade=t._old=null,t._oldIndex=i,t._oldText=t.text&&t.text(),t._typing||t.element.trigger(w),t.trigger(w)),t.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var e=this.options,t=this.element.is("[disabled]");e.enable!==h&&(e.enabled=e.enable),!e.enabled||t?this.enable(!1):this.readonly(this.element.is("[readonly]"))},_dataValue:function(e){var t=this._value(e);return t===h&&(t=this._text(e)),t},_offsetHeight:function(){var t=0;return this.listView.content.prevAll(":visible").each(function(){var e=p(this);t+=a(e,!0)}),t},_height:function(e){var t,i=this.list,n=this.options.height,r=this.popup.visible();if(e||this.options.noDataTemplate){if(t=i.add(i.parent(".k-animation-container")).show(),!i.is(":visible"))return void t.hide();n=this.listView.content[0].scrollHeight>n?n:"auto",t.height(n),"auto"!==n&&(n=n-this._offsetHeight()-(a(p(this.footer))||0)),this.listView.content.height(n),r||t.hide()}return n},_openHandler:function(e){this._adjustListWidth(),this.trigger("open")?e.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_adjustListWidth:function(){var e,t,i=this.list,n=i[0].style.width,r=this.wrapper;if(i.data("width")||!n)return e=window.getComputedStyle?window.getComputedStyle(r[0],null):0,t=parseFloat(e&&e.width)||o(r),e&&S.msie&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),n="border-box"!==i.css("box-sizing")?t-(o(i)-i.width()):t,i.css({fontFamily:r.css("font-family"),width:this.options.autoWidth?"auto":n,minWidth:n,whiteSpace:this.options.autoWidth?"nowrap":"normal"}).data("width",n),!0},_closeHandler:function(e){this.trigger("close")?e.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var e=this.listView,t=!e.focus(),i=H(e.select());i===h&&this.options.highlightFirst&&t&&(i=0),i!==h?e.focus(i):t&&e.scrollToIndex(0)},_calculateGroupPadding:function(e){var t=this.ul.children(".k-first:first"),i=this.listView.content.prev(c),n=0,r="right";i[0]&&"none"!==i[0].style.display&&("auto"!==e&&(n=f.support.scrollbar()),this.element.parents(".k-rtl").length&&(r="left"),n+=parseFloat(t.css("border-"+r+"-width"),10)+parseFloat(t.children(".k-group").css("padding-"+r),10),i.css("padding-"+r,n))},_calculatePopupHeight:function(e){var t=this._height(this.dataSource.flatView().length||e);this._calculateGroupPadding(t),this._calculateColumnsHeaderPadding(t)},_calculateColumnsHeaderPadding:function(e){if(this.options.columns&&this.options.columns.length){var t=r.isRtl(this.wrapper),i=f.support.scrollbar();this.columnsHeader.css(t?"padding-left":"padding-right","auto"!==e?i:0)}},_refreshScroll:function(){var e=this.listView,t=e.element.height()>e.content.height();this.options.autoWidth&&e.content.css({overflowX:"hidden",overflowY:t?"scroll":"auto"})},_resizePopup:function(e){this.options.virtual||(this.popup.element.is(":visible")?this._calculatePopupHeight(e):(this.popup.one("open",function(e){return C(function(){this._calculatePopupHeight(e)},this)}.call(this,e)),this.popup.one("activate",C(this._refreshScroll,this))))},_popup:function(){var e=this;e.popup=new n.Popup(e.list,x({},e.options.popup,{anchor:e.wrapper,open:C(e._openHandler,e),close:C(e._closeHandler,e),animation:e.options.animation,isRtl:r.isRtl(e.wrapper),autosize:e.options.autoWidth}))},_makeUnselectable:function(){e&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(e){p(e.currentTarget).toggleClass(u,"mouseenter"===e.type)},_toggle:function(e,t){var i=r.mobileOS&&(r.touch||r.MSPointers||r.pointers);e=e!==h?e:!this.popup.visible(),t||i||this._focused[0]===v()||(this._prevent=!0,this._focused.focus(),this._prevent=!1),this[e?"open":"close"]()},_triggerCascade:function(){this._cascadeTriggered&&this.value()===A(this._cascadedValue,typeof this.value())||(this._cascadedValue=this.value(),this._cascadeTriggered=!0,this.trigger(d,{userTriggered:this._userTriggered}))},_triggerChange:function(){this._valueBeforeCascade!==this.value()&&this.trigger(w)},_unbindDataSource:function(){this.dataSource.unbind(y,this._requestStartHandler).unbind(k,this._requestEndHandler).unbind("error",this._errorHandler)},requireValueMapper:function(e,t){if(((e.value instanceof Array?e.value.length:e.value)||(t instanceof Array?t.length:t))&&e.virtual&&"function"!=typeof e.virtual.valueMapper)throw new Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});function A(e,t){return e!==h&&""!==e&&null!==e&&("boolean"===t?("boolean"!=typeof e&&(e="true"===e.toLowerCase()),e=Boolean(e)):"number"===t?e=Number(e):"string"===t&&(e=e.toString())),e}x(E,{inArray:function(e,t){var i,n,r=t.children;if(!e||e.parentNode!==t)return-1;for(i=0,n=r.length;i<n;i++)if(e===r[i])return i;return-1},unifyType:A}),f.ui.List=E,n.Select=E.extend({init:function(e,t){E.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSource:function(e){var t,i=this;i.options.dataSource=e,i._dataSource(),i.listView.bound()&&(i._initialIndex=null,i.listView._current=null),i.listView.setDataSource(i.dataSource),i.options.autoBind&&i.dataSource.fetch(),(t=i._parentWidget())&&i._cascadeSelect(t)},close:function(){this.popup.close()},select:function(e){var t=this;return e===h?t.selectedIndex:t._select(e).done(function(){t._cascadeValue=t._old=t._accessor(),t._oldIndex=t.selectedIndex})},_accessor:function(e,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](e,t)},_accessorInput:function(e){var t=this.element[0];if(e===h)return t.value;null===e&&(e=""),t.value=e},_accessorSelect:function(e,t){var i=this.element[0];if(e===h)return P(i).value||"";P(i).selected=!1,t===h&&(t=-1),null!==e&&""!==e&&-1==t?this._custom(e):e?i.value=e:i.selectedIndex=t},_syncValueAndText:function(){return!0},_custom:function(e){var t=this.element,i=this._customOption;i||(i=p("<option/>"),this._customOption=i,t.append(i)),i.text(e),i[0].selected=!0},_hideBusy:function(){clearTimeout(this._busy),this._arrowIcon.removeClass(i),this._focused.attr("aria-busy",!1),this._busy=null,this._showClear()},_showBusy:function(e){var t=this;e.isDefaultPrevented()||(t._request=!0,t._busy||(t._busy=setTimeout(function(){t._arrowIcon&&(t._focused.attr("aria-busy",!0),t._arrowIcon.addClass(i),t._hideClear())},100)))},_requestEnd:function(){this._request=!1,this._hideBusy()},_dataSource:function(){var e,t=this,i=t.element,n=t.options,r=n.dataSource||{};r=p.isArray(r)?{data:r}:r,t._isSelect&&(-1<(e=i[0].selectedIndex)&&(n.index=e),r.select=i,r.fields=[{field:n.dataTextField},{field:n.dataValueField}]),t.dataSource?t._unbindDataSource():(t._requestStartHandler=C(t._showBusy,t),t._requestEndHandler=C(t._requestEnd,t),t._errorHandler=C(t._hideBusy,t)),t.dataSource=f.data.DataSource.create(r).bind(y,t._requestStartHandler).bind(k,t._requestEndHandler).bind("error",t._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){this.listView.focusNext()},_prevItem:function(){this.listView.focusPrev()},_move:function(e){var t,i,n,r=this,a=r.listView,s=e.keyCode,o=s===g.DOWN;if(s===g.UP||o){if(e.altKey)r.toggle(o);else{if(!a.bound()&&!r.ul[0].firstChild)return r._fetch||(r.dataSource.one(w,function(){r._fetch=!1,r._move(e)}),r._fetch=!0,r._filterSource()),e.preventDefault(),!0;if(n=r._focus(),r._fetch||n&&!n.hasClass("k-state-selected")||(o?(r._nextItem(),r._focus()||r._lastItem()):(r._prevItem(),r._focus()||r._firstItem())),t=a.dataItemByIndex(a.getElementIndex(r._focus())),r.trigger(b,{dataItem:t,item:r._focus()}))return void r._focus(n);r._select(r._focus(),!0).done(function(){r.popup.visible()||r._blur(),null===r._cascadedValue?r._cascadedValue=r.value():r._cascadedValue=r.dataItem()?r.dataItem()[r.options.dataValueField]||r.dataItem():null})}e.preventDefault(),i=!0}else if(s===g.ENTER||s===g.TAB){r.popup.visible()&&e.preventDefault(),n=r._focus(),t=r.dataItem(),r.popup.visible()||t&&r.text()===r._text(t)||(n=null);var l,u=r.filterInput&&r.filterInput[0]===v();if(n){var c=!0;if((t=a.dataItemByIndex(a.getElementIndex(n)))&&(c=r._value(t)!==E.unifyType(r.value(),typeof r._value(t))),c&&r.trigger(b,{dataItem:t,item:n}))return;l=r._select(n)}else r.input&&((r._syncValueAndText()||r._isSelect)&&r._accessor(r.input.val()),r.listView.value(r.input.val()));r._focusElement&&r._focusElement(r.wrapper),u&&s===g.TAB?r.wrapper.focusout():l&&"function"==typeof l.done?l.done(function(){r._blur()}):r._blur(),r.close(),i=!0}else if(s===g.ESC)r.popup.visible()&&e.preventDefault(),r.close(),i=!0;else if(r.popup.visible()&&(s===g.PAGEDOWN||s===g.PAGEUP)){e.preventDefault();var d=s===g.PAGEDOWN?1:-1;a.scrollWith(d*a.screenHeight()),i=!0}return i},_fetchData:function(){var e=this,t=!!e.dataSource.view().length;e._request||e.options.cascadeFrom||e.listView.bound()||e._fetch||t||(e._fetch=!0,e.dataSource.fetch().done(function(){e._fetch=!1}))},_options:function(e,t,i){var n,r,a,s,o=this.element,l=o[0],u=e.length,c="",d=0;for(t&&(c=t);d<u;d++)n="<option",r=e[d],a=this._text(r),(s=this._value(r))!==h&&(-1!==(s+="").indexOf('"')&&(s=s.replace(D,"&quot;")),n+=' value="'+s+'"'),n+=">",a!==h&&(n+=_(a)),c+=n+="</option>";o.html(c),i!==h&&(l.value=i,l.value&&!i&&(l.selectedIndex=-1)),-1!==l.selectedIndex&&(n=P(l))&&n.setAttribute("selected","selected")},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?p("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(e._initial)})},e._form=n.on("reset",e._resetHandler))},_parentWidget:function(){var e=this.options.name;if(this.options.cascadeFrom){var t=p("#"+this.options.cascadeFrom),i=t.data("kendo"+e);if(!i)for(var n=0;n<F[e].length&&!(i=t.data("kendo"+F[e][n]));n+=1);return i}},_cascade:function(){var e,t=this,i=t.options;if(i.cascadeFrom){if(!(e=t._parentWidget()))return;t._cascadeHandlerProxy=C(t._cascadeHandler,t),t._cascadeFilterRequests=[],i.autoBind=!1,e.bind("set",function(){t.one("set",function(e){t._selectedValue=e.value||t._accessor()})}),e.first(d,t._cascadeHandlerProxy),e.listView.bound()?(t._toggleCascadeOnFocus(),t._cascadeSelect(e)):(e.one("dataBound",function(){t._toggleCascadeOnFocus(),e.popup.visible()&&e._focused.focus()}),e.value()||t.enable(!1))}},_toggleCascadeOnFocus:function(){var e=this,t=e._parentWidget(),i=I&&t instanceof n.DropDownList?"blur":"focusout";t._focused.add(t.filterInput).bind("focus",function(){t.unbind(d,e._cascadeHandlerProxy),t.first(w,e._cascadeHandlerProxy)}),t._focused.add(t.filterInput).bind(i,function(){t.unbind(w,e._cascadeHandlerProxy),t.first(d,e._cascadeHandlerProxy)})},_cascadeHandler:function(e){var t=this._parentWidget(),i=this.value();this._userTriggered=e.userTriggered||t._userTriggered,this.listView.bound()&&this._clearSelection(t,!0),this._cascadeSelect(t,i)},_cascadeChange:function(e){var t=this,i=t._accessor()||t._selectedValue;t._cascadeFilterRequests.length||(t._selectedValue=null),t._userTriggered?t._clearSelection(e,!0):i?(i!==A(t.listView.value()[0],typeof i)&&t.value(i),t.dataSource.view()[0]&&-1!==t.selectedIndex||t._clearSelection(e,!0)):t.dataSource.flatView().length&&t.select(t.options.index),t.enable(),t._triggerCascade(),t._triggerChange(),t._userTriggered=!1},_cascadeSelect:function(t,e){var i=this,n=t.dataItem(),r=n?n[i.options.cascadeFromParentField]||t._value(n):null,a=i.options.cascadeFromField||t.options.dataValueField;if(i._valueBeforeCascade=e!==h?e:i.value(),r||0===r){V(i.dataSource.filter()||{},a);function s(){var e=i._cascadeFilterRequests.shift();e&&i.unbind("dataBound",e),(e=i._cascadeFilterRequests[0])&&i.first("dataBound",e),i._cascadeChange(t)}i._cascadeFilterRequests.push(s),1===i._cascadeFilterRequests.length&&i.first("dataBound",s),i._cascading=!0,i._filterSource({field:a,operator:"eq",value:r}),i._cascading=!1}else i.enable(!1),i._clearSelection(t),i._triggerCascade(),i._triggerChange(),i._userTriggered=!1}});var M=".StaticList",O=f.ui.DataBoundWidget.extend({init:function(e,t){s.fn.init.call(this,e,t),this.element.attr("role","listbox").on("click"+M,"li",C(this._click,this)).on("mouseenter"+M,"li",function(){p(this).addClass(u)}).on("mouseleave"+M,"li",function(){p(this).removeClass(u)}),r.touch&&this._touchHandlers(),"multiple"===this.options.selectable&&this.element.attr("aria-multiselectable",!0),this.content=this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent(),this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev(),this.bound(!1),this._optionID=f.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var i=this.options.value;i&&(this._values=p.isArray(i)?i.slice(0):[i]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=C(function(){var e=this;clearTimeout(e._scrollId),e._scrollId=setTimeout(function(){e._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click",w,"activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(e){var t,i=this,n=e||{};n=p.isArray(n)?{data:n}:n,n=f.data.DataSource.create(n),i.dataSource?(i.dataSource.unbind(w,i._refreshHandler),t=i.value(),i.value([]),i.bound(!1),i.value(t)):i._refreshHandler=C(i.refresh,i),i.setDSFilter(n.filter()),i.dataSource=n.bind(w,i._refreshHandler),i._fixedHeader()},_touchHandlers:function(){function t(e){return(e.originalEvent||e).changedTouches[0].pageY}var i,n,r=this;r.element.on("touchstart"+M,function(e){i=t(e)}),r.element.on("touchend"+M,function(e){e.isDefaultPrevented()||(n=t(e),Math.abs(n-i)<10&&(r._touchTriggered=!0,r._triggerClick(p(e.target).closest(".k-item").get(0))))})},skip:function(){return this.dataSource.skip()},setOptions:function(e){s.fn.setOptions.call(this,e),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(M),this._refreshHandler&&this.dataSource.unbind(w,this._refreshHandler),clearTimeout(this._scrollId),s.fn.destroy.call(this)},dataItemByIndex:function(e){return this.dataSource.flatView()[e]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(e){var t=this.element[0].children[e];t&&this.scroll(t)},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scroll:function(e){if(e){e[0]&&(e=e[0]);var t=this.content[0],i=e.offsetTop,n=e.offsetHeight,r=t.scrollTop,a=t.clientHeight,s=i+n;i<r?r=i:r+a<s&&(r=s-a),t.scrollTop=r}},selectedDataItems:function(e){if(e===h)return this._dataItems.slice();this._dataItems=e,this._values=this._getValues(e)},_getValues:function(e){var t=this._valueGetter;return p.map(e,function(e){return t(e)})},focusNext:function(){var e=this.focus();e=e?e.next():0,this.focus(e)},focusPrev:function(){var e=this.focus();e=e?e.prev():this.element[0].children.length-1,this.focus(e)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(H(this.element[0].children))},focus:function(e){var t,i=this._optionID;if(e===h)return this._current;e=H(this._get(e)),e=p(this.element[0].children[e]),this._current&&(this._current.removeClass(l).removeAttr("id"),this.trigger("deactivate")),(t=!!e[0])&&(e.addClass(l),this.scroll(e),e.attr("id",i)),this._current=t?e:null,this.trigger("activate")},focusIndex:function(){return this.focus()?this.focus().index():h},skipUpdate:function(e){this._skipUpdate=e},select:function(e){var t,i,n=this,r=n.options.selectable,a="multiple"!==r&&!1!==r,s=n._selectedIndices,o=[this.element.find(".k-state-selected").index()],l=[];if(e===h)return s.slice();1===(e=n._get(e)).length&&-1===e[0]&&(e=[]);var u=p.Deferred().resolve(),c=n.isFiltered();return c&&!a&&n._deselectFiltered(e)||(a&&!c&&-1!==p.inArray(H(e),s)&&-1!==p.inArray(H(e),o)?n._dataItems.length&&n._view.length&&(n._dataItems=[n._view[s[0]].item]):(t=(i=n._deselect(e)).removed,(e=i.indices).length&&(a&&(e=[H(e)]),l=n._select(e)),(l.length||t.length)&&(n._valueComparer=null,n.trigger(w,{added:l,removed:t})))),u},removeAt:function(e){return this._selectedIndices.splice(e,1),this._values.splice(e,1),this._valueComparer=null,{position:e,dataItem:this._dataItems.splice(e,1)[0]}},setValue:function(e){e=p.isArray(e)||e instanceof t?e.slice(0):[e],this._values=e,this._valueComparer=null},value:function(e){var t,i=this,n=i._valueDeferred;return e===h?i._values.slice():(i.setValue(e),n&&"resolved"!==n.state()||(i._valueDeferred=n=p.Deferred()),i.bound()&&(t=i._valueIndices(i._values),"multiple"===i.options.selectable&&i.select(-1),i.select(t),n.resolve()),i._skipUpdate=!1,n)},items:function(){return this.element.children(".k-item")},_click:function(e){this._touchTriggered?this._touchTriggered=!1:e.isDefaultPrevented()||this._triggerClick(e.currentTarget)},_triggerClick:function(e){this.trigger("click",{item:p(e)})||this.select(e)},_valueExpr:function(e,t){var i,n,r=0,a=[];if(!this._valueComparer||this._valueType!==e){for(this._valueType=e;r<t.length;r++)a.push(A(t[r],e));i="for (var idx = 0; idx < "+a.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",n=new Function("current","values",i),this._valueComparer=function(e){return n(e,a)}}return this._valueComparer},_dataItemPosition:function(e,t){var i=this._valueGetter(e);return this._valueExpr(typeof i,t)(i)},_getter:function(){this._valueGetter=f.getter(this.options.dataValueField)},_deselect:function(e){var t,i,n,r=this.element[0].children,a=this.options.selectable,s=this._selectedIndices,o=this._dataItems,l=this._values,u=[],c=0,d=0;if(e=e.slice(),!0!==a&&e.length){if("multiple"===a)for(;c<e.length;c++)if(i=e[c],p(r[i]).hasClass("k-state-selected"))for(t=0;t<s.length;t++)if((n=s[t])===i){p(r[n]).removeClass("k-state-selected").attr("aria-selected",!1),u.push({position:t+d,dataItem:o.splice(t,1)[0]}),s.splice(t,1),e.splice(c,1),l.splice(t,1),d+=1,--c,--t;break}}else{for(;c<s.length;c++)p(r[s[c]]).removeClass("k-state-selected").attr("aria-selected",!1),u.push({position:c,dataItem:o[c]});this._values=[],this._dataItems=[],this._selectedIndices=[]}return{indices:e,removed:u}},_deselectFiltered:function(e){for(var t,i,n,r=this.element[0].children,a=[],s=0;s<e.length;s++)i=e[s],t=this._view[i].item,-1<(n=this._dataItemPosition(t,this._values))&&(a.push(this.removeAt(n)),p(r[i]).removeClass("k-state-selected"));return!!a.length&&(this.trigger(w,{added:[],removed:a}),!0)},_select:function(e){var t,i,n=this.element[0].children,r=this._view,a=[],s=0;for(-1!==H(e)&&this.focus(e);s<e.length;s++)t=r[i=e[s]],-1!==i&&t&&(t=t.item,this._selectedIndices.push(i),this._dataItems.push(t),this._values.push(this._valueGetter(t)),p(n[i]).addClass("k-state-selected").attr("aria-selected",!0),a.push({dataItem:t}));return a},getElementIndex:function(e){return p(e).data("offset-index")},_get:function(e){return"number"==typeof e?e=[e]:T(e)||(e=[(e=this.getElementIndex(e))!==h?e:-1]),e},_template:function(){var e=this.options,t=e.template;return t=t?(t=f.template(t),function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+t(e)+"</li>"}):f.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+f.expr(e.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_templates:function(){var e,t=this.options,i={template:t.template,groupTemplate:t.groupTemplate,fixedGroupTemplate:t.fixedGroupTemplate};if(t.columns)for(var n=0;n<t.columns.length;n++){var r=t.columns[n],a=r.field?r.field.toString():"text";i["column"+n]=r.template||"#: "+a+"#"}for(var s in i)(e=i[s])&&"function"!=typeof e&&(i[s]=f.template(e));this.templates=i},_normalizeIndices:function(e){for(var t=[],i=0;i<e.length;i++)e[i]!==h&&t.push(e[i]);return t},_valueIndices:function(e,t){var i,n=this._view,r=0;if(t=t?t.slice():[],!e.length)return[];for(;r<n.length;r++)-1!==(i=this._dataItemPosition(n[r].item,e))&&(t[i]=r);return this._normalizeIndices(t)},_firstVisibleItem:function(){for(var e=this.element[0],t=this.content[0].scrollTop,i=p(e.children[0]).height(),n=Math.floor(t/i)||0,r=e.children[n]||e.lastChild,a=r.offsetTop<t;r;)if(a){if(r.offsetTop+i>t||!r.nextSibling)break;r=r.nextSibling}else{if(r.offsetTop<=t||!r.previousSibling)break;r=r.previousSibling}return this._view[p(r).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var e=this.templates.fixedGroupTemplate;if(e){var t=this._firstVisibleItem();t&&t.group.toString().length&&this.header.html(e(t.group))}},_renderItem:function(e){var t='<li tabindex="-1" role="option" unselectable="on" class="k-item',i=e.item,n=0!==e.index,r=e.selected,a=this.isGrouped(),s=this.options.columns&&this.options.columns.length;return n&&e.newGroup&&(t+=" k-first"),e.isLastGroupedItem&&s&&(t+=" k-last"),r&&(t+=" k-state-selected"),t+='" aria-selected="'+(r?"true":"false")+'" data-offset-index="'+e.index+'">',t+=s?this._renderColumns(i):this.templates.template(i),n&&e.newGroup?t+=s?'<div class="k-cell k-group-cell"><span>'+this.templates.groupTemplate(e.group)+"</span></div>":'<div class="k-group">'+this.templates.groupTemplate(e.group)+"</div>":a&&s&&(t+="<div class='k-cell k-spacer-cell'></div>"),t+"</li>"},_renderColumns:function(e){for(var t="",i=0;i<this.options.columns.length;i++){var n=this.options.columns[i].width,r=parseInt(n,10),a="";n&&!isNaN(r)&&(a+="style='width:",a+=r,a+=m.test(n)?"%":"px",a+=";'"),t+="<span class='k-cell' "+a+">",t+=this.templates["column"+i](e),t+="</span>"}return t},_render:function(){var e,t,i,n,r="",a=0,s=0,o=[],l=this.dataSource.view(),u=this.value(),c=this.isGrouped();if(c)for(a=0;a<l.length;a++)for(t=l[a],i=!0,n=0;n<t.items.length;n++)e={selected:this._selected(t.items[n],u),item:t.items[n],group:t.value,newGroup:i,isLastGroupedItem:n===t.items.length-1,index:s},o[s]=e,s+=1,r+=this._renderItem(e),i=!1;else for(a=0;a<l.length;a++)e={selected:this._selected(l[a],u),item:l[a],index:a},o[a]=e,r+=this._renderItem(e);this._view=o,this.element[0].innerHTML=r,c&&o.length&&this._renderHeader()},_selected:function(e,t){return(!this.isFiltered()||"multiple"===this.options.selectable)&&-1!==this._dataItemPosition(e,t)},setDSFilter:function(e){this._lastDSFilter=x({},e)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!f.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(e){var t,i=this,n=e&&e.action,r=i.options.skipUpdateOnBind,a="itemchange"===n;i.trigger("dataBinding"),i._angularItems("cleanup"),i._fixedHeader(),i._render(),i.bound(!0),a||"remove"===n?(t=function(e,t){var i,n,r,a,s=t.length,o=e.length,l=[],u=[];if(o)for(r=0;r<o;r++){for(i=e[r],n=!1,a=0;a<s;a++)if(i===t[a]){n=!0,l.push({index:r,item:i});break}n||u.push(i)}return{changed:l,unchanged:u}}(i._dataItems,e.items)).changed.length&&(a?i.trigger("selectedItemChange",{items:t.changed}):i.value(i._getValues(t.unchanged))):i.isFiltered()||i._skipUpdate||i._emptySearch?(i.focus(0),i._skipUpdate&&(i._skipUpdate=!1,i._selectedIndices=i._valueIndices(i._values,i._selectedIndices))):r||n&&"add"!==n||i.value(i._values),i._valueDeferred&&i._valueDeferred.resolve(),i._angularItems("compile"),i.trigger("dataBound")},bound:function(e){if(e===h)return this._bound;this._bound=e},isGrouped:function(){return(this.dataSource.group()||[]).length}});function H(e){return e[e.length-1]}function P(e){var t=e.selectedIndex;return-1<t?e.options[t]:{}}function z(e){return!(!e||p.isEmptyObject(e)||e.filters&&!e.filters.length)}function V(e,t){var i,n=!1;return e.filters&&(i=p.grep(e.filters,function(e){return n=V(e,t),e.filters?e.filters.length:e.field!=t}),n||e.filters.length===i.length||(n=!0),e.filters=i),n}n.plugin(O)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.fx",["kendo.core"],function(){var e={id:"fx",name:"Effects",category:"framework",description:"Required for animation effects in all Kendo UI widgets.",depends:["core"]};return function(f){var l=window.kendo,m=l.effects,a=f.each,g=f.extend,e=f.proxy,u=l.support,n=u.browser,_=u.transforms,v=u.transitions,h={scale:0,scalex:0,scaley:0,scale3d:0},w={translate:0,translatex:0,translatey:0,translate3d:0},s=void 0!==document.documentElement.style.zoom&&!_,o=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,b=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,c=/translatex?$/i,d=/(zoom|fade|expand)(\w+)/,p=/(zoom|fade|expand)/,r=/[xy]$/i,y=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],k=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],x={rotate:"deg",scale:"",skew:"px",translate:"px"},t=_.css,C=Math.round,T="height",S="origin",I="overflow",D="translate",F="position",E="completeCallback",A=t+"transition",M=t+"transform",O=t+"backface-visibility",i=t+"perspective",H="1500px",P="perspective(1500px)",z={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};if(l.directions=z,g(f.fn,{kendoStop:function(e,t){return v?m.stopQueue(this,e||!1,t||!1):this.stop(e,t)}}),_&&!v){a(k,function(e,n){f.fn[n]=function(e){if(void 0===e)return W(this,n);var t=f(this)[0],i=n+"("+e+x[n.replace(r,"")]+")";return-1==t.style.cssText.indexOf(M)?f(this).css(M,i):t.style.cssText=t.style.cssText.replace(new RegExp(n+"\\(.*?\\)","i"),i),this},f.fx.step[n]=function(e){f(e.elem)[n](e.now)}});var V=f.fx.prototype.cur;f.fx.prototype.cur=function(){return-1!=k.indexOf(this.prop)?parseFloat(f(this.elem)[this.prop]()):V.apply(this,arguments)}}function L(e){return parseInt(e,10)}function B(e,t){return L(e.css(t))}function R(e){for(var t in e)-1!=y.indexOf(t)&&-1==k.indexOf(t)&&delete e[t];return e}function N(e,t){var i,n,r,a,s=[],o={};for(n in t)i=n.toLowerCase(),a=_&&-1!=y.indexOf(i),!u.hasHW3D&&a&&-1==k.indexOf(i)?delete t[n]:(r=t[n],a?s.push(n+"("+r+")"):o[n]=r);return s.length&&(o[M]=s.join(" ")),o}function W(e,t){if(_){var i=e.css(M);if("none"==i)return"scale"==t?1:0;var n=i.match(new RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),r=0;return n?r=L(n[1]):(n=i.match(o)||[0,0,0,0,0],t=t.toLowerCase(),c.test(t)?r=parseFloat(n[3]/n[2]):"translatey"==t?r=parseFloat(n[4]/n[2]):"scale"==t?r=parseFloat(n[2]):"rotate"==t&&(r=parseFloat(Math.atan2(n[2],n[1])))),r}return parseFloat(e.css(t))}l.toggleClass=function(i,e,t,n){return e&&(e=e.split(" "),v&&(t=g({exclusive:"all",duration:400,ease:"ease-out"},t),i.css(A,t.exclusive+" "+t.duration+"ms "+t.ease),setTimeout(function(){i.css(A,"").css(T)},t.duration)),a(e,function(e,t){i.toggleClass(t,n)})),i},l.parseEffects=function(e,s){var o={};return"string"==typeof e?a(e.split(" "),function(e,t){var i=!p.test(t),n=t.replace(d,function(e,t,i){return t+":"+i.toLowerCase()}).split(":"),r=n[1],a={};1<n.length&&(a.direction=s&&i?z[r].reverse:r),o[n[0]]=a}):a(e,function(e){var t=this.direction;t&&s&&!p.test(e)&&(this.direction=z[t].reverse),o[e]=this}),o},v&&g(m,{transition:function(e,t,i){var n,r,a=0,s=e.data("keys")||[];i=g({duration:200,ease:"ease-out",complete:null,exclusive:"all"},i);function o(){l||(l=!0,r&&(clearTimeout(r),r=null),e.removeData("abortId").dequeue().css(A,"").css(A),i.complete.call(e))}var l=!1;i.duration=f.fx&&f.fx.speeds[i.duration]||i.duration,n=N(0,t),f.merge(s,function(e){var t=[];for(var i in e)t.push(i);return t}(n)),f.hasOwnProperty("uniqueSort")?e.data("keys",f.uniqueSort(s)).height():e.data("keys",f.unique(s)).height(),e.css(A,i.exclusive+" "+i.duration+"ms "+i.ease).css(A),e.css(n).css(M),v.event&&(e.one(v.event,o),0!==i.duration&&(a=500)),r=setTimeout(o,i.duration+a),e.data("abortId",r),e.data(E,o)},stopQueue:function(e,t,i){var n,r=e.data("keys"),a=!i&&r,s=e.data(E);return a&&(n=l.getComputedStyles(e[0],r)),s&&s(),a&&e.css(n),e.removeData("keys").stop(t)}});var U=l.Class.extend({init:function(e,t){this.element=e,this.effects=[],this.options=t,this.restore=[]},run:function(e){var t,i,n,r,a,s,o=e.length,l=this.element,u=this.options,c=f.Deferred(),d={},p={};for(this.effects=e,c.done(f.proxy(this,"complete")),l.data("animating",!0),i=0;i<o;i++)for((t=e[i]).setReverse(u.reverse),t.setOptions(u),this.addRestoreProperties(t.restore),t.prepare(d,p),n=0,s=(a=t.children()).length;n<s;n++)a[n].duration(u.duration).run();for(var h in u.effects)g(p,u.effects[h].properties);for(l.is(":visible")||g(d,{display:l.data("olddisplay")||"block"}),_&&!u.reset&&(r=l.data("targetTransform"))&&(d=g(r,d)),d=N(0,d),_&&!v&&(d=R(d)),l.css(d).css(M),i=0;i<o;i++)e[i].setup();return u.init&&u.init(),l.data("targetTransform",p),m.animate(l,p,g({},u,{complete:c.resolve})),c.promise()},stop:function(){f(this.element).kendoStop(!0,!0)},addRestoreProperties:function(e){for(var t,i=this.element,n=0,r=e.length;n<r;n++)t=e[n],this.restore.push(t),i.data(t)||i.data(t,i.css(t))},restoreCallback:function(){for(var e=this.element,t=0,i=this.restore.length;t<i;t++){var n=this.restore[t];e.css(n,e.data(n))}},complete:function(){var e=0,t=this.element,i=this.options,n=this.effects,r=n.length;for(t.removeData("animating").dequeue(),i.hide&&t.data("olddisplay",t.css("display")).hide(),this.restoreCallback(),s&&!_&&setTimeout(f.proxy(this,"restoreCallback"),0);e<r;e++)n[e].teardown();i.completeCallback&&i.completeCallback(t)}});m.promise=function(e,t){var i,n,r=[],a=new U(e,t),s=l.parseEffects(t.effects);for(var o in t.effects=s)(i=m[j(o)])&&(n=new i(e,s[o].direction),r.push(n));r[0]?a.run(r):(e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.init&&t.init(),e.dequeue(),a.complete())},g(m,{animate:function(e,p,t){var i=!1!==t.transition;delete t.transition,v&&"transition"in m&&i?m.transition(e,p,t):_?e.animate(R(p),{queue:!1,show:!1,hide:!1,duration:t.duration,complete:t.complete}):e.each(function(){var c=f(this),d={};a(y,function(e,t){var i,n=p?p[t]+" ":null;if(n){var r=p;if(t in h&&void 0!==p[t])i=n.match(b),_&&g(r,{scale:+i[0]});else if(t in w&&void 0!==p[t]){var a=c.css(F),s="absolute"==a||"fixed"==a;c.data(D)||(s?c.data(D,{top:B(c,"top")||0,left:B(c,"left")||0,bottom:B(c,"bottom"),right:B(c,"right")}):c.data(D,{top:B(c,"marginTop")||0,left:B(c,"marginLeft")||0}));var o=c.data(D);if(i=n.match(b)){var l=t==D+"y"?0:+i[1],u=t==D+"y"?+i[1]:+i[2];s?(isNaN(o.right)?isNaN(l)||g(r,{left:o.left+l}):isNaN(l)||g(r,{right:o.right-l}),isNaN(o.bottom)?isNaN(u)||g(r,{top:o.top+u}):isNaN(u)||g(r,{bottom:o.bottom-u})):(isNaN(l)||g(r,{marginLeft:o.left+l}),isNaN(u)||g(r,{marginTop:o.top+u}))}}!_&&"scale"!=t&&t in r&&delete r[t],r&&g(d,r)}}),n.msie&&delete d.scale,c.animate(d,{queue:!1,show:!1,hide:!1,duration:t.duration,complete:t.complete})})}}),m.animatedPromise=m.promise;var q=l.Class.extend({init:function(e,t){this.element=e,this._direction=t,this.options={},this._additionalEffects=[],this.restore||(this.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(e){return this._additionalEffects.push(e),this},direction:function(e){return this._direction=e,this},duration:function(e){return this._duration=e,this},compositeRun:function(){var e=new U(this.element,{reverse:this._reverse,duration:this._duration}),t=this._additionalEffects.concat([this]);return e.run(t)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e,t,i=this.element,n=0,r=this.restore,a=r.length,s=f.Deferred(),o={},l={},u=this.children(),c=u.length;for(s.done(f.proxy(this,"_complete")),i.data("animating",!0),n=0;n<a;n++)e=r[n],i.data(e)||i.data(e,i.css(e));for(n=0;n<c;n++)u[n].duration(this._duration).run();return this.prepare(o,l),i.is(":visible")||g(o,{display:i.data("olddisplay")||"block"}),_&&(t=i.data("targetTransform"))&&(o=g(t,o)),o=N(0,o),_&&!v&&(o=R(o)),i.css(o).css(M),this.setup(),i.data("targetTransform",l),m.animate(i,l,{duration:this._duration,complete:s.resolve}),s.promise()},stop:function(){var e=0,t=this.children(),i=t.length;for(e=0;e<i;e++)t[e].stop();return f(this.element).kendoStop(!0,!0),this},restoreCallback:function(){for(var e=this.element,t=0,i=this.restore.length;t<i;t++){var n=this.restore[t];e.css(n,e.data(n))}},_complete:function(){var e=this.element;e.removeData("animating").dequeue(),this.restoreCallback(),this.shouldHide()&&e.data("olddisplay",e.css("display")).hide(),s&&!_&&setTimeout(f.proxy(this,"restoreCallback"),0),this.teardown()},setOptions:function(e){g(!0,this.options,e)},children:function(){return[]},shouldHide:f.noop,setup:f.noop,prepare:f.noop,teardown:f.noop,directions:[],setReverse:function(e){return this._reverse=e,this}});function j(e){return e.charAt(0).toUpperCase()+e.substring(1)}function G(t,e){var r=q.extend(e),i=r.prototype.directions;m[j(t)]=r,m.Element.prototype[t]=function(e,t,i,n){return new r(this.element,e,t,i,n)},a(i,function(e,n){m.Element.prototype[t+j(n)]=function(e,t,i){return new r(this.element,n,e,t,i)}})}var Y=["left","right","up","down"],$=["in","out"];function K(e,s,o,l){G(e,{directions:$,startValue:function(e){return this._startValue=e,this},endValue:function(e){return this._endValue=e,this},shouldHide:function(){return this._shouldHide},prepare:function(e,t){var i,n,r="out"===this._direction,a=this.element.data(s);i=!(isNaN(a)||a==o)?a:void 0!==this._startValue?this._startValue:r?o:l,n=void 0!==this._endValue?this._endValue:r?l:o,this._reverse?(e[s]=n,t[s]=i):(e[s]=i,t[s]=n),this._shouldHide=t[s]===l}})}G("slideIn",{directions:Y,divisor:function(e){return this.options.divisor=e,this},prepare:function(e,t){var i,n=this.element,r=l._outerWidth,a=l._outerHeight,s=z[this._direction],o=-s.modifier*(s.vertical?a:r)(n)/(this.options&&this.options.divisor||1)+"px";this._reverse&&(i=e,e=t,t=i),_?(e[s.transition]=o,t[s.transition]="0px"):(e[s.property]=o,t[s.property]="0px")}}),G("tile",{directions:Y,init:function(e,t,i){q.prototype.init.call(this,e,t),this.options={previous:i}},previousDivisor:function(e){return this.options.previousDivisor=e,this},children:function(){var e=this._reverse,t=this.options.previous,i=this.options.previousDivisor||1,n=this._direction,r=[l.fx(this.element).slideIn(n).setReverse(e)];return t&&r.push(l.fx(t).slideIn(z[n].reverse).divisor(i).setReverse(!e)),r}}),K("fade","opacity",1,0),K("zoom","scale",1,.01),G("slideMargin",{prepare:function(e,t){var i,n=this.element,r=this.options,a=n.data(S),s=r.offset,o=this._reverse;o||null!==a||n.data(S,parseFloat(n.css("margin-"+r.axis))),i=n.data(S)||0,t["margin-"+r.axis]=o?i:i+s}}),G("slideTo",{prepare:function(e,t){var i=this.element,n=this.options.offset.split(","),r=this._reverse;_?(t.translatex=r?0:n[0],t.translatey=r?0:n[1]):(t.left=r?0:n[0],t.top=r?0:n[1]),i.css("left")}}),G("expand",{directions:["horizontal","vertical"],restore:[I],prepare:function(e,t){var i=this.element,n=this.options,r=this._reverse,a="vertical"===this._direction?T:"width",s=i[0].style[a],o=i.data(a),l=parseFloat(o||s),u=C(i.css(a,"auto")[a]());e.overflow="hidden",l=n&&n.reset?u||l:l||u,t[a]=(r?0:l)+"px",e[a]=(r?l:0)+"px",void 0===o&&i.data(a,s)},shouldHide:function(){return this._reverse},teardown:function(){var e=this.element,t="vertical"===this._direction?T:"width",i=e.data(t);"auto"!=i&&""!==i||setTimeout(function(){e.css(t,"auto").css(t)},0)}});var Q={position:"absolute",marginLeft:0,marginTop:0,scale:1};G("transfer",{init:function(e,t){this.element=e,this.options={target:t},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(e,t){var i=this.element,n=m.box(i),r=m.box(this.options.target),a=W(i,"scale"),s=m.fillScale(r,n),o=m.transformOrigin(r,n);g(e,Q),t.scale=1,i.css(M,"scale(1)").css(M),i.css(M,"scale("+a+")"),e.top=n.top,e.left=n.left,e.transformOrigin=o.x+"px "+o.y+"px",this._reverse?e.scale=s:t.scale=s}});var J={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},X={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function Z(e,t){var i=e[l.directions[t].vertical?T:"width"]()/2+"px";return J[t].replace("$size",i)}G("turningPage",{directions:Y,init:function(e,t,i){q.prototype.init.call(this,e,t),this._container=i},prepare:function(e,t){var i=this._reverse,n=i?z[this._direction].reverse:this._direction,r=X[n];e.zIndex=1,this._clipInHalf&&(e.clip=Z(this._container,l.directions[n].reverse)),e[O]="hidden",t[M]=P+(i?r.start:r.end),e[M]=P+(i?r.end:r.start)},setup:function(){this._container.append(this.element)},face:function(e){return this._face=e,this},shouldHide:function(){var e=this._reverse,t=this._face;return e&&!t||!e&&t},clipInHalf:function(e){return this._clipInHalf=e,this},temporary:function(){return this.element.addClass("temp-page"),this}}),G("staticPage",{directions:Y,init:function(e,t,i){q.prototype.init.call(this,e,t),this._container=i},restore:["clip"],prepare:function(e,t){var i=this._reverse?z[this._direction].reverse:this._direction;e.clip=Z(this._container,i),e.opacity=.999,t.opacity=1},shouldHide:function(){var e=this._reverse,t=this._face;return e&&!t||!e&&t},face:function(e){return this._face=e,this}}),G("pageturn",{directions:["horizontal","vertical"],init:function(e,t,i,n){q.prototype.init.call(this,e,t),this.options={},this.options.face=i,this.options.back=n},children:function(){var e,t=this.options,i="horizontal"===this._direction?"left":"top",n=l.directions[i].reverse,r=this._reverse,a=t.face.clone(!0).removeAttr("id"),s=t.back.clone(!0).removeAttr("id"),o=this.element;return r&&(e=i,i=n,n=e),[l.fx(t.face).staticPage(i,o).face(!0).setReverse(r),l.fx(t.back).staticPage(n,o).setReverse(r),l.fx(a).turningPage(i,o).face(!0).clipInHalf(!0).temporary().setReverse(r),l.fx(s).turningPage(n,o).clipInHalf(!0).temporary().setReverse(r)]},prepare:function(e,t){e[i]=H,e.transformStyle="preserve-3d",e.opacity=.999,t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),G("flip",{directions:["horizontal","vertical"],init:function(e,t,i,n){q.prototype.init.call(this,e,t),this.options={},this.options.face=i,this.options.back=n},children:function(){var e,t=this.options,i="horizontal"===this._direction?"left":"top",n=l.directions[i].reverse,r=this._reverse,a=this.element;return r&&(e=i,i=n,n=e),[l.fx(t.face).turningPage(i,a).face(!0).setReverse(r),l.fx(t.back).turningPage(n,a).setReverse(r)]},prepare:function(e){e[i]=H,e.transformStyle="preserve-3d"}});var ee=!u.mobileOS.android;G("replace",{_before:f.noop,_after:f.noop,init:function(e,t,i){q.prototype.init.call(this,e),this._previous=f(t),this._transitionClass=i},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(e){return this._before=e,this},afterTransition:function(e){return this._after=e,this},_both:function(){return f().add(this._element).add(this._previous)},_containerClass:function(){var e=this._direction,t="k-fx k-fx-start k-fx-"+this._transitionClass;return e&&(t+=" k-fx-"+e),this._reverse&&(t+=" k-fx-reverse"),t},complete:function(e){if(!(!this.deferred||e&&f(e.target).is(".km-touch-scrollbar, .km-actionsheet-wrapper"))){var t=this.container;t.removeClass("k-fx-end").removeClass(this._containerClass()).off(v.event,this.completeProxy),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),ee&&t.css(I,""),this.isAbsolute||this._both().css(F,""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,t=e.element,i=e._previous,n=t.parents().filter(i.parents()).first(),r=e._both(),a=f.Deferred(),s=t.css(F);return n.length||(n=t.parent()),this.container=n,this.deferred=a,this.isAbsolute="absolute"==s,this.isAbsolute||r.css(F,"absolute"),ee&&(n.css(I),n.css(I,"hidden")),v?(t.addClass("k-fx-hidden"),n.addClass(this._containerClass()),this.completeProxy=f.proxy(this,"complete"),n.on(v.event,this.completeProxy),l.animationFrame(function(){t.removeClass("k-fx-hidden").addClass("k-fx-next"),i.css("display","").addClass("k-fx-current"),e._before(i,t),l.animationFrame(function(){n.removeClass("k-fx-start").addClass("k-fx-end"),e._after(i,t)})})):this.complete(),a.promise()},stop:function(){this.complete()}});var te=l.Class.extend({init:function(){this._tickProxy=e(this._tick,this),this._started=!1},tick:f.noop,done:f.noop,onEnd:f.noop,onCancel:f.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,l.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){this._started&&(this.tick(),this.done()?(this._started=!1,this.onEnd()):l.animationFrame(this._tickProxy))}}),ie=te.extend({init:function(e){g(this,e),te.fn.init.call(this)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(e){var t=this,i=t.movable;t.initial=i[t.axis],t.delta=e.location-t.initial,t.duration="number"==typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=new Date,t.start()},_easeProxy:function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}});g(ie,{easeOutExpo:function(e,t,i,n){return e==n?t+i:i*(1-Math.pow(2,-10*e/n))+t},easeOutBack:function(e,t,i,n,r){return i*((e=e/n-1)*e*(2.70158*e+1.70158)+1)+t}}),m.Animation=te,m.Transition=ie,m.createEffect=G,m.box=function(e){var t=(e=f(e)).offset();return t.width=l._outerWidth(e),t.height=l._outerHeight(e),t},m.transformOrigin=function(e,t){var i=(e.left-t.left)*t.width/(t.width-e.width),n=(e.top-t.top)*t.height/(t.height-e.height);return{x:isNaN(i)?0:i,y:isNaN(n)?0:n}},m.fillScale=function(e,t){return Math.min(e.width/t.width,e.height/t.height)},m.fitScale=function(e,t){return Math.max(e.width/t.width,e.height/t.height)}}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.userevents",["kendo.core"],function(){var e={id:"userevents",name:"User Events",category:"framework",depends:["core"],hidden:true};return function(u){var l=window.kendo,c=l.support,e=l.Class,d=l.Observable,a=u.now,p=u.extend,t=c.mobileOS,s=t&&t.android,h=800,f=c.browser.msie?5:0,m="gesturechange",g="gestureend",_="gesturetap",n={api:0,touch:0,mouse:9,pointer:9},v=!c.touch||c.mouseAndTouchPresent;function r(e,t){var i=e.x.location,n=e.y.location,r=t.x.location,a=t.y.location,s=i-r,o=n-a;return{center:{x:(i+r)/2,y:(n+a)/2},distance:Math.sqrt(s*s+o*o)}}function w(e){var t,i,n,r=[],a=e.originalEvent,s=e.currentTarget,o=0;if(e.api)r.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/))for(t=(i=a?a.changedTouches:[]).length;o<t;o++)n=i[o],r.push({location:n,event:e,target:n.target,currentTarget:s,id:n.identifier,type:"touch"});else c.pointers||c.msPointers?r.push({location:a,event:e,target:e.target,currentTarget:s,id:a.pointerId,type:"pointer"}):r.push({id:1,event:e,target:e.target,currentTarget:s,location:e,type:"mouse"});return r}var o=e.extend({init:function(e,t){this.axis=e,this._updateLocationData(t),this.startLocation=this.location,this.velocity=this.delta=0,this.timeStamp=a()},move:function(e){var t=this,i=e["page"+t.axis],n=a(),r=n-t.timeStamp||1;!i&&s||(t.delta=i-t.location,t._updateLocationData(e),t.initialDelta=i-t.startLocation,t.velocity=t.delta/r,t.timeStamp=n)},_updateLocationData:function(e){var t=this.axis;this.location=e["page"+t],this.client=e["client"+t],this.screen=e["screen"+t]}}),b=e.extend({init:function(e,t,i){p(this,{x:new o("X",i.location),y:new o("Y",i.location),type:i.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||n[i.type],userEvents:e,target:t,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_clicks:e._clicks,supportDoubleTap:e.supportDoubleTap,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(u.proxy(this,"_hold"),this.userEvents.minHold),this._trigger("press",this.pressEvent)},_tap:function(e){var t=this;t.userEvents._clicks++,1==t.userEvents._clicks&&(t._clickTimeout=setTimeout(function(){1==t.userEvents._clicks?t._trigger("tap",e):t._trigger("doubleTap",e),t.userEvents._clicks=0},300))},_hold:function(){this._trigger("hold",this.pressEvent)},move:function(e){var t=this,i="api"!==e.type&&t.userEvents._shouldNotMove;if(!t._finished&&!i){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(k.current&&k.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger("move",e)}},end:function(e){this.endTime=a(),this._finished||(this._finished=!0,this._trigger("release",e),this._moved?this._trigger("end",e):this.useClickAsTap||(this.supportDoubleTap?this._tap(e):this._trigger("tap",e)),clearTimeout(this._holdTimeout),this.dispose())},dispose:function(){var e=this.userEvents.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),e.splice(u.inArray(this,e),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout),this.startTime=a(),this._moved=!0,this._trigger("start",e)},_trigger:function(e,t){var i=t.event,n={touch:this,x:this.x,y:this.y,target:this.target,event:i};this.userEvents.notify(e,n)&&i.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}});function y(e){for(var t=l.eventMap.up.split(" "),i=0,n=t.length;i<n;i++)e(t[i])}var k=d.extend({init:function(e,t){var i,n=this,r=l.guid();if(t=t||{},i=n.filter=t.filter,n.threshold=t.threshold||f,n.minHold=t.minHold||h,n.touches=[],n._maxTouches=t.multiTouch?2:1,n.allowSelection=t.allowSelection,n.captureUpIfMoved=t.captureUpIfMoved,n.useClickAsTap=!t.fastTap&&!c.delayedClick(),n.eventNS=r,n._clicks=0,n.supportDoubleTap=t.supportDoubleTap,e=u(e).handler(n),d.fn.init.call(n),p(n,{element:e,surface:t.global&&v?u(e[0].ownerDocument.documentElement):u(t.surface||e),stopPropagation:t.stopPropagation,pressed:!1}),n.surface.handler(n).on(l.applyEventMap("move",r),"_move").on(l.applyEventMap("up cancel",r),"_end"),e.on(l.applyEventMap("down",r),i,"_start"),n.useClickAsTap&&e.on(l.applyEventMap("click",r),i,"_click"),c.pointers||c.msPointers)if(c.browser.version<11){var a="pinch-zoom double-tap-zoom";e.css("-ms-touch-action",t.touchAction&&"none"!=t.touchAction?a+" "+t.touchAction:a)}else e.css("touch-action",t.touchAction||"none");if(t.preventDragEvent&&e.on(l.applyEventMap("dragstart",r),l.preventDefault),e.on(l.applyEventMap("mousedown",r),i,{root:e},"_select"),n.captureUpIfMoved&&c.eventCapture){var s=n.surface[0],o=u.proxy(n.preventIfMoving,n);y(function(e){s.addEventListener(e,o,!0)})}n.bind(["press","hold","tap","doubleTap","start","move","end","release","cancel","gesturestart",m,g,_,"select"],t)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var t=this;if(!t._destroyed){if(t._destroyed=!0,t.captureUpIfMoved&&c.eventCapture){var i=t.surface[0];y(function(e){i.removeEventListener(e,t.preventIfMoving)})}t.element.kendoDestroy(t.eventNS),t.surface.kendoDestroy(t.eventNS),t.element.removeData("handler"),t.surface.removeData("handler"),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget}},capture:function(){k.current=this},cancel:function(){this._disposeAll(),this.trigger("cancel")},notify:function(e,t){var i=this.touches;if(this._isMultiTouch()){switch(e){case"move":e=m;break;case"end":e=g;break;case"tap":e=_}p(t,{touches:i},r(i[0],i[1]))}return this.trigger(e,p(t,{type:e}))},press:function(e,t,i){this._apiCall("_start",e,t,i)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return 1<this.touches.length},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var e=this.touches;0<e.length;)e.pop().dispose()},_isMoved:function(){return u.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){this.allowSelection&&!this.trigger("select",{event:e})||e.preventDefault()},_start:function(e){var t,i,n=this,r=0,a=n.filter,s=w(e),o=s.length,l=e.which;if(!(l&&1<l||n._maxTouchesReached()))for(k.current=null,n.currentTarget=e.currentTarget,n.stopPropagation&&e.stopPropagation();r<o&&!n._maxTouchesReached();r++)i=s[r],(t=a?u(i.currentTarget):n.element).length&&(i=new b(n,t,i),n.touches.push(i),i.press(),n._isMultiTouch()&&n.notify("gesturestart",{}))},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_click:function(e){var t={touch:{initialTouch:e.target,target:u(e.currentTarget),endTime:a(),x:{location:e.pageX,client:e.clientX},y:{location:e.pageY,client:e.clientY}},x:e.pageX,y:e.pageY,target:u(e.currentTarget),event:e,type:"tap"};this.trigger("tap",t)&&e.preventDefault()},_eachTouch:function(e,t){var i,n,r,a,s={},o=w(t),l=this.touches;for(i=0;i<l.length;i++)s[(n=l[i]).id]=n;for(i=0;i<o.length;i++)(a=s[(r=o[i]).id])&&a[e](r)},_apiCall:function(e,t,i,n){this[e]({api:!0,pageX:t,pageY:i,clientX:t,clientY:i,target:u(n||this.element)[0],stopPropagation:u.noop,preventDefault:u.noop})}});k.defaultThreshold=function(e){f=e},k.minHold=function(e){h=e},l.getTouches=w,l.touchDelta=r,l.UserEvents=k}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.menu",["kendo.popup","kendo.data"],function(){var e={id:"menu",name:"Menu",category:"web",description:"The Menu widget displays hierarchical data as a multi-level menu.",depends:["popup","data","data.odata"]};return function(x,b){var C=window.kendo,e=C.ui,r=C._activeElement,y=C.support.touch&&C.support.mobileOS,l=x.isArray,i=C.data.HierarchicalDataSource,a="mousedown",k=x.extend,T=x.proxy,n=x.each,s=C.template,u=C.keys,o=e.Widget,t=/^(ul|a|div)$/i,_=".kendoMenu",S="open",I="k-menu",c="k-link k-menu-link",d=".k-menu-expand-arrow",p="k-last",D="close",F="timer",h="k-first",f="k-image",m="select",E="zIndex",A="activate",M="deactivate",g="touchstart"+_+" MSPointerDown"+_+" pointerdown"+_,v=C.support.pointers,w=C.support.msPointers,O=w||v,H="change",P=C.support.touch?"touchstart":"",z=v?"pointerover":w?"MSPointerOver":"mouseenter",V=v?"pointerout":w?"MSPointerOut":"mouseleave",L="DOMMouseScroll"+_+" mousewheel"+_,B=C.support.resize+_,R="group",N="groupparent",W=x(document.documentElement),U="kendoPopup",q="k-state-default",j="k-state-hover",G="k-state-focused",Y="k-state-disabled",$=".k-menu",K=".k-menu-group",Q=".k-animation-container",J=K+","+Q,X=":not(.k-list) > .k-item",Z=".k-item",ee=".k-item:not(.k-state-disabled)",te=":not(.k-item.k-separator)",ie=Z+te+":eq(0)",ne=Z+te+":last",re=".k-menu-scroll-button",ae={2:1,touch:1},se={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField",imageAttr:"dataImageAttrField",content:"dataContentField"},oe={wrapperCssClass:function(e,t){var i="k-item k-menu-item",n=t.index;return!1===t.enabled?i+=" k-state-disabled":i+=" k-state-default",e.firstLevel&&0===n&&(i+=" k-first"),n==e.length-1&&(i+=" k-last"),t.cssClass&&(i+=" "+t.cssClass),t.attr&&t.attr.hasOwnProperty("class")&&(i+=" "+t.attr.class),t.selected&&(i+=" k-state-selected"),i},itemCssAttributes:function(e){var t="",i=e.attr||{};for(var n in i)i.hasOwnProperty(n)&&"class"!==n&&(t+=n+'="'+i[n]+'" ');return t},imageCssAttributes:function(e){var t="",i=e&&e.toJSON?e.toJSON():{};for(var n in i.class?i.class+=" "+f:i.class=f,i)i.hasOwnProperty(n)&&(t+=n+'="'+i[n]+'" ');return t},contentCssAttributes:function(e){var t="",i=e.contentAttr||{},n="k-content k-group k-menu-group";for(var r in i.class?i.class+=" "+n:i.class=n,i)i.hasOwnProperty(r)&&(t+=r+'="'+i[r]+'" ');return t},textClass:function(){return c},arrowClass:function(e,t){var i="k-menu-expand-arrow k-icon";return t.horizontal?i+=" k-i-arrow-60-down":i+=" k-i-arrow-60-right",i},groupAttributes:function(e){return!0!==e.expanded?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(e){return e.content?e.content:"&nbsp;"}};function le(e,t){try{return x.contains(e,t)}catch(e){return!1}}function ue(e){(e=x(e)).addClass("k-item k-menu-item").children("img").addClass(f),e.children("a").addClass(c).children("img").addClass(f),e.filter(":not([disabled])").addClass(q),e.filter(".k-separator").removeClass("k-menu-item").addClass("k-menu-separator").empty().append("&nbsp;"),e.filter("li[disabled]").addClass(Y).removeAttr("disabled").attr("aria-disabled",!0),e.filter("[role]").length||e.attr("role","menuitem"),e.children(".k-link").length||e.contents().filter(function(){return!(this.nodeName.match(t)||3==this.nodeType&&!x.trim(this.nodeValue))}).wrapAll("<span class='"+c+"'/>"),ce(e),de(e)}function ce(e){(e=x(e)).find("> .k-link > [class*=k-i-arrow-60]:not(.k-sprite)").remove(),e.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var e=x(this),t=function(e){var t,i=e.parent().parent(),n=C.support.isRtl(i);t=i.hasClass(I+"-horizontal")?"k-i-arrow-60-down":n?"k-i-arrow-60-left":"k-i-arrow-60-right";return t}(e);e.append("<span class='k-menu-expand-arrow k-icon "+t+"' />")})}function de(e){(e=x(e)).filter(".k-first:not(:first-child)").removeClass(h),e.filter(".k-last:not(:last-child)").removeClass(p),e.filter(":first-child").addClass(h),e.filter(":last-child").addClass(p)}function pe(e){if(e&&e.length)for(var t in e){var i=e.eq(t);i.find("ul").length?i.attr("aria-haspopup",!0):i.removeAttr("aria-haspopup")}}function he(e){if(!e.hasClass(I))return e.parentsUntil("."+I,"li")}function fe(e,t){var i,n=function(e){var t=e.select,i=C.isFunction;if(t&&i(t))return t;return null}(t);n&&(i=n,x(e).children(".k-link").data({selectHandler:i})),t.items&&x(e).children("ul").children("li").each(function(e){fe(this,t.items[e])})}function me(e){return e?"li[data-groupparent='"+e+"']":"li[data-groupparent]"}function ge(e){var t=e?"[data-group='"+e+"']":"[data-group]";return"ul"+t+",div"+t}function _e(r,a){var e=r.find(me()),s=[];return e.each(function(e,t){for(var i=(t=x(t)).data(N),n=r;i;)(n=a.find(ge(i)+":visible")).length&&s.push(n),i=(t=n.find(me())).data(N)}),s}function ve(e,t){var i=e.data(R);return i?t.find(me(i)):x([])}function we(e,t){var i=e.data(N);return i?t.children(Q).children(ge(i)):x([])}function be(e,t){function i(e){for(;e.parentNode&&!t.is(e.parentNode);)n.push(e.parentNode),e=e.parentNode}var n=[],r=e[0]||e;i(r);for(var a=n[n.length-1];x(a).is(Q);){if(!(r=ve(x(a).children("ul"),t)[0]))break;n.push(r),i(r),a=n[n.length-1]}return n}function ye(e,t){for(var i=0,n=e.parentNode;n&&!isNaN(n[t]);)i+=n[t],n=n.parentNode;return i}function ke(e){return O&&e.originalEvent&&e.originalEvent.pointerType in ae}function xe(e){e.contents().filter(function(){return"LI"!=this.nodeName}).remove()}var Ce=C.ui.DataBoundWidget.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t),e=i.wrapper=i.element,t=i.options,i._accessors(),i._templates(),i._dataSource(),i._updateClasses(),i._animations(t),i.nextItemZIndex=100,i._tabindex(),i._initOverflow(t),i._attachMenuEventsHandlers(),t.openOnClick&&(i.clicked=!1),e.attr("role","menubar"),e[0].id&&(i._ariaId=C.format("{0}_mn_active",e[0].id)),C.notify(i)},events:[S,D,A,M,m,"dataBound"],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,scrollable:!1,popupCollision:b},_initData:function(){var e=this;e.dataSource&&(e.angular("cleanup",function(){return{elements:e.element.children()}}),e.element.empty(),e.append(e.dataSource.view(),e.element),e.angular("compile",function(){return{elements:e.element.children()}}))},_attachMenuEventsHandlers:function(){var e=this,t=e.element,i=e.options,n=e._overflowWrapper();(n||t).on(g,Z,T(e._focusHandler,e)).on("click"+_,".k-item.k-state-disabled",!1).on("click"+_,Z,T(e._click,e)).on(g+" "+a+_,".k-content",T(e._preventClose,e)).on(z+_,ee,T(e._mouseenter,e)).on(V+_,ee,T(e._mouseleave,e)).on(a+_,ee,T(e._mousedown,e)).on(P+_+" "+z+_+" "+V+_+" "+a+_+" click"+_,".k-item:not(.k-state-disabled) > .k-link",T(e._toggleHover,e)),t.on("keydown"+_,T(e._keydown,e)).on("focus"+_,T(e._focus,e)).on("focus"+_,".k-content",T(e._focus,e)).on("blur"+_,T(e._removeHoverItem,e)).on("blur"+_,"[tabindex]",T(e._checkActiveElement,e)),n&&n.on(V+_,J,T(e._mouseleavePopup,e)).on(z+_,J,T(e._mouseenterPopup,e)),i.openOnClick&&(e._documentClickHandler=T(e._documentClick,e),x(document).click(e._documentClickHandler))},_detachMenuEventsHandlers:function(){var e=this._overflowWrapper();e&&e.off(_),this.element.off(_),this._documentClickHandler&&x(document).unbind("click",this._documentClickHandler)},_initOverflow:function(e){var t,i,n=this,r="horizontal"==e.orientation;if(e.scrollable){n._openedPopups={},n._scrollWrapper=n.element.wrap("<div class='k-menu-scroll-wrapper "+e.orientation+"'></div>").parent(),r&&xe(n.element),t=x(n.templates.scrollButton({direction:r?"left":"up"})),i=x(n.templates.scrollButton({direction:r?"right":"down"})),t.add(i).appendTo(n._scrollWrapper),n._initScrolling(n.element,t,i,r);var a=n.element.outerWidth(),s=n.element[0].style.width;s="auto"===s?"":s,r&&x(window).on(B,C.throttle(function(){n._setOverflowWrapperWidth(a,s),n._toggleScrollButtons(n.element,t,i,r)},100)),n._setOverflowWrapperWidth(a,s),n._toggleScrollButtons(n.element,t,i,r)}},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(e,t){var i=this._scrollWrapper.css("width");this._scrollWrapper.css({width:""});var n=this._scrollWrapper.outerWidth();this._scrollWrapper.css({width:i});var r=this.element.outerWidth(),a=this.element[0].offsetWidth-this.element[0].clientWidth;if(r!=n&&0<n){var s=t?Math.min(e,n):n;this.element.width(s-a),this._scrollWrapper.width(s)}},_reinitOverflow:function(e){(e.scrollable&&!this.options.scrollable||!e.scrollable&&this.options.scrollable||e.scrollable&&this.options.scrollable&&e.scrollable.distance!=this.options.scrollable.distance||e.orientation!=this.options.orientation)&&(this._detachMenuEventsHandlers(),this._destroyOverflow(),this._initOverflow(e),this._attachMenuEventsHandlers())},_destroyOverflow:function(){var r=this._overflowWrapper();r&&(r.off(_),r.find(re).off(_).remove(),r.children(Q).each(function(e,t){var i=x(t).children(K);i.off(L);var n=ve(i,r);n.length&&n.append(t)}),r.find(me()).removeAttr("data-groupparent"),r.find(ge()).removeAttr("data-group"),this.element.off(L),x(window).off(B),r.contents().unwrap(),this._scrollWrapper=this._popupsWrapper=this._openedPopups=b)},_initScrolling:function(s,o,l,u){function e(e){f||m||(g(e.data.direction),f=!0)}function t(e){var t,i=u?{scrollLeft:e.data.direction}:{scrollTop:e.data.direction};t=e.originalEvent,m=y&&/touch/i.test(t.type||"")||ke(e),s.stop().animate(i,"fast","linear",function(){m?(c._toggleScrollButtons(s,o,l,u),f=!0):x(e.currentTarget).trigger(z)}),f=!1,e.stopPropagation(),e.preventDefault()}var c=this,i=c.options.scrollable,n=x.isNumeric(i.distance)?i.distance:50,d=n/2,r="-="+n,a="+="+n,p="-="+2*n,h="+="+2*n,f=!1,m=!1,g=function(e){var t=u?{scrollLeft:e}:{scrollTop:e};s.finish().animate(t,"fast","linear",function(){f&&g(e)}),c._toggleScrollButtons(s,o,l,u)};o.on(z+_,{direction:r},e).on(C.eventMap.down+_,{direction:p},t),l.on(z+_,{direction:a},e).on(C.eventMap.down+_,{direction:h},t),o.add(l).on(V+_,function(){s.stop(),f=!1,c._toggleScrollButtons(s,o,l,u)}),s.on(L,function(e){if(!e.ctrlKey&&!e.shiftKey&&!e.altKey){var t=(r=e.originalEvent,a=0,r.wheelDelta&&(a=0<(a=-r.wheelDelta/120)?Math.ceil(a):Math.floor(a)),r.detail&&(a=Math.round(r.detail/3)),a),i=(0<t?"+=":"-=")+Math.abs(t)*d,n=u?{scrollLeft:i}:{scrollTop:i};c._closeChildPopups(s),s.finish().animate(n,"fast","linear",function(){c._toggleScrollButtons(s,o,l,u)}),e.preventDefault()}var r,a})},_toggleScrollButtons:function(e,t,i,n){var r=n?e.scrollLeft():e.scrollTop(),a=n?"scrollWidth":"scrollHeight",s=n?"offsetWidth":"offsetHeight";t.toggle(0!==r),i.toggle(r<e[0][a]-e[0][s]-1)},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=k(!0,t,e.animation),"dataSource"in e&&this._dataSource(e),this._updateClasses(),this._reinitOverflow(e),o.fn.setOptions.call(this,e)},destroy:function(){o.fn.destroy.call(this),this._detachMenuEventsHandlers(),this._destroyOverflow(),C.destroy(this.element)},enable:function(e,t){return this._toggleDisabled(e,!1!==t),this},disable:function(e){return this._toggleDisabled(e,!1),this},attemptGetItem:function(e){e=e||this.element;var t=this.element.find(e),i=this._overflowWrapper();return t.length||e===this.element?t:i?i.find(e):x()},append:function(t,e){e=this.attemptGetItem(e);var i=this._insert(t,e,e.length?this._childPopupElement(e):null);return n(i.items,function(e){i.group.append(this),ce(this),fe(this,t[e]||t)}),ce(e),de(i.group.find(".k-first, .k-last").add(i.items)),pe(he(i.group)),this},insertBefore:function(t,i){i=this.attemptGetItem(i);var e=this._insert(t,i,i.parent());return n(e.items,function(e){i.before(this),ce(this),de(this),fe(this,t[e]||t)}),de(i),this},insertAfter:function(t,i){i=this.attemptGetItem(i);var e=this._insert(t,i,i.parent());return n(e.items,function(e){i.after(this),ce(this),de(this),fe(this,t[e]||t)}),de(i),this},_insert:function(e,t,i){var n,r,a=this;t&&t.length||(i=a.element);var s=x.isPlainObject(e)||e instanceof C.data.ObservableObject,o={firstLevel:i.hasClass(I),horizontal:i.hasClass(I+"-horizontal"),expanded:!0,length:i.children().length};return t&&!i.length&&(i=x(a.renderGroup({group:o,options:a.options})).appendTo(t)),s||l(e)||e instanceof C.data.ObservableArray?n=x(x.map(s?[e]:e,function(e,t){return"string"==typeof e?x(e).get():x(a.renderItem({group:o,item:k(e,{index:t})})).get()})):(r=(n="string"==typeof e&&"<"!=e.charAt(0)?a.element.find(e):x(e)).find("> ul").addClass("k-menu-group").attr("role","menu"),(n=n.filter("li")).add(r.find("> li")).each(function(){ue(this)})),{items:n,group:i}},remove:function(e){e=this.attemptGetItem(e);var t=e.parentsUntil(this.element,X),i=e.parent("ul:not(.k-menu)");if(e.remove(),i&&!i.children(X).length){var n=he(i),r=i.parent(Q);r.length?r.remove():i.remove(),pe(n)}return t.length&&(ce(t=t.eq(0)),de(t)),this},_openAfterLoad:function(e,t){var i=this;t.loaded()?(i.open(e),i._loading=!1):t.one(H,function(){e.find(d).removeClass("k-i-loading"),i._loading&&(i.open(e),i._loading=!1)})},open:function(e){var f=this,m=f.options,g="horizontal"==m.orientation,_=m.direction,v=C.support.isRtl(f.wrapper),w=f._overflowWrapper();e=(w||f.element).find(e);var t=f.dataSource&&f.dataSource.getByUid(e.data(C.ns+"uid"));if(t&&t.hasChildren&&!t.loaded()&&!f._loading)return f._loading=!0,e.find(d).addClass("k-i-loading"),t.load(),void f._openAfterLoad(e,t);/^(top|bottom|default)$/.test(_)&&(_=v?g?(_+" left").replace("default","bottom"):"left":g?(_+" right").replace("default","bottom"):"right");function i(){x(this).data(U)&&f.close(x(this).closest("li.k-item"),!0)}var n=">.k-popup:visible,>.k-animation-container>.k-popup:visible";return e.siblings().find(n).each(i),w&&e.find(n).each(i),f.options.openOnClick&&(f.clicked=!0),e.each(function(){var h=x(this);clearTimeout(h.data(F)),h.data(F,setTimeout(function(){var e,t,i,n,r=h.find(".k-menu-group:first:hidden");if((!r[0]&&w&&(t=f._getPopup(h),r=t&&t.element),!r.is(":visible"))&&(r[0]&&!1===f._triggerEvent({item:h[0],type:S}))){if(!r.find(".k-menu-group")[0]&&1<r.children(".k-item").length){function a(){r.css({maxHeight:s-(C._outerHeight(r)-r.height())-C.getShadows(r).bottom,overflow:"auto"})}var s=x(window).height();C.support.browser.msie&&C.support.browser.version<=7?setTimeout(a,0):a()}else r.css({maxHeight:"",overflow:""});h.data(E,h.css(E));var o=f.nextItemZIndex++;h.css(E,o),f.options.scrollable&&h.parent().siblings(re).css({zIndex:++o}),e=r.data(U);var l=h.parent().hasClass(I),u=l&&g,c=function(e,t,i){e=e.split(" ")[+!t]||e;var n={origin:["bottom",i?"right":"left"],position:["top",i?"right":"left"]};return/left|right/.test(e)?(n.origin=["top",e],n.position[1]=C.directions[e].reverse):(n.origin[0]=e,n.position[0]=C.directions[e].reverse),n.origin=n.origin.join(" "),n.position=n.position.join(" "),n}(_,l,v),d=m.animation.open.effects,p=d!==b?d:"slideIn:"+(n=l,(i=(i=_).split(" ")[+!n]||i).replace("top","up").replace("bottom","down"));e?((e=r.data(U)).options.origin=c.origin,e.options.position=c.position,e.options.animation.open.effects=p):e=r.kendoPopup({activate:function(){f._triggerEvent({item:this.wrapper.parent(),type:A})},deactivate:function(e){f._closing=!1,e.sender.element.removeData("targetTransform").css({opacity:""}),f._triggerEvent({item:this.wrapper.parent(),type:M})},origin:c.origin,position:c.position,collision:m.popupCollision!==b?m.popupCollision:u?"fit":"fit flip",anchor:h,appendTo:w||h,animation:{open:k(!0,{effects:p},m.animation.open),close:m.animation.close},open:T(f._popupOpen,f),close:function(e){f._closing=!0;var t=e.sender.wrapper.parent();if(w){var i=e.sender.element.data(R);i&&(t=(w||f.element).find(me(i))),e.sender.wrapper.children(re).hide()}f._triggerEvent({item:t[0],type:D})?e.preventDefault():(t.css(E,t.data(E)),t.removeData(E),f.options.scrollable&&t.parent().siblings(re).css({zIndex:""}),(y||O||C.support.mouseAndTouchPresent)&&(t.removeClass(j),f._removeHoverItem()))}}).data(U),r.removeAttr("aria-hidden"),f._configurePopupOverflow(e,h),e._hovered=!0,e.open(),f._initPopupScrolling(e)}},f.options.hoverDelay))}),f},_configurePopupOverflow:function(e,t){if(this.options.scrollable&&(this._wrapPopupElement(e),!t.attr("data-groupparent"))){var i=(new Date).getTime();t.attr("data-groupparent",i),e.element.attr("data-group",i)}},_wrapPopupElement:function(e){e.element.parent().is(Q)||(e.wrapper=C.wrap(e.element,e.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"}))},_initPopupScrolling:function(e,t,i){this.options.scrollable&&e.element[0].scrollHeight>e.element[0].offsetHeight&&this._initPopupScrollButtons(e,t,i)},_initPopupScrollButtons:function(i,n,r){var a=this,s=i.wrapper.children(re),e=a.options.animation,t=(e&&e.open&&e.open.duration||0)+30;setTimeout(function(){if(!s.length){var e=x(a.templates.scrollButton({direction:n?"left":"up"})),t=x(a.templates.scrollButton({direction:n?"right":"down"}));s=e.add(t).appendTo(i.wrapper),a._initScrolling(i.element,e,t,n),r||s.on(z+_,function(){var n=a._overflowWrapper();x(_e(i.element,n)).each(function(e,t){var i=n.find(me(t.data(R)));a.close(i)})}).on(V+_,function(){setTimeout(function(){x.isEmptyObject(a._openedPopups)&&a._closeParentPopups(i.element)},30)})}a._toggleScrollButtons(i.element,s.first(),s.last(),n)},t)},_popupOpen:function(e){this._keyTriggered||e.sender.element.children("."+G).removeClass(G),this.options.scrollable&&this._setPopupHeight(e.sender)},_setPopupHeight:function(e,t){var i=e.element,n=i.add(i.parent(Q));n.height(i.hasClass(I)&&this._initialHeight||"");var r=e._location(t),a=x(window).height(),s=r.height,o=t?0:Math.max(r.top,0),l=t?0:ye(this._overflowWrapper()[0],"scrollTop"),u=window.innerHeight-a,c=a-C.getShadows(i).bottom+u;if(!(s+o<c+l)){var d=Math.min(c,c-o+l);n.css({overflow:"hidden",height:d+"px"})}},close:function(a,e){var s=this,o=s._overflowWrapper(),t=o||s.element;(a=t.find(a)).length||(a=t.find(">.k-item"));return a.each(function(){var r=x(this);!e&&s._isRootItem(r)&&(s.clicked=!1),clearTimeout(r.data(F)),r.data(F,setTimeout(function(){var e,i,t,n=s._getPopup(r);if(n&&(t=r.data(N),!o||!t||!s._openedPopups[t.toString()]||s._forceClose)){if(!s._forceClose&&(e=n.element,i=!1,x.isEmptyObject(s._openedPopups)||x(_e(e,o)).each(function(e,t){return!(i=!!s._openedPopups[t.data(R).toString()])}),i))return;n.close(),n.element.attr("aria-hidden",!0),o&&s._forceClose&&a.last().is(r[0])&&delete s._forceClose}},s.options.hoverDelay))}),s},_getPopup:function(e){var t=e.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(U),i=this._overflowWrapper();if(!t&&i){var n=e.data(N);if(n)t=i.find(ge(n)).data(U)}return t},_toggleDisabled:function(e,t){this.element.find(e).each(function(){x(this).toggleClass(q,t).toggleClass(Y,!t).attr("aria-disabled",!t)})},_toggleHover:function(e){var t=x(C.eventTarget(e)||e.target).closest(X),i=e.type==z||-1!==a.indexOf(e.type);t.siblings().removeClass(j),t.parents("li."+Y).length||t.toggleClass(j,i||"mousedown"==e.type||"pointerover"==e.type||e.type==P),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(e){var t=this,i=x(e?e.currentTarget:this._hoverItem()),n=t._findRootParent(i)[0];this._closurePrevented||setTimeout(function(){document.hasFocus()&&(le(n,C._activeElement())||!e||le(n,e.currentTarget))||t.close(n)},0),this._closurePrevented=!1},_removeHoverItem:function(){var e=this._hoverItem();e&&e.hasClass(G)&&(e.removeClass(G),this._oldHoverItem=null)},_updateClasses:function(){var e,t=this.element;t.removeClass("k-menu-horizontal k-menu-vertical"),t.addClass("k-widget k-reset k-header k-menu-init "+I).addClass(I+"-"+this.options.orientation),t.find("li > ul").filter(function(){return!C.support.matchesSelector.call(this,".k-menu-init div ul")}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",t.is(":visible")).parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1"),e=t.find("> li,.k-menu-group > li"),t.removeClass("k-menu-init"),e.each(function(){ue(this)})},_mouseenter:function(e){var i=this,t=x(e.currentTarget),n=i._itemHasChildren(t),r=t.data(N)||t.parent().data(R),a=ke(e);r&&(i._openedPopups[r.toString()]=!0),i._closing||e.delegateTarget!=t.parents($)[0]&&e.delegateTarget!=t.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0]||(i._keyTriggered=!1,i.options.openOnClick.rootMenuItems&&i._isRootItem(t.closest(X))||i.options.openOnClick.subMenuItems&&!i._isRootItem(t.closest(X))||(!(!1===i.options.openOnClick||!1===i.options.openOnClick.rootMenuItems&&i._isRootItem(t.closest(X))||!1===i.options.openOnClick.subMenuItems&&!i._isRootItem(t.closest(X))||i.clicked)||y||a&&i._isRootItem(t.closest(X))||!le(e.currentTarget,e.relatedTarget)&&n&&i.open(t),(!0===i.options.openOnClick&&i.clicked||y)&&t.siblings().each(T(function(e,t){i.close(t,!0)},i))))},_mousedown:function(e){var i=this,t=x(e.currentTarget);(i.options.openOnClick.subMenuItems&&!i._isRootItem(t)||y)&&t.siblings().each(T(function(e,t){i.close(t,!0)},i))},_mouseleave:function(e){var t=x(e.currentTarget),i=t.data(N),n=t.children(Q).length||t.children(K).length||i,r=x(window);if(i&&delete this._openedPopups[i.toString()],!t.parentsUntil(Q,".k-list-container,.k-calendar-container")[0])return!1!==this.options.openOnClick&&(this.options.openOnClick.rootMenuItems||!this._isRootItem(t))&&(this.options.openOnClick.subMenuItems||this._isRootItem(t))||y||ke(e)||le(e.currentTarget,e.relatedTarget||e.target)||!n||le(e.currentTarget,C._activeElement())?void((C.support.browser.msie&&!e.toElement&&!e.relatedTarget&&!ke(e)||e.clientX<0||e.clientY<0||e.clientY>r.height()||e.clientX>r.width())&&this.close(t)):(this.close(t,!0),void(this._loading=!1));e.stopImmediatePropagation()},_mouseenterPopup:function(e){var t=x(e.currentTarget);if(!t.parent().is(Q)){var i=(t=t.children("ul")).data(R);i&&(this._openedPopups[i.toString()]=!0)}},_mouseleavePopup:function(e){var t=x(e.currentTarget);!ke(e)&&t.is(Q)&&this._closePopups(t.children("ul"))},_closePopups:function(t){var i=this,e=i._overflowWrapper(),n=t.data(R);if(n){delete i._openedPopups[n.toString()];var r=e.find(me(n));setTimeout(function(){if(i.options.openOnClick)i._closeChildPopups(t);else if(x.isEmptyObject(i._openedPopups)){var e=i._innerPopup(t);i._closeParentPopups(e)}else i.close(r,!0)},0)}},_closeChildPopups:function(e){var t=this,i=t._overflowWrapper();x(_e(e,i)).each(function(){var e=i.find(me(this.data(R)));t.close(e,!0)})},_innerPopup:function(e){var t=_e(e,this._overflowWrapper());return t[t.length-1]||e},_closeParentPopups:function(e){var t=this._overflowWrapper(),i=e.data(R),n=t.find(me(i));for(i=n.parent().data(R),this.close(n,!0);i&&!this._openedPopups[i]&&!n.parent().is($);)n=t.find(me(i)),this.close(n,!0),i=n.parent().data(R)},_click:function(e){for(var t,i,n,r,a=this,s=a.options,o=x(C.eventTarget(e)),l=o[0],u=o[0]?o[0].nodeName.toUpperCase():"",c="INPUT"==u||"SELECT"==u||"BUTTON"==u||"LABEL"==u,d=o.closest(".k-link"),p=o.closest(X),h=p[0],f=d.attr("href"),m=o.attr("href"),g=x("<a href='#' />").attr("href"),_=!!f&&f!==g,v=_&&!!f.match(/^#/),w=!!m&&m!==g,b=a._overflowWrapper();l&&l.parentNode!=h;)l=l.parentNode;if(!x(l).is("div:not(.k-animation-container,.k-list-container)"))if(p.hasClass(Y))e.preventDefault();else{if(e.handled||!a._triggerSelect(o,h)||c||e.preventDefault(),e.handled=!0,i=p.children(J),b){var y=p.data(N);y&&(i=b.find(ge(y)))}if(n=i.is(":visible"),r=s.openOnClick&&n&&a._isRootItem(p),s.closeOnClick&&(!_||v)&&(!i.length||r)){p.removeClass(j).css("height"),a._oldHoverItem=a._findRootParent(p);var k=a._parentsUntil(d,a.element,X);return a._forceClose=!!b,a.close(k),a.clicked=!1,void(-1!="MSPointerUp".indexOf(e.type)&&e.preventDefault())}_&&e.enterKey&&d[0].click(),(a._isRootItem(p)&&!1!==s.openOnClick||s.openOnClick.subMenuItems||C.support.touch||ke(e)&&a._isRootItem(p.closest(X)))&&(_||c||w||e.preventDefault(),a.clicked=!0,t=i.is(":visible")?D:S,!s.closeOnClick&&t==D||a[t](p))}},_parentsUntil:function(e,t,i){var n=this._overflowWrapper();if(n){var r=be(e,n),a=[];return x(r).each(function(){var e=x(this);if(e.is(t))return!1;e.is(i)&&a.push(this)}),x(a)}return e.parentsUntil(t,i)},_triggerSelect:function(e,t){var i,n=(e=e.is(".k-link")?e:e.closest(".k-link")).data("selectHandler");n&&(i=this._getEventData(e),n.call(this,i));var r=i&&i.isDefaultPrevented(),a=this._triggerEvent({item:t,type:m});return r||a},_getEventData:function(e){return{sender:this,target:e,_defaultPrevented:!1,preventDefault:function(){this._defaultPrevented=!0},isDefaultPrevented:function(){return this._defaultPrevented}}},_documentClick:function(e){le((this._overflowWrapper()||this.element)[0],e.target)||(this.clicked=!1)},_focus:function(e){var t=e.target,i=this._hoverItem(),n=r();if(t!=this.wrapper[0]&&!x(t).is(":kendoFocusable"))return e.stopPropagation(),x(t).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(G),void this.wrapper.focus();n===e.currentTarget&&(i.length?this._moveHover([],i):this._oldHoverItem||this._moveHover([],this.wrapper.children().first()))},_keydown:function(e){var t,i,n,r=this,a=e.keyCode,s=r._oldHoverItem,o=C.support.isRtl(r.wrapper);if(e.target==e.currentTarget||a==u.ESC){if(s=s||(r._oldHoverItem=r._hoverItem()),i=r._itemBelongsToVertival(s),n=r._itemHasChildren(s),r._keyTriggered=!0,a==u.RIGHT)t=r[o?"_itemLeft":"_itemRight"](s,i,n);else if(a==u.LEFT)t=r[o?"_itemRight":"_itemLeft"](s,i,n);else if(a==u.DOWN)t=r._itemDown(s,i,n);else if(a==u.UP)t=r._itemUp(s,i,n);else if(a==u.HOME)r._moveHover(s,s.parent().children().first()),e.preventDefault();else if(a==u.END)r._moveHover(s,s.parent().children().last()),e.preventDefault();else if(a==u.ESC)t=r._itemEsc(s,i);else if(a==u.ENTER||a==u.SPACEBAR)0<(t=s.children(".k-link")).length&&(r._click({target:t[0],preventDefault:function(){},enterKey:!0}),n&&!s.hasClass(Y)?(r.open(s),r._moveHover(s,r._childPopupElement(s).children().first())):r._moveHover(s,r._findRootParent(s)));else if(a==u.TAB)return t=r._findRootParent(s),r._moveHover(s,t),void r._checkActiveElement();t&&t[0]&&(e.preventDefault(),e.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");return e.length&&e.parent().hasClass("k-menu-group")||t},_itemHasChildren:function(e){return!!(e&&e.length&&e[0].nodeType)&&(0<e.children(".k-menu-group, div.k-animation-container").length||!!e.data(N)&&!!this._overflowWrapper().children(ge(e.data(N))))},_moveHover:function(e,t){var i=this._ariaId;e.length&&t.length&&e.removeClass(G),t.length&&(t[0].id&&(i=t[0].id),t.addClass(G),this._oldHoverItem=t,i&&(this.element.removeAttr("aria-activedescendant"),x("#"+i).removeAttr("id"),t.attr("id",i),this.element.attr("aria-activedescendant",i)),this._scrollToItem(t))},_findRootParent:function(e){return this._isRootItem(e)?e:this._parentsUntil(e,$,"li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass(I)},_itemRight:function(e,t,i){var n,r,a,s=this;if(t){if(i&&!e.hasClass(Y))s.open(e),n=s._childPopupElement(e).children().first();else if("horizontal"==s.options.orientation){if(r=s._findRootParent(e),a=s._overflowWrapper()){var o=we(r,a);s._closeChildPopups(o)}s.close(r),n=r.nextAll(ie)}}else(n=e.nextAll(ie)).length||(n=e.prevAll(ne)),s.close(e);return n=n&&!n.length?s.wrapper.children(".k-item").first():n||[],s._moveHover(e,n),n},_itemLeft:function(e,t){var i,n;return t?(i=e.parent().closest(".k-item"),n=this._overflowWrapper(),!i.length&&n&&(i=ve(e.parent(),n)),this.close(i),this._isRootItem(i)&&"horizontal"==this.options.orientation&&(i=i.prevAll(ie))):((i=e.prevAll(ie)).length||(i=e.nextAll(ne)),this.close(e)),i.length||(i=this.wrapper.children(".k-item").last()),this._moveHover(e,i),i},_itemDown:function(e,t,i){var n;if(t)n=e.nextAll(ie);else{if(!i||e.hasClass(Y))return;this.open(e),n=this._childPopupElement(e).children().first()}return!n.length&&e.length?n=e.parent().children().first():e.length||(n=this.wrapper.children(".k-item").first()),this._moveHover(e,n),n},_itemUp:function(e,t){var i;if(t)return!(i=e.prevAll(ie)).length&&e.length?i=e.parent().children().last():e.length||(i=this.wrapper.children(".k-item").last()),this._moveHover(e,i),i},_scrollToItem:function(e){var t=this;if(t.options.scrollable&&e&&e.length){var i,n=e.parent(),r=!!n.hasClass(I)&&"horizontal"==t.options.orientation,a=r?"scrollLeft":"scrollTop",s=r?C._outerWidth:C._outerHeight,o=n[a](),l=s(e),u=e[0][r?"offsetLeft":"offsetTop"],c=s(n),d=n.siblings(re),p=d.length?s(d.first()):0;if(o+c<u+l+p?i=u+l-c+p:u-p<o&&(i=u-p),!isNaN(i)){var h={};h[a]=i,n.finish().animate(h,"fast","linear",function(){t._toggleScrollButtons(n,d.first(),d.last(),r)})}}},_itemEsc:function(e,t){var i;return t?(i=e.parent().closest(".k-item"),this.close(i),this._moveHover(e,i),i):e},_childPopupElement:function(e){var t=e.find(".k-menu-group"),i=this._overflowWrapper();return!t.length&&i&&(t=we(e,i)),t},_triggerEvent:function(e){return this.trigger(e.type,{type:e.type,item:e.item})},_focusHandler:function(e){var t=this,i=x(C.eventTarget(e)).closest(X);i.hasClass(Y)||setTimeout(function(){t._moveHover([],i),i.children(".k-content")[0]&&i.parent().closest(".k-item").removeClass(G)},200)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_dataSource:function(e){var t=e?e.dataSource:this.options.dataSource;t&&(t=l(t)?{data:t}:t,this._unbindDataSource(),t.fields||(t.fields=[{field:"uid"},{field:"text"},{field:"url"},{field:"cssClass"},{field:"spriteCssClass"},{field:"imageUrl"},{field:"imageAttr"},{field:"attr"},{field:"contentAttr"},{field:"content"},{field:"encoded"},{field:"items"},{field:"select"}]),this.dataSource=i.create(t),this._bindDataSource(),this.dataSource.fetch())},_bindDataSource:function(){this._refreshHandler=T(this.refresh,this),this._errorHandler=T(this._error,this),this.dataSource.bind(H,this._refreshHandler),this.dataSource.bind("error",this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind(H,this._refreshHandler),e.unbind("error",this._errorHandler))},_error:function(){},findByUid:function(e){return(this._overflowWrapper()||this.element).find("["+C.attr("uid")+"="+e+"]")},refresh:function(e){var t=e.node,i=e.action,n=t?this.findByUid(t.uid):this.element,r=e.items,a=e.index,s=x.proxy(this._updateItem,this),o=x.proxy(this._removeItem,this);"add"==i?this._appendItems(r,a,n):"remove"==i?r.forEach(o):"itemchange"==i?r.forEach(s):"itemloaded"===i?this.append(e.items,n):this._initData(),this.trigger("dataBound",{item:n,dataItem:t})},_appendItems:function(e,t,i){var n=i.find(Z).eq(t);n.length?this.insertBefore(e,n):this.append(e,i)},_removeItem:function(e){var t=this.findByUid(e.uid);this.remove(t)},_updateItem:function(e){var t=this.findByUid(e.uid),i=t.next(),n=e.parentNode();this.remove(t),i.length?this.insertBefore(e,i):this.append(e,n&&this.findByUid(n.uid))},_accessors:function(){var e,t,i,n=this.options,r=this.element;for(e in se)t=n[se[e]],i=r.attr(C.attr(e+"-field")),!t&&i&&(t=i),l(t=t||e)||(t=[t]),n[se[e]]=t},_fieldAccessor:function(e){var t=this.options[se[e]]||[],i=t.length,n="(function(item) {";return 0===i?n+="return item['"+e+"'];":(n+="var levels = ["+x.map(t,function(e){return"function(d){ return "+C.expr(e)+"}"}).join(",")+"];",n+="if(item.level){return levels[Math.min(item.level(), "+i+"-1)](item);}else",n+="{return levels["+i+"-1](item)}"),n+="})"},_templates:function(){var e=this.options,t=T(this._fieldAccessor,this);e.template&&"string"==typeof e.template?e.template=s(e.template):e.template||(e.template=s("# var text = "+t("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),this.templates={content:s("#var contentHtml = "+t("content")+"(item);#<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex='-1'>#= contentHtml || '' #</div>"),group:s("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:s("# var url = "+t("url")+"(item); ## var imageUrl = "+t("imageUrl")+"(item); ## var imgAttributes = "+t("imageAttr")+"(item);## var tag = url ? 'a' : 'span' #<#= tag # class='#= textClass(item) #' #if(url){#href='#= url #'#}#># if (imageUrl) { #<img #= imageCssAttributes(imgAttributes) #  alt='' src='#= imageUrl #' /># } ##= sprite(item) ##= data.menu.options.template(data) ##= arrow(data) #</#= tag #>"),item:s("#var contentHtml = "+t("content")+"(item);#<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#"+C.attr("uid")+"='#= item.uid #' >#= itemWrapper(data) ##if (item.hasChildren || item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl || contentHtml) { ##= renderContent(data) ## } #</li>"),scrollButton:s("<span class='k-button k-button-icon k-menu-scroll-button k-scroll-#= direction #' unselectable='on'><span class='k-icon k-i-arrow-60-#= direction #'></span></span>"),arrow:s("<span class='#= arrowClass(item, group) #'></span>"),sprite:s("# var spriteCssClass = "+t("spriteCssClass")+"(data); if(spriteCssClass) {#<span class='k-sprite #= spriteCssClass #'></span>#}#"),empty:s("")}},renderItem:function(e){e=k({menu:this,group:{}},e);var t=this.templates.empty,i=e.item;return this.templates.item(k(e,{sprite:this.templates.sprite,itemWrapper:this.templates.itemWrapper,renderContent:this.renderContent,arrow:i.items||i.content||i[this.options.dataContentField[0]]?this.templates.arrow:t,subGroup:this.renderGroup},oe))},renderGroup:function(e){return(this.templates||e.menu.templates).group(k({renderItems:function(e){for(var t="",i=0,n=e.items,r=n?n.length:0,a=k({length:r},e.group);i<r;i++)t+=e.menu.renderItem(k(e,{group:a,item:k({index:i},n[i])}));return t}},e,oe))},renderContent:function(e){return e.menu.templates.content(k(e,oe))}}),Te=Ce.extend({init:function(e,t){Ce.fn.init.call(this,e,t),this._marker=C.guid().substring(0,8),this.target=x(this.options.target),this._popup(),this._wire()},_initOverflow:function(e){var t=this;e.scrollable&&!t._overflowWrapper()&&(t._openedPopups={},t._popupsWrapper=(t.element.parent().is(Q)?t.element.parent():t.element).wrap("<div class='k-popups-wrapper "+e.orientation+"'></div>").parent(),"horizontal"==t.options.orientation&&xe(t.element),e.appendTo&&(e.appendTo=x(e.appendTo),e.appendTo.append(t._popupsWrapper)),t._initialHeight=t.element[0].style.height,t._initialWidth=t.element[0].style.width)},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,copyAnchorStyles:!0,target:"body"},events:[S,D,A,M,m],setOptions:function(e){var t=this;Ce.fn.setOptions.call(t,e),t.target.off(t.showOn+_+t._marker,t._showProxy),t.userEvents&&t.userEvents.destroy(),t.target=x(t.options.target),e.orientation&&t.popup.wrapper[0]&&t.popup.element.unwrap(),t._wire(),Ce.fn.setOptions.call(this,e)},destroy:function(){this.target.off(this.options.showOn+_+this._marker),W.off(C.support.mousedown+_+this._marker,this._closeProxy),this.userEvents&&this.userEvents.destroy(),Ce.fn.destroy.call(this)},open:function(e,t){var i=this;if(e=x(e)[0],le(i.element[0],x(e)[0])||i._itemHasChildren(x(e)))Ce.fn.open.call(i,e);else if(!1===i._triggerEvent({item:i.element,type:S})){if(i.popup.visible()&&i.options.filter&&(i.popup.close(!0),i.popup.element.kendoStop(!0)),t!==b){var n=i._overflowWrapper();if(n){var r=n.offset();e-=r.left,t-=r.top}i.popup.wrapper.hide(),i._configurePopupScrolling(e,t),i.popup.open(e,t)}else i.popup.options.anchor=e||i.popup.anchor||i.target,i.popup.element.kendoStop(!0),i._configurePopupScrolling(),i.popup.open();W.off(i.popup.downEvent,i.popup._mousedownProxy),W.on(C.support.mousedown+_+i._marker,i._closeProxy)}return i},_configurePopupScrolling:function(e,t){var i=this.popup,n="horizontal"==this.options.orientation;this.options.scrollable&&(this._wrapPopupElement(i),i.element.parent().css({position:"",height:""}),i.element.css({visibility:"hidden",display:"",position:""}),n?this._setPopupWidth(i,isNaN(e)?b:{isFixed:!0,x:e,y:t}):this._setPopupHeight(i,isNaN(e)?b:{isFixed:!0,x:e,y:t}),i.element.css({visibility:"",display:"none",position:"absolute"}),this._initPopupScrollButtons(i,n,!0),i.element.siblings(re).hide())},_setPopupWidth:function(e,t){var i=e.element,n=i.add(i.parent(Q));n.width(this._initialWidth||"");var r=e._location(t),a=x(window).width(),s=r.width,o=Math.max(r.left,0),l=t?0:ye(this._overflowWrapper()[0],"scrollLeft"),u=C.getShadows(i),c=a-u.left-u.right;s+o<c+l||n.css({overflow:"hidden",width:c-o+l+"px"})},close:function(){var e=this;le(e.element[0],x(arguments[0])[0])||e._itemHasChildren(arguments[0])?Ce.fn.close.call(e,arguments[0]):e.popup.visible()&&!1===e._triggerEvent({item:e.element,type:D})&&(e.popup.close(),W.off(C.support.mousedown+_+e._marker,e._closeProxy),e.unbind(m,e._closeTimeoutProxy))},_showHandler:function(e){var t,i=e,n=this,r=n.options,a=C.support.mobileOS?x(i.target):x(i.currentTarget);e.event&&((i=e.event).pageX=e.x.location,i.pageY=e.y.location),le(n.element[0],e.relatedTarget||e.target)||((n._eventOrigin=i).preventDefault(),i.stopImmediatePropagation(),n.element.find("."+G).removeClass(G),(r.filter&&a.is(r.filter)||!r.filter)&&(r.alignToAnchor?(n.popup.options.anchor=i.currentTarget,n.open(i.currentTarget)):(n.popup.options.anchor=i.currentTarget,n._targetChild?(t=n.target.offset(),n.open(i.pageX-t.left,i.pageY-t.top)):n.open(i.pageX,i.pageY))))},_closeHandler:function(e){var t=this,i=x(e.relatedTarget||e.target),n=i.closest(t.target.selector)[0]==t.target[0],r=i.closest(Z),a=t._itemHasChildren(r),s=t._overflowWrapper(),o=le(t.element[0],i[0])||s&&le(s[0],i[0]),l=3!==(t._eventOrigin=e).which;t.popup.visible()&&(l&&n||!n)&&(t.options.closeOnClick&&!a&&o||!o)&&(o?(this.unbind(m,this._closeTimeoutProxy),t.bind(m,t._closeTimeoutProxy)):t.close())},_wire:function(){var e=this,t=e.options,i=e.target;e._preventProxy=null,e._showProxy=T(e._showHandler,e),e._closeProxy=T(e._closeHandler,e),e._closeTimeoutProxy=T(e.close,e),i[0]&&(C.support.mobileOS&&"contextmenu"==t.showOn&&(e.userEvents=new C.UserEvents(i,{filter:t.filter,allowSelection:!1}),e._preventProxy=function(){return!1},e.userEvents.bind("hold",e._showProxy)),t.filter?i.on(t.showOn+_+e._marker,t.filter,e._preventProxy||e._showProxy):i.on(t.showOn+_+e._marker,e._preventProxy||e._showProxy))},_triggerEvent:function(e){var t=x(this.popup.options.anchor)[0],i=this._eventOrigin;return this._eventOrigin=b,this.trigger(e.type,k({type:e.type,item:e.item||this.element[0],target:t},i?{event:i}:{}))},_popup:function(){var e=this,t=e._overflowWrapper();e._triggerProxy=T(e._triggerEvent,e),e.popup=e.element.addClass("k-context-menu").kendoPopup({autosize:"horizontal"===e.options.orientation,anchor:e.target||"body",copyAnchorStyles:e.options.copyAnchorStyles,collision:e.options.popupCollision||"fit",animation:e.options.animation,activate:e._triggerProxy,deactivate:e._triggerProxy,appendTo:t||e.options.appendTo,close:t?function(e){x(_e(e.sender.element,t)).each(function(e,t){var i=t.data(U);i&&i.close(!0)})}:x.noop}).data(U),e._targetChild=le(e.target[0],e.popup.element[0])}});e.plugin(Ce),e.plugin(Te)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.draganddrop",["kendo.core","kendo.userevents"],function(){var e={id:"draganddrop",name:"Drag & drop",category:"framework",description:"Drag & drop functionality for any DOM element.",depends:["core","userevents"]};return function(l){var n,o=window.kendo,u=o.support,d=window.document,p=l(window),e=o.Class,a=o.ui.Widget,r=o.Observable,s=o.UserEvents,c=l.proxy,f=l.extend,h=o.getOffset,m={},g={},_={},v=o.elementUnderCursor,w="change",t="dragcancel",i="hintDestroyed",b="dragenter",y="dragleave";function k(e,t){return parseInt(e.css(t),10)||0}function x(e,t){return Math.min(Math.max(e,t.min),t.max)}function C(e,t){var i=h(e),n=o._outerWidth,r=o._outerHeight,a=i.left+k(e,"borderLeftWidth")+k(e,"paddingLeft"),s=i.top+k(e,"borderTopWidth")+k(e,"paddingTop");return{x:{min:a,max:a+e.width()-n(t,!0)},y:{min:s,max:s+e.height()-r(t,!0)}}}var T,S=r.extend({init:function(e,t){var i=this,n=e[0];i.capture=!1,n.addEventListener?(l.each(o.eventMap.down.split(" "),function(){n.addEventListener(this,c(i._press,i),!0)}),l.each(o.eventMap.up.split(" "),function(){n.addEventListener(this,c(i._release,i),!0)})):(l.each(o.eventMap.down.split(" "),function(){n.attachEvent(this,c(i._press,i))}),l.each(o.eventMap.up.split(" "),function(){n.attachEvent(this,c(i._release,i))})),r.fn.init.call(i),i.bind(["press","release"],t||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){this.trigger("press"),this.capture&&e.preventDefault()},_release:function(e){this.trigger("release"),this.capture&&(e.preventDefault(),this.cancelCapture())}}),I=r.extend({init:function(e){var t=this;r.fn.init.call(t),t.forcedEnabled=!1,l.extend(t,e),t.scale=1,t.horizontal?(t.measure="offsetWidth",t.scrollSize="scrollWidth",t.axis="x"):(t.measure="offsetHeight",t.scrollSize="scrollHeight",t.axis="y")},makeVirtual:function(){l.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){this._virtualMin===e&&this._virtualMax===t||(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBounds:function(e){return e>this.max||e<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,i=t.virtual?t._virtualMax:t.getTotal(),n=i*t.scale,r=t.getSize();0===i&&!t.forcedEnabled||(t.max=t.virtual?-t._virtualMin:0,t.size=r,t.total=n,t.min=Math.min(t.max,r-n),t.minScale=r/i,t.centerOffset=(n-r)/2,t.enabled=t.forcedEnabled||r<n,e||t.trigger(w,t))}}),D=r.extend({init:function(e){r.fn.init.call(this),this.x=new I(f({horizontal:!0},e)),this.y=new I(f({horizontal:!1},e)),this.container=e.container,this.forcedMinScale=e.minScale,this.maxScale=e.maxScale||100,this.bind(w,e)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(w)}}),F=r.extend({init:function(e){f(this,e),r.fn.init.call(this)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this.dimension,i=this.axis,n=this.movable,r=n[i]+e;t.enabled&&((r<t.min&&e<0||r>t.max&&0<e)&&(e*=this.resistance),n.translateAxis(i,e),this.trigger(w,this))}}),E=e.extend({init:function(e){var c,d,t,p,h=this;f(h,{elastic:!0},e),t=h.elastic?.5:0,p=h.movable,h.x=c=new F({axis:"x",dimension:h.dimensions.x,resistance:t,movable:p}),h.y=d=new F({axis:"y",dimension:h.dimensions.y,resistance:t,movable:p}),h.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(e){h.gesture=e,h.offset=h.dimensions.container.offset()},press:function(e){l(e.event.target).closest("a").is("[data-navigate-on-press=true]")&&e.sender.cancel()},gesturechange:function(e){var t,i=h.gesture,n=i.center,r=e.center,a=e.distance/i.distance,s=h.dimensions.minScale,o=h.dimensions.maxScale;p.scale<=s&&a<1&&(a+=.8*(1-a)),p.scale*a>=o&&(a=o/p.scale);var l=p.x+h.offset.left,u=p.y+h.offset.top;t={x:(l-n.x)*a+r.x-l,y:(u-n.y)*a+r.y-u},p.scaleWith(a),c.dragMove(t.x),d.dragMove(t.y),h.dimensions.rescale(p.scale),(h.gesture=e).preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(c.dimension.enabled||d.dimension.enabled?(c.dragMove(e.x.delta),d.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),A=u.transitions.prefix+"Transform";T=u.hasHW3D?function(e,t,i){return"translate3d("+e+"px,"+t+"px,0) scale("+i+")"}:function(e,t,i){return"translate("+e+"px,"+t+"px) scale("+i+")"};var M=r.extend({init:function(e){var t=this;r.fn.init.call(t),t.element=l(e),t.element[0].style.webkitTransformOrigin="left top",t.x=0,t.y=0,t.scale=1,t._saveCoordinates(T(t.x,t.y,t.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){f(this,e),this.refresh()},refresh:function(){var e,t=this,i=t.x,n=t.y;t.round&&(i=Math.round(i),n=Math.round(n)),(e=T(i,n,t.scale))!=t.coordinates&&(o.support.browser.msie&&o.support.browser.version<10?(t.element[0].style.position="absolute",t.element[0].style.left=t.x+"px",t.element[0].style.top=t.y+"px"):t.element[0].style[A]=e,t._saveCoordinates(e),t.trigger(w))},_saveCoordinates:function(e){this.coordinates=e}});function O(e,t){var i,n=t.options.group,r=e[n];if(a.fn.destroy.call(t),1<r.length){for(i=0;i<r.length;i++)if(r[i]==t){r.splice(i,1);break}}else r.length=0,delete e[n]}var H=a.extend({init:function(e,t){a.fn.init.call(this,e,t);var i=this.options.group;i in g?g[i].push(this):g[i]=[this]},events:[b,y,"drop"],options:{name:"DropTarget",group:"default"},destroy:function(){O(g,this)},_trigger:function(e,t){var i=m[this.options.group];if(i)return this.trigger(e,f({},t.event,{draggable:i,dropTarget:t.dropTarget}))},_over:function(e){this._trigger(b,e)},_out:function(e){this._trigger(y,e)},_drop:function(e){var t=m[this.options.group];t&&(t.dropped=!this._trigger("drop",e))}});H.destroyGroup=function(e){var t,i=g[e]||_[e];if(i){for(t=0;t<i.length;t++)a.fn.destroy.call(i[t]);i.length=0,delete g[e],delete _[e]}},H._cache=g;var P=H.extend({init:function(e,t){a.fn.init.call(this,e,t);var i=this.options.group;i in _?_[i].push(this):_[i]=[this]},destroy:function(){O(_,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),z=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t),i._activated=!1,i.userEvents=new s(i.element,{global:!0,allowSelection:!0,filter:i.options.filter,threshold:i.options.distance,start:c(i._start,i),hold:c(i._hold,i),move:c(i._drag,i),end:c(i._end,i),cancel:c(i._cancel,i),select:c(i._select,i)}),o.support.touch&&i.element.find(i.options.filter).css("touch-action","none"),i._afterEndHandler=c(i._afterEnd,i),i._captureEscape=c(i._captureEscape,i)},events:["hold","dragstart","drag","dragend",t,i],options:{name:"Draggable",distance:o.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(e){e.keyCode===o.keys.ESC&&(this._trigger(t,{event:e}),this.userEvents.cancel())},_updateHint:function(e){var t,i=this.options,n=this.boundaries,r=i.axis,a=this.options.cursorOffset;t=a?{left:e.x.location+a.left,top:e.y.location+a.top}:(this.hintOffset.left+=e.x.delta,this.hintOffset.top+=e.y.delta,l.extend({},this.hintOffset)),n&&(t.top=x(t.top,n.y),t.left=x(t.left,n.x)),"x"===r?delete t.top:"y"===r&&delete t.left,this.hint.css(t)},_shouldIgnoreTarget:function(e){var t=this.options.ignore;return t&&l(e).is(t)},_select:function(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault()},_start:function(t){var i=this,e=i.options,n=e.container?l(e.container):null,r=e.hint;if(this._shouldIgnoreTarget(t.touch.initialTouch)||e.holdToDrag&&!i._activated)i.userEvents.cancel();else{if(i.currentTarget=t.target,i.currentTargetOffset=h(i.currentTarget),r){i.hint&&i.hint.stop(!0,!0).remove(),i.hint=o.isFunction(r)?l(r.call(i,i.currentTarget)):r;var a=h(i.currentTarget);i.hintOffset=a,i.hint.css({position:"absolute",zIndex:2e4,left:a.left,top:a.top}).appendTo(d.body),i.angular("compile",function(){i.hint.removeAttr("ng-repeat");for(var e=l(t.target);!e.data("$$kendoScope")&&e.length;)e=e.parent();return{elements:i.hint.get(),scopeFrom:e.data("$$kendoScope")}})}(m[e.group]=i).dropped=!1,n&&(i.boundaries=C(n,i.hint)),l(d).on("keyup",i._captureEscape),i._trigger("dragstart",t)&&(i.userEvents.cancel(),i._afterEnd()),i.userEvents.capture()}},_hold:function(e){this.currentTarget=e.target,this._trigger("hold",e)?this.userEvents.cancel():this._activated=!0},_drag:function(e){e.preventDefault();var t=this._elementUnderCursor(e);if(this.options.autoScroll&&this._cursorElement!==t&&(this._scrollableParent=B(t),this._cursorElement=t),this._lastEvent=e,this._processMovement(e,t),this.options.autoScroll&&this._scrollableParent[0]){var i=R(e.x.location,e.y.location,V(this._scrollableParent));this._scrollCompenstation=l.extend({},this.hintOffset),0===(this._scrollVelocity=i).y&&0===i.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(l.proxy(this,"_autoScroll"),50))}this.hint&&this._updateHint(e)},_processMovement:function(i,e){this._withDropTarget(e,function(e,t){if(e){if(n){if(t===n.targetElement)return;n._trigger(y,f(i,{dropTarget:l(n.targetElement)}))}e._trigger(b,f(i,{dropTarget:l(t)})),n=f(e,{targetElement:t})}else n&&(n._trigger(y,f(i,{dropTarget:l(n.targetElement)})),n=null)}),this._trigger("drag",f(i,{dropTarget:n,elementUnderCursor:e}))},_autoScroll:function(){var e=this._scrollableParent[0],t=this._scrollVelocity,i=this._scrollCompenstation;if(e){var n,r,a=this._elementUnderCursor(this._lastEvent);this._processMovement(this._lastEvent,a);var s=e===L()[0];r=s?(n=d.body.scrollHeight>p.height(),d.body.scrollWidth>p.width()):(n=e.offsetHeight<=e.scrollHeight,e.offsetWidth<=e.scrollWidth);var o=e.scrollTop+t.y,l=n&&0<o&&o<e.scrollHeight,u=e.scrollLeft+t.x,c=r&&0<u&&u<e.scrollWidth;l&&(e.scrollTop+=t.y),c&&(e.scrollLeft+=t.x),this.hint&&s&&(c||l)&&(l&&(i.top+=t.y),c&&(i.left+=t.x),this.hint.css(i))}},_end:function(i){this._withDropTarget(this._elementUnderCursor(i),function(e,t){e&&(e._drop(f({},i,{dropTarget:l(t)})),n=null)}),this._cancel(this._trigger("dragend",i))},_cancel:function(e){var t=this;t._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),t._activated=!1,t.hint&&!t.dropped?setTimeout(function(){t.hint.stop(!0,!0),e?t._afterEndHandler():t.hint.animate(t.currentTargetOffset,"fast",t._afterEndHandler)},0):t._afterEnd()},_trigger:function(e,t){return this.trigger(e,f({},t.event,{x:t.x,y:t.y,currentTarget:this.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}))},_elementUnderCursor:function(e){var t=v(e),i=this.hint;return i&&function(e,t){try{return l.contains(e,t)||e==t}catch(e){return}}(i[0],t)&&(i.hide(),t=(t=v(e))||v(e),i.show()),t},_withDropTarget:function(e,t){var i,n=this.options.group,r=g[n],a=_[n];(r&&r.length||a&&a.length)&&((i=function(e,t,i){for(var n,r,a=0,s=t&&t.length,o=i&&i.length;e&&e.parentNode;){for(a=0;a<s;a++)if((n=t[a]).element[0]===e)return{target:n,targetElement:e};for(a=0;a<o;a++)if(r=i[a],l.contains(r.element[0],e)&&u.matchesSelector.call(e,r.options.filter))return{target:r,targetElement:e};e=e.parentNode}}(e,r,a))?t(i.target,i.targetElement):t())},destroy:function(){a.fn.destroy.call(this),this._afterEnd(),this.userEvents.destroy(),this._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),this.currentTarget=null},_afterEnd:function(){this.hint&&this.hint.remove(),delete m[this.options.group],this.trigger("destroy"),this.trigger(i),l(d).off("keyup",this._captureEscape)}});function V(e){var t,i,n,r=L()[0];return e[0]===r?{top:i=r.scrollTop,left:n=r.scrollLeft,bottom:i+p.height(),right:n+p.width()}:((t=e.offset()).bottom=t.top+e.height(),t.right=t.left+e.width(),t)}function L(){return l(o.support.browser.edge||o.support.browser.safari?d.body:d.documentElement)}function B(e){var t=L();if(!e||e===d.body||e===d.documentElement)return t;for(var i=l(e)[0];i&&!o.isScrollable(i)&&i!==d.body;)i=i.parentNode;return i===d.body?t:l(i)}function R(e,t,i){var n={x:0,y:0};return e-i.left<50?n.x=-(50-(e-i.left)):i.right-e<50&&(n.x=50-(i.right-e)),t-i.top<50?n.y=-(50-(t-i.top)):i.bottom-t<50&&(n.y=50-(i.bottom-t)),n}o.ui.plugin(H),o.ui.plugin(P),o.ui.plugin(z),o.TapCapture=S,o.containerBoundaries=C,f(o.ui,{Pane:E,PaneDimensions:D,Movable:M}),o.ui.Draggable.utils={autoScrollVelocity:R,scrollableViewPort:V,findScrollableParent:B}}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.slider",["kendo.draganddrop"],function(){var e={id:"slider",name:"Slider",category:"web",description:"The Slider widget provides a rich input for selecting values or ranges of values.",depends:["draganddrop"]};return function(f){var m=window.kendo,r=m.ui.Widget,a=m.ui.Draggable,g=m._outerWidth,_=m._outerHeight,s=f.extend,o=m.format,n=m.parseFloat,l=f.proxy,u=f.isArray,v=Math,c=m.support,e=c.pointers,t=c.msPointers,d="change",p="slide",h=".slider",w="touchstart.slider mousedown"+h,b=e?"pointerdown"+h:t?"MSPointerDown"+h:w,y="touchend.slider mouseup"+h,k=e?"pointerup":t?"MSPointerUp"+h:y,i="moveSelection",x="keydown"+h,C="click"+h,T="mouseover"+h,S="focus"+h,I="blur"+h,D=".k-draghandle",F=".k-slider-track",E=".k-tick",A="k-state-selected",M="k-state-focused",O="k-state-default",H="k-state-disabled",P="disabled",z="tabindex",V=m.getTouches,L=r.extend({init:function(e,t){var i=this;if(r.fn.init.call(i,e,t),t=i.options,i._isHorizontal="horizontal"==t.orientation,i._isRtl=i._isHorizontal&&m.support.isRtl(e),i._position=i._isHorizontal?"left":"bottom",i._sizeFn=i._isHorizontal?"width":"height",i._outerSize=i._isHorizontal?g:_,t.tooltip.format=t.tooltip.enabled&&t.tooltip.format||"{0}",t.smallStep<=0)throw new Error("Kendo UI Slider smallStep must be a positive number.");i._createHtml(),i.wrapper=i.element.closest(".k-slider"),i._trackDiv=i.wrapper.find(F),i._setTrackDivWidth(),i._maxSelection=i._trackDiv[i._sizeFn](),i._sliderItemsInit(),i._reset(),i._tabindex(i.wrapper.find(D)),i[t.enabled?"enable":"disable"]();var n=m.support.isRtl(i.wrapper)?-1:1;i._keyMap={37:R(-1*n*t.smallStep),40:R(-t.smallStep),39:R(n*t.smallStep),38:R(+t.smallStep),35:N(t.max),36:N(t.min),33:R(+t.largeStep),34:R(-t.largeStep)},m.notify(i)},events:[d,p],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_distance:function(){return U(this.options.max-this.options.min)},_resize:function(){this._setTrackDivWidth(),this.wrapper.find(".k-slider-items").remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh(),this.options.enabled&&this.enable(!0)},_sliderItemsInit:function(){var e=this,t=e.options,i=e._maxSelection/((t.max-t.min)/t.smallStep),n=e._calculateItemsWidth(v.floor(G(e._distance())/G(t.smallStep)));"none"!=t.tickPlacement&&2<=i&&(f(this.element).parent().find(".k-slider-items").remove(),e._trackDiv.before(function(e,t){var i,n="<ul class='k-reset k-slider-items'>",r=v.floor(U(t/e.smallStep))+1;for(i=0;i<r;i++)n+="<li class='k-tick' role='presentation'>&nbsp;</li>";return n+="</ul>"}(t,e._distance())),e._setItemsWidth(n),e._setItemsTitle()),e._calculateSteps(n),"none"!=t.tickPlacement&&2<=i&&t.largeStep>=t.smallStep&&e._setItemsLargeTick()},getSize:function(){return m.dimensions(this.wrapper)},_setTrackDivWidth:function(){var e=2*parseFloat(this._trackDiv.css(this._isRtl?"right":this._position),10);this._trackDiv[this._sizeFn](this.wrapper[this._sizeFn]()-2-e)},_setItemsWidth:function(e){var t,i=this,n=i.options,r=e.length-1,a=i.wrapper.find(E),s=0,o=a.length,l=0;for(t=0;t<o-2;t++)f(a[t+1])[i._sizeFn](e[t]);if(i._isHorizontal?(f(a[0]).addClass("k-first")[i._sizeFn](e[r-1]),f(a[r]).addClass("k-last")[i._sizeFn](e[r])):(f(a[r]).addClass("k-first")[i._sizeFn](e[r]),f(a[0]).addClass("k-last")[i._sizeFn](e[r-1])),i._distance()%n.smallStep!=0&&!i._isHorizontal){for(t=0;t<e.length;t++)l+=e[t];s=i._maxSelection-l,s+=parseFloat(i._trackDiv.css(i._position),10)+2,i.wrapper.find(".k-slider-items").css("padding-top",s)}},_setItemsTitle:function(){for(var e=this.options,t=this.wrapper.find(E),i=e.min,n=t.length,r=this._isHorizontal&&!this._isRtl?0:n-1,a=this._isHorizontal&&!this._isRtl?n:-1,s=this._isHorizontal&&!this._isRtl?1:-1;r-a!=0;r+=s)f(t[r]).attr("title",o(e.tooltip.format,U(i))),i+=e.smallStep},_setItemsLargeTick:function(){var e,t=this.options,i=this.wrapper.find(E),n=0;if(G(t.largeStep)%G(t.smallStep)==0||3<=this._distance()/t.largeStep)for(this._isHorizontal||this._isRtl||(i=f.makeArray(i).reverse()),n=0;n<i.length;n++){e=f(i[n]);var r=U(G(this._values[n]-this.options.min));r%G(t.smallStep)==0&&r%G(t.largeStep)==0&&(e.addClass("k-tick-large").html("<span class='k-label'>"+e.attr("title")+"</span>"),0!==n&&n!==i.length-1&&e.css("line-height",e[this._sizeFn]()+"px"))}},_calculateItemsWidth:function(e){var t,i,n,r=this.options,a=parseFloat(this._trackDiv.css(this._sizeFn))+1,s=this._distance(),o=G(s)/G(r.smallStep),l=a/G(s);for(0<o-e&&(a-=G(s)%G(r.smallStep)*l),t=a/e,i=[],n=0;n<e-1;n++)i[n]=t;return i[e-1]=i[e]=t/2,this._roundWidths(i)},_roundWidths:function(e){var t,i=0,n=e.length;for(t=0;t<n;t++)i+=e[t]-v.floor(e[t]),e[t]=v.floor(e[t]);return i=v.round(i),this._addAdditionalSize(i,e)},_addAdditionalSize:function(e,t){if(0===e)return t;var i,n=parseFloat(t.length-1)/parseFloat(1==e?e:e-1);for(i=0;i<e;i++)t[parseInt(v.round(n*i),10)]+=1;return t},_calculateSteps:function(e){var t,i=this,n=i.options,r=n.min,a=0,s=i._distance(),o=v.ceil(G(s)/G(n.smallStep)),l=1;if(o+=G(s)/G(n.smallStep)%1==0?1:0,e.splice(0,0,2*e[o-2]),e.splice(o-1,1,2*e.pop()),i._pixelSteps=[a],i._values=[r],0!==o){for(;l<o;)a+=(e[l-1]+e[l])/2,i._pixelSteps[l]=a,r+=n.smallStep,i._values[l]=U(r),l++;t=G(s)%G(n.smallStep)==0?o-1:o,i._pixelSteps[t]=i._maxSelection,i._values[t]=n.max,i._isRtl&&(i._pixelSteps.reverse(),i._values.reverse())}},_getValueFromPosition:function(e,t){var i,n=this,r=n.options,a=v.max(r.smallStep*(n._maxSelection/n._distance()),0),s=0,o=a/2;if(n._isHorizontal?(s=e-t.startPoint,n._isRtl&&(s=n._maxSelection-s)):s=t.startPoint-e,n._maxSelection-(parseInt(n._maxSelection%a,10)-3)/2<s)return r.max;for(i=0;i<n._pixelSteps.length;i++)if(v.abs(n._pixelSteps[i]-s)-1<=o)return U(n._values[i])},_getFormattedValue:function(e,t){var i,n,r,a=this.options.tooltip;return u(e)?(n=e[0],r=e[1]):t&&t.type&&(n=t.selectionStart,r=t.selectionEnd),t&&(i=t.tooltipTemplate),!i&&a.template&&(i=m.template(a.template)),u(e)||t&&t.type?i?i({selectionStart:n,selectionEnd:r}):(n=o(a.format,n))+" - "+(r=o(a.format,r)):(t&&(t.val=e),i?i({value:e}):o(a.format,e))},_getDraggableArea:function(){var e=m.getOffset(this._trackDiv);return{startPoint:this._isHorizontal?e.left:e.top+this._maxSelection,endPoint:this._isHorizontal?e.left+this._maxSelection:e.top}},_createHtml:function(){var e,t,i=this.element,n=this.options,r=i.find("input");2==r.length?(r.eq(0).prop("value",W(n.selectionStart)),r.eq(1).prop("value",W(n.selectionEnd))):i.prop("value",W(n.value)),i.wrap(function(e,t,i){var n=i?" k-slider-horizontal":" k-slider-vertical",r=e.style?e.style:t.attr("style"),a=t.attr("class")?" "+t.attr("class"):"",s="";"bottomRight"==e.tickPlacement?s=" k-slider-bottomright":"topLeft"==e.tickPlacement&&(s=" k-slider-topleft");return"<div class='k-widget k-slider"+n+a+"'"+(r=r?" style='"+r+"'":"")+"><div class='k-slider-wrap"+(e.showButtons?" k-slider-buttons":"")+s+"'></div></div>"}(n,i,this._isHorizontal)).hide(),n.showButtons&&i.before(B(n,"increase",this._isHorizontal,this._isRtl)).before(B(n,"decrease",this._isHorizontal,this._isRtl)),i.before((e=n,"<div class='k-slider-track'><div class='k-slider-selection'>\x3c!-- --\x3e</div><a href='#' class='k-draghandle' title='"+(2==(t=i.is("input")?1:2)?e.leftDragHandleTitle:e.dragHandleTitle)+"' role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(1<t?e.selectionStart||e.min:e.value||e.min)+"'></a>"+(1<t?"<a href='#' class='k-draghandle' title='"+e.rightDragHandleTitle+"'role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(e.selectionEnd||e.max)+"'></a>":"")+"</div>"))},_focus:function(e){var t=this,i=e.target,n=t.value(),r=t._drag;r||(i==t.wrapper.find(D).eq(0)[0]?(r=t._firstHandleDrag,t._activeHandle=0):(r=t._lastHandleDrag,t._activeHandle=1),n=n[t._activeHandle]),f(i).addClass(M+" "+A),r&&((t._activeHandleDrag=r).selectionStart=t.options.selectionStart,r.selectionEnd=t.options.selectionEnd,r._updateTooltip(n))},_focusWithMouse:function(e){e=f(e);var t=this,i=e.is(D)?e.index():0;window.setTimeout(function(){t.wrapper.find(D)[2==i?1:0].focus()},1),t._setTooltipTimeout()},_blur:function(e){var t=this._activeHandleDrag;f(e.target).removeClass(M+" "+A),t&&(t._removeTooltip(),delete this._activeHandleDrag,delete this._activeHandle)},_setTooltipTimeout:function(){var t=this;t._tooltipTimeout=window.setTimeout(function(){var e=t._drag||t._activeHandleDrag;e&&e._removeTooltip()},300)},_clearTooltipTimeout:function(){window.clearTimeout(this._tooltipTimeout);var e=this._drag||this._activeHandleDrag;e&&e.tooltipDiv&&e.tooltipDiv.stop(!0,!1).css("opacity",1)},_reset:function(){var e=this.element,t=e.attr("form"),i=t?f("#"+t):e.closest("form");i[0]&&(this._form=i.on("reset",l(this._formResetHandler,this)))},min:function(e){if(!e)return this.options.min;this.setOptions({min:e})},max:function(e){if(!e)return this.options.max;this.setOptions({max:e})},setOptions:function(e){r.fn.setOptions.call(this,e),this._sliderItemsInit(),this._refresh()},destroy:function(){this._form&&this._form.off("reset",this._formResetHandler),r.fn.destroy.call(this)}});function B(e,t,i,n){var r="";return r=i?!n&&"increase"==t||n&&"increase"!=t?"k-i-arrow-60-right":"k-i-arrow-60-left":"increase"==t?"k-i-arrow-60-up":"k-i-arrow-60-down","<a class='k-button k-button-"+t+"' title='"+e[t+"ButtonTitle"]+"' aria-label='"+e[t+"ButtonTitle"]+"'><span class='k-icon "+r+"'></span></a>"}function R(t){return function(e){return e+t}}function N(e){return function(){return e}}function W(e){return(e+"").replace(".",m.cultures.current.numberFormat["."])}function U(e){var t,i,n,r;return e=parseFloat(e,10),n=e.toString(),r=0,(n=n.split("."))[1]&&(r=n[1].length),t=r=10<r?10:r,i=v.pow(10,t||0),v.round(e*i)/i}function q(e,t){var i=n(e.getAttribute(t));return null===i&&(i=void 0),i}function j(e){return void 0!==e}function G(e){return 1e4*e}var Y=L.extend({init:function(e,t){var i;e.type="text",t=s({},{value:q(e,"value"),min:q(e,"min"),max:q(e,"max"),smallStep:q(e,"step")},t),e=f(e),t&&void 0===t.enabled&&(t.enabled=!e.is("[disabled]")),L.fn.init.call(this,e,t),j((t=this.options).value)&&null!==t.value||(t.value=t.min,e.prop("value",W(t.min))),t.value=v.max(v.min(t.value,t.max),t.min),i=this.wrapper.find(D),this._selection=new Y.Selection(i,this,t),this._drag=new Y.Drag(i,"",this,t)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(e){var t,i,a=this,n=a.options;if(a.disable(),!1!==e){if(a.wrapper.removeClass(H).addClass(O),a.wrapper.find("input").removeAttr(P),t=function(e){var t=V(e)[0];if(t){var i=a._isHorizontal?t.location.pageX:t.location.pageY,n=a._getDraggableArea(),r=f(e.target);r.hasClass("k-draghandle")?r.addClass(M+" "+A):(a._update(a._getValueFromPosition(i,n)),a._focusWithMouse(e.target),a._drag.dragstart(e),e.preventDefault())}},a.wrapper.find(E+", "+F).on(b,t).end().on(b,function(){f(document.documentElement).one("selectstart",m.preventDefault)}).on(k,function(){a._drag._end()}),a.wrapper.find(D).attr(z,0).on(y,function(){a._setTooltipTimeout()}).on(C,function(e){a._focusWithMouse(e.target),e.preventDefault()}).on(S,l(a._focus,a)).on(I,l(a._blur,a)),i=l(function(e){var t=a._nextValueByIndex(a._valueIndex+ +e);a._setValueInRange(t),a._drag._updateTooltip(t)},a),n.showButtons){var r=l(function(e,t){this._clearTooltipTimeout(),(1===e.which||c.touch&&0===e.which)&&(i(t),this.timeout=setTimeout(l(function(){this.timer=setInterval(function(){i(t)},60)},this),200))},a);a.wrapper.find(".k-button").on(y,l(function(e){this._clearTimer(),a._focusWithMouse(e.target)},a)).on(T,function(e){f(e.currentTarget).addClass("k-state-hover")}).on("mouseout"+h,l(function(e){f(e.currentTarget).removeClass("k-state-hover"),this._clearTimer()},a)).eq(0).on(w,l(function(e){r(e,1)},a)).click(!1).end().eq(1).on(w,l(function(e){r(e,-1)},a)).click(m.preventDefault)}a.wrapper.find(D).off(x,!1).on(x,l(this._keydown,a)),n.enabled=!0}},disable:function(){this.wrapper.removeClass(O).addClass(H),f(this.element).prop(P,P),this.wrapper.find(".k-button").off(w).on(w,function(e){e.preventDefault(),f(this).addClass("k-state-active")}).off(y).on(y,function(e){e.preventDefault(),f(this).removeClass("k-state-active")}).off("mouseleave"+h).on("mouseleave"+h,m.preventDefault).off(T).on(T,m.preventDefault),this.wrapper.find(E+", "+F).off(b).off(k),this.wrapper.find(D).attr(z,-1).off(y).off(x).off(C).off(S).off(I),this.options.enabled=!1},_update:function(e){var t=this.value()!=e;this.value(e),t&&this.trigger(d,{value:this.options.value})},value:function(e){var t=this.options;if(e=U(e),isNaN(e))return t.value;e>=t.min&&e<=t.max&&t.value!=e&&(this.element.prop("value",W(e)),t.value=e,this._refreshAriaAttr(e),this._refresh())},_refresh:function(){this.trigger(i,{value:this.options.value})},_refreshAriaAttr:function(e){var t,i=this._drag;t=i&&i._tooltipDiv?i._tooltipDiv.text():this._getFormattedValue(e,null),this.wrapper.find(D).attr("aria-valuenow",e).attr("aria-valuetext",t)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(e){e.keyCode in this._keyMap&&(this._clearTooltipTimeout(),this._setValueInRange(this._keyMap[e.keyCode](this.options.value)),this._drag._updateTooltip(this.value()),e.preventDefault())},_setValueInRange:function(e){var t=this.options;e=U(e),isNaN(e)?this._update(t.min):(e=v.max(v.min(e,t.max),t.min),this._update(e))},_nextValueByIndex:function(e){var t=this._values.length;return this._isRtl&&(e=t-1-e),this._values[v.max(0,v.min(e,t-1))]},_formResetHandler:function(){var t=this,i=t.options.min;setTimeout(function(){var e=t.element[0].value;t.value(""===e||isNaN(e)?i:e)})},destroy:function(){L.fn.destroy.call(this),this.wrapper.off(h).find(".k-button").off(h).end().find(D).off(h).end().find(E+", "+F).off(h).end(),this._drag.draggable.destroy(),this._drag._removeTooltip(!0)}});Y.Selection=function(o,l,u){function t(e){var t=e-u.min,i=l._valueIndex=v.ceil(U(t/u.smallStep)),n=parseInt(l._pixelSteps[i],10),r=l._trackDiv.find(".k-slider-selection"),a=parseInt(l._outerSize(o)/2,10),s=l._isRtl?2:0;r[l._sizeFn](l._isRtl?l._maxSelection-n:n),o.css(l._position,n-a-s)}t(u.value),l.bind([p,i],function(e){t(parseFloat(e.value,10))}),l.bind(d,function(e){t(parseFloat(e.sender.value(),10))})},Y.Drag=function(e,t,i,n){var r=this;r.owner=i,r.options=n,r.element=e,r.type=t,r.draggable=new a(e,{distance:0,dragstart:l(r._dragstart,r),drag:l(r.drag,r),dragend:l(r.dragend,r),dragcancel:l(r.dragcancel,r)}),e.click(!1),e.on("dragstart",function(e){e.preventDefault()})},Y.Drag.prototype={dragstart:function(e){(this.owner._activeDragHandle=this).draggable.userEvents.cancel(),this._dragstart(e),this.dragend()},_dragstart:function(e){var t=this,i=t.owner,n=t.options;n.enabled?(this.owner._activeDragHandle=this,i.element.off(T),i.wrapper.find("."+M).removeClass(M+" "+A),t.element.addClass(M+" "+A),f(document.documentElement).css("cursor","pointer"),t.dragableArea=i._getDraggableArea(),t.step=v.max(n.smallStep*(i._maxSelection/i._distance()),0),t.type?(t.selectionStart=n.selectionStart,t.selectionEnd=n.selectionEnd,i._setZIndex(t.type)):t.oldVal=t.val=n.value,t._removeTooltip(!0),t._createTooltip()):e.preventDefault()},_createTooltip:function(){var e,t=this,i=t.owner,n=t.options.tooltip,r="",a=f(window);n.enabled&&(n.template&&(t.tooltipTemplate=m.template(n.template)),f(".k-slider-tooltip").remove(),t.tooltipDiv=f("<div class='k-widget k-tooltip k-slider-tooltip'>\x3c!-- --\x3e</div>").appendTo(document.body),r=i._getFormattedValue(t.val||i.value(),t),t.type||(e="k-callout-"+(i._isHorizontal?"s":"e"),t.tooltipInnerDiv="<div class='k-callout "+e+"'>\x3c!-- --\x3e</div>",r+=t.tooltipInnerDiv),t.tooltipDiv.html(r),t._scrollOffset={top:a.scrollTop(),left:a.scrollLeft()},t.moveTooltip())},drag:function(e){var t,i=this,n=i.owner,r=e.x.location,a=e.y.location,s=i.dragableArea.startPoint,o=i.dragableArea.endPoint;e.preventDefault(),n._isHorizontal?n._isRtl?i.val=i.constrainValue(r,s,o,r<o):i.val=i.constrainValue(r,s,o,o<=r):i.val=i.constrainValue(a,o,s,a<=o),i.oldVal!=i.val&&(i.oldVal=i.val,t=i.type?("firstHandle"==i.type?i.val<i.selectionEnd?i.selectionStart=i.val:i.selectionStart=i.selectionEnd=i.val:i.val>i.selectionStart?i.selectionEnd=i.val:i.selectionStart=i.selectionEnd=i.val,{values:[i.selectionStart,i.selectionEnd],value:[i.selectionStart,i.selectionEnd]}):{value:i.val},n.trigger(p,t)),i._updateTooltip(i.val)},_updateTooltip:function(e){var t="";this.options.tooltip.enabled&&(this.tooltipDiv||this._createTooltip(),t=this.owner._getFormattedValue(U(e),this),this.type||(t+=this.tooltipInnerDiv),this.tooltipDiv.html(t),this.moveTooltip())},dragcancel:function(){return this.owner._refresh(),f(document.documentElement).css("cursor",""),this._end()},dragend:function(){var e=this.owner;return f(document.documentElement).css("cursor",""),this.type?e._update(this.selectionStart,this.selectionEnd):(e._update(this.val),this.draggable.userEvents._disposeAll()),this.draggable.userEvents.cancel(),this._end()},_end:function(){var e=this.owner;return e._focusWithMouse(this.element),e.element.on(T),!1},_removeTooltip:function(e){var t=this,i=t.owner;t.tooltipDiv&&i.options.tooltip.enabled&&i.options.enabled&&(e?(t.tooltipDiv.remove(),t.tooltipDiv=null):t.tooltipDiv.fadeOut("slow",function(){f(this).remove(),t.tooltipDiv=null}))},moveTooltip:function(){var e,t,i,n,r=this,a=r.owner,s=0,o=0,l=r.element,u=m.getOffset(l),c=f(window),d=r.tooltipDiv.find(".k-callout"),p=g(r.tooltipDiv),h=_(r.tooltipDiv);n=r.type?(e=a.wrapper.find(D),u=m.getOffset(e.eq(0)),t=m.getOffset(e.eq(1)),o=a._isHorizontal?(s=t.top,u.left+(t.left-u.left)/2):(s=u.top+(t.top-u.top)/2,t.left),g(e.eq(0))+16):(s=u.top,o=u.left,g(l)+16),a._isHorizontal?(o-=parseInt((p-a._outerSize(l))/2,10),s-=h+8+(d.length?d.height():0)):(s-=parseInt((h-a._outerSize(l))/2,10),o-=p+8+(d.length?d.width():0)),a._isHorizontal?(s+=i=r._flip(s,h,n,_(c)+r._scrollOffset.top),o+=r._fit(o,p,g(c)+r._scrollOffset.left)):(i=r._flip(o,p,n,g(c)+r._scrollOffset.left),s+=r._fit(s,h,_(c)+r._scrollOffset.top),o+=i),0<i&&d&&(d.removeClass(),d.addClass("k-callout k-callout-"+(a._isHorizontal?"n":"w"))),r.tooltipDiv.css({top:s,left:o})},_fit:function(e,t,i){var n=0;return i<e+t&&(n=i-(e+t)),e<0&&(n=-e),n},_flip:function(e,t,i,n){var r=0;return n<e+t&&(r+=-(i+t)),e+r<0&&(r+=i+t),r},constrainValue:function(e,t,i,n){return t<e&&e<i?this.owner._getValueFromPosition(e,this.dragableArea):n?this.options.max:this.options.min}},m.ui.plugin(Y);var $=L.extend({init:function(e,t){var i=f(e).find("input"),n=i.eq(0)[0],r=i.eq(1)[0];n.type="text",r.type="text",t&&t.showButtons&&(window.console&&window.console.warn("showbuttons option is not supported for the range slider, ignoring"),t.showButtons=!1),(t=s({},{selectionStart:q(n,"value"),min:q(n,"min"),max:q(n,"max"),smallStep:q(n,"step")},{selectionEnd:q(r,"value"),min:q(r,"min"),max:q(r,"max"),smallStep:q(r,"step")},t))&&void 0===t.enabled&&(t.enabled=!i.is("[disabled]")),L.fn.init.call(this,e,t),j((t=this.options).selectionStart)&&null!==t.selectionStart||(t.selectionStart=t.min,i.eq(0).prop("value",W(t.min))),j(t.selectionEnd)&&null!==t.selectionEnd||(t.selectionEnd=t.max,i.eq(1).prop("value",W(t.max)));var a=this.wrapper.find(D);this._selection=new $.Selection(a,this,t),this._firstHandleDrag=new Y.Drag(a.eq(0),"firstHandle",this,t),this._lastHandleDrag=new Y.Drag(a.eq(1),"lastHandle",this,t)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(e){var t,u=this,c=u.options;u.disable(),!1!==e&&(u.wrapper.removeClass(H).addClass(O),u.wrapper.find("input").removeAttr(P),t=function(e){var t=V(e)[0];if(t){var i,n,r,a=u._isHorizontal?t.location.pageX:t.location.pageY,s=u._getDraggableArea(),o=u._getValueFromPosition(a,s),l=f(e.target);if(l.hasClass("k-draghandle"))return u.wrapper.find("."+M).removeClass(M+" "+A),void l.addClass(M+" "+A);(r=o<c.selectionStart||!(o>u.selectionEnd)&&o-c.selectionStart<=c.selectionEnd-o?(i=o,n=c.selectionEnd,u._firstHandleDrag):(i=c.selectionStart,n=o,u._lastHandleDrag)).dragstart(e),u._setValueInRange(i,n),u._focusWithMouse(r.element)}},u.wrapper.find(E+", "+F).on(b,t).end().on(b,function(){f(document.documentElement).one("selectstart",m.preventDefault)}).on(k,function(){u._activeDragHandle&&u._activeDragHandle._end()}),u.wrapper.find(D).attr(z,0).on(y,function(){u._setTooltipTimeout()}).on(C,function(e){u._focusWithMouse(e.target),e.preventDefault()}).on(S,l(u._focus,u)).on(I,l(u._blur,u)),u.wrapper.find(D).off(x,m.preventDefault).eq(0).on(x,l(function(e){this._keydown(e,"firstHandle")},u)).end().eq(1).on(x,l(function(e){this._keydown(e,"lastHandle")},u)),u.options.enabled=!0)},disable:function(){this.wrapper.removeClass(O).addClass(H),this.wrapper.find("input").prop(P,P),this.wrapper.find(E+", "+F).off(b).off(k),this.wrapper.find(D).attr(z,-1).off(y).off(x).off(C).off(S).off(I),this.options.enabled=!1},_keydown:function(e,t){var i,n,r,a=this,s=a.options.selectionStart,o=a.options.selectionEnd;e.keyCode in a._keyMap&&(a._clearTooltipTimeout(),"firstHandle"==t?(r=a._activeHandleDrag=a._firstHandleDrag,o<(s=a._keyMap[e.keyCode](s))&&(o=s)):(r=a._activeHandleDrag=a._lastHandleDrag,(o=a._keyMap[e.keyCode](o))<s&&(s=o)),a._setValueInRange(U(s),U(o)),i=Math.max(s,a.options.selectionStart),n=Math.min(o,a.options.selectionEnd),r.selectionEnd=Math.max(n,a.options.selectionStart),r.selectionStart=Math.min(i,a.options.selectionEnd),r._updateTooltip(a.value()[a._activeHandle]),e.preventDefault())},_update:function(e,t){var i=this.value(),n=i[0]!=e||i[1]!=t;this.value([e,t]),n&&this.trigger(d,{values:[e,t],value:[e,t]})},value:function(e){return e&&e.length?this._value(e[0],e[1]):this._value()},_value:function(e,t){var i=this.options,n=i.selectionStart,r=i.selectionEnd;if(isNaN(e)&&isNaN(t))return[n,r];e=U(e),t=U(t),e>=i.min&&e<=i.max&&t>=i.min&&t<=i.max&&e<=t&&(n==e&&r==t||(this.element.find("input").eq(0).prop("value",W(e)).end().eq(1).prop("value",W(t)),i.selectionStart=e,i.selectionEnd=t,this._refresh(),this._refreshAriaAttr(e,t)))},values:function(e,t){return u(e)?this._value(e[0],e[1]):this._value(e,t)},_refresh:function(){var e=this.options;this.trigger(i,{values:[e.selectionStart,e.selectionEnd],value:[e.selectionStart,e.selectionEnd]}),e.selectionStart==e.max&&e.selectionEnd==e.max&&this._setZIndex("firstHandle")},_refreshAriaAttr:function(e,t){var i,n=this.wrapper.find(D),r=this._activeHandleDrag;i=this._getFormattedValue([e,t],r),n.eq(0).attr("aria-valuenow",e),n.eq(1).attr("aria-valuenow",t),n.attr("aria-valuetext",i)},_setValueInRange:function(e,t){var i=this.options;e=v.max(v.min(e,i.max),i.min),t=v.max(v.min(t,i.max),i.min),e==i.max&&t==i.max&&this._setZIndex("firstHandle"),this._update(v.min(e,t),v.max(e,t))},_setZIndex:function(t){this.wrapper.find(D).each(function(e){f(this).css("z-index","firstHandle"==t?1-e:e)})},_formResetHandler:function(){var n=this,r=n.options;setTimeout(function(){var e=n.element.find("input"),t=e[0].value,i=e[1].value;n.values(""===t||isNaN(t)?r.min:t,""===i||isNaN(i)?r.max:i)})},destroy:function(){L.fn.destroy.call(this),this.wrapper.off(h).find(E+", "+F).off(h).end().find(D).off(h),this._firstHandleDrag.draggable.destroy(),this._lastHandleDrag.draggable.destroy()}});$.Selection=function(f,m,g){function t(e){var t,i,n,r,a,s=(e=e||[])[0]-g.min,o=e[1]-g.min,l=v.ceil(U(s/g.smallStep)),u=v.ceil(U(o/g.smallStep)),c=m._pixelSteps[l],d=m._pixelSteps[u],p=parseInt(m._outerSize(f.eq(0))/2,10),h=m._isRtl?2:0;f.eq(0).css(m._position,c-p-h).end().eq(1).css(m._position,d-p-h),t=c,i=d,a=m._trackDiv.find(".k-slider-selection"),n=v.abs(t-i),a[m._sizeFn](n),m._isRtl?(r=v.max(t,i),a.css("right",m._maxSelection-r-1)):(r=v.min(t,i),a.css(m._position,r-1))}t(m.value()),m.bind([d,p,i],function(e){t(e.values)})},m.ui.plugin($)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.mobile.scroller",["kendo.fx","kendo.draganddrop"],function(){var e={id:"mobile.scroller",name:"Scroller",category:"mobile",description:"The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.",depends:["fx","draganddrop"]};return function(p){var h=window.kendo,e=h.mobile,t=h.effects,i=e.ui,f=p.proxy,m=p.extend,g=i.Widget,n=h.Class,_=h.ui.Movable,v=h.ui.Pane,w=h.ui.PaneDimensions,r=t.Transition,a=t.Animation,b=Math.abs,s="km-scroller-release",o="km-scroller-refresh",y="change",k=a.extend({init:function(e){a.fn.init.call(this),m(this,e),this.userEvents.bind("gestureend",f(this.start,this)),this.tapCapture.bind("press",f(this.cancel,this))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}),l=a.extend({init:function(e){var t=this;a.fn.init.call(t),m(t,e,{transition:new r({axis:e.axis,movable:e.movable,onEnd:function(){t._end()}})}),t.tapCapture.bind("press",function(){t.cancel()}),t.userEvents.bind("end",f(t.start,t)),t.userEvents.bind("gestureend",f(t.start,t)),t.userEvents.bind("tap",f(t.onEnd,t))},onCancel:function(){this.transition.cancel()},freeze:function(e){this.cancel(),this._moveTo(e)},onEnd:function(){this.paneAxis.outOfBounds()?this._snapBack():this._end()},done:function(){return b(this.velocity)<1},start:function(e){var t,i=this;i.dimension.enabled&&(i.paneAxis.outOfBounds()?i.transition._started?(i.transition.cancel(),i.velocity=Math.min(e.touch[i.axis].velocity*i.velocityMultiplier,55),a.fn.start.call(i)):i._snapBack():(t=2===e.touch.id?0:e.touch[i.axis].velocity,i.velocity=Math.max(Math.min(t*i.velocityMultiplier,55),-55),i.tapCapture.captureNext(),a.fn.start.call(i)))},tick:function(){var e=this,t=e.dimension,i=e.paneAxis.outOfBounds()?.5:e.friction,n=e.velocity*=i,r=e.movable[e.axis]+n;!e.elastic&&t.outOfBounds(r)&&(r=Math.max(Math.min(r,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,r)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var e=this.dimension,t=this.movable[this.axis]>e.max?e.max:e.min;this._moveTo(t)},_moveTo:function(e){this.transition.moveTo({location:e,duration:500,ease:r.easeOutExpo})}}),x=a.extend({init:function(e){h.effects.Animation.fn.init.call(this),m(this,e,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return b(this.offset.y)<5&&b(this.offset.x)<5},onEnd:function(){this.moveTo(this.destination),this.callback&&this.callback.call()},setCoordinates:function(e,t){this.offset={},this.origin=e,this.destination=t},setCallback:function(e){e&&h.isFunction(e)?this.callback=e:e=void 0},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),u=n.extend({init:function(e){var t="x"===e.axis,i=p('<div class="km-touch-scrollbar km-'+(t?"horizontal":"vertical")+'-scrollbar" />');m(this,e,{element:i,elementSize:0,movable:new _(i),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:t?"width":"height"}),this.scrollMovable.bind(y,f(this.refresh,this)),this.container.append(i),e.alwaysVisible&&this.show()},refresh:function(){var e=this.axis,t=this.dimension,i=t.size,n=this.scrollMovable,r=i/t.total,a=Math.round(-n[e]*r),s=Math.round(i*r);1<=r?this.element.css("display","none"):this.element.css("display",""),i<a+s?s=i-a:a<0&&(s+=a,a=0),this.elementSize!=s&&(this.element.css(this.size,s+"px"),this.elementSize=s),this.movable.moveAxis(e,a)},show:function(){this.element.css({opacity:.7,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),c=g.extend({init:function(e,t){var a=this;if(g.fn.init.call(a,e,t),e=a.element,a._native=a.options.useNative&&h.support.hasNativeScrolling,a._native)return e.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),void m(a,{scrollElement:e,fixedContainer:e.children().first()});e.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var i=e.children().eq(1),n=new h.TapCapture(e),r=new _(i),s=new w({element:i,container:e,forcedEnabled:a.options.zoom}),o=this.options.avoidScrolling,l=new h.UserEvents(e,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:a.options.zoom,supportDoubleTap:a.options.supportDoubleTap,start:function(e){s.refresh();var t=b(e.x.velocity),i=b(e.y.velocity),n=i<=2*t,r=t<=2*i;!p.contains(a.fixedContainer[0],e.event.target)&&!o(e)&&a.enabled&&(s.x.enabled&&n||s.y.enabled&&r)?l.capture():l.cancel()}}),u=new v({movable:r,dimensions:s,userEvents:l,elastic:a.options.elastic}),c=new k({movable:r,dimensions:s,userEvents:l,tapCapture:n}),d=new x({moveTo:function(e){a.scrollTo(e.x,e.y)}});r.bind(y,function(){a.scrollTop=-r.y,a.scrollLeft=-r.x,a.trigger("scroll",{scrollTop:a.scrollTop,scrollLeft:a.scrollLeft})}),a.options.mousewheelScrolling&&e.on("DOMMouseScroll mousewheel",f(this,"_wheelScroll")),m(a,{movable:r,dimensions:s,zoomSnapBack:c,animatedScroller:d,userEvents:l,pane:u,tapCapture:n,pulled:!1,enabled:!0,scrollElement:i,scrollTop:0,scrollLeft:0,fixedContainer:e.children().first()}),a._initAxis("x"),a._initAxis("y"),a._wheelEnd=function(){a._wheel=!1,a.userEvents.end(0,a._wheelY)},s.refresh(),a.options.pullToRefresh&&a._initPullToRefresh()},_wheelScroll:function(e){if(!e.ctrlKey){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=h.wheelDeltaY(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()}},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,t){this.dimensions.y.virtualSize(e,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:["pull","scroll","resize"],_resize:function(){this._native||this.contentResized()},setOptions:function(e){g.fn.setOptions.call(this,e),e.pullToRefresh&&this._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(e,t){this._native?(this.scrollElement.scrollLeft(b(e)),this.scrollElement.scrollTop(b(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))},animatedScrollTo:function(e,t,i){var n,r;this._native?this.scrollTo(e,t):(n={x:this.movable.x,y:this.movable.y},r={x:e,y:t},this.animatedScroller.setCoordinates(n,r),this.animatedScroller.setCallback(i),this.animatedScroller.start())},pullHandled:function(){this.refreshHint.removeClass(o),this.hintContainer.html(this.pullTemplate({})),this.yinertia.onEnd(),this.xinertia.onEnd(),this.userEvents.cancel()},destroy:function(){g.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},_initPullToRefresh:function(){var e=this;e.dimensions.y.forceEnabled(),e.pullTemplate=h.template(e.options.messages.pullTemplate),e.releaseTemplate=h.template(e.options.messages.releaseTemplate),e.refreshTemplate=h.template(e.options.messages.refreshTemplate),e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>"),e.refreshHint=e.scrollElement.children().first(),e.hintContainer=e.refreshHint.children(".km-template"),e.pane.y.bind("change",f(e._paneChange,e)),e.userEvents.bind("end",f(e._dragEnd,e))},_dragEnd:function(){this.pulled&&(this.pulled=!1,this.refreshHint.removeClass(s).addClass(o),this.hintContainer.html(this.refreshTemplate({})),this.yinertia.freeze(this.options.pullOffset/2),this.trigger("pull"))},_paneChange:function(){var e=this;e.movable.y/.5>e.options.pullOffset?e.pulled||(e.pulled=!0,e.refreshHint.removeClass(o).addClass(s),e.hintContainer.html(e.releaseTemplate({}))):e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(s),e.hintContainer.html(e.pullTemplate({})))},_initAxis:function(e){var t=this,i=t.movable,n=t.dimensions[e],r=t.tapCapture,a=t.pane[e],s=new u({axis:e,movable:i,dimension:n,container:t.element,alwaysVisible:t.options.visibleScrollHints});n.bind(y,function(){s.refresh()}),a.bind(y,function(){s.show()}),t[e+"inertia"]=new l({axis:e,paneAxis:a,movable:i,tapCapture:r,userEvents:t.userEvents,dimension:n,elastic:t.options.elastic,friction:t.options.friction||.96,velocityMultiplier:t.options.velocityMultiplier||10,end:function(){s.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}});i.plugin(c)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.autocomplete",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],function(){var e={id:"autocomplete",name:"AutoComplete",category:"web",description:"The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]};return function(c,p){var r=window.kendo,e=r.support,h=r.caret,f=r._activeElement,a=e.placeholder,t=r.ui,m=t.List,g=r.keys,i=r.data.DataSource,s="aria-disabled",o="aria-readonly",l="change",u="k-state-default",d="k-state-focused",_="k-state-disabled",v=".kendoAutoComplete",w=c.proxy;function b(e,t,i){return i?t.substring(0,e).split(i).length-1:0}var n=m.extend({init:function(e,t){var i,n=this;n.ns=v,t=c.isArray(t)?{dataSource:t}:t,m.fn.init.call(n,e,t),e=n.element,(t=n.options).placeholder=t.placeholder||e.attr("placeholder"),a&&e.attr("placeholder",t.placeholder),n._wrapper(),n._loader(),n._clearButton(),n._dataSource(),n._ignoreCase(),e[0].type="text",i=n.wrapper,n._popup(),e.addClass("k-input").on("keydown"+v,w(n._keydown,n)).on("keypress"+v,w(n._keypress,n)).on("input"+v,w(n._search,n)).on("paste"+v,w(n._search,n)).on("focus"+v,function(){n._prev=n._accessor(),n._oldText=n._prev,n._placeholder(!1),i.addClass(d)}).on("focusout"+v,function(){n._change(),n._placeholder(),n.close(),i.removeClass(d)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),n._clear.on("click"+v+" touchend"+v,w(n._clearValue,n)),n._enable(),n._old=n._accessor(),e[0].id&&e.attr("aria-owns",n.ul[0].id),n._aria(),n._placeholder(),n._initList(),c(n.element).parents("fieldset").is(":disabled")&&n.enable(!1),n.listView.bind("click",function(e){e.preventDefault()}),n._resetFocusItemHandler=c.proxy(n._resetFocusItem,n),r.notify(n),n._toggleCloseVisibility()},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,enforceMinLength:!1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},virtual:!1,value:null,clearButton:!0,autoWidth:!1,popup:null},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._progressHandler=w(e._showBusy,e),e._errorHandler=w(e._hideBusy,e)),e.dataSource=i.create(e.options.dataSource).bind("progress",e._progressHandler).bind("error",e._errorHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.listView.setDataSource(this.dataSource)},events:["open","close",l,"select","filtering","dataBinding","dataBound"],setOptions:function(e){var t=this._listOptions(e);m.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(),this._clearButton()},_listOptions:function(e){var t=m.fn._listOptions.call(this,c.extend(e,{skipUpdateOnBind:!0}));return t.dataValueField=t.dataTextField,t.selectedItemChange=null,t},_editable:function(e){var t=this.element,i=this.wrapper.off(v),n=e.readonly,r=e.disable;n||r?(i.addClass(r?_:u).removeClass(r?u:_),t.attr("disabled",r).attr("readonly",n).attr(s,r).attr(o,n)):(i.addClass(u).removeClass(_).on("mouseenter.kendoAutoComplete mouseleave.kendoAutoComplete",this._toggleHover),t.removeAttr("disabled").removeAttr("readonly").attr(s,!1).attr(o,!1))},close:function(){var e=this.listView.focus();e&&e.removeClass("k-state-selected"),this.popup.close()},destroy:function(){this.element.off(v),this._clear.off(v),this.wrapper.off(v),m.fn.destroy.call(this)},refresh:function(){this.listView.refresh()},select:function(e){this._select(e)},search:function(e){var t,i,n,r,a=this,s=a.options,o=s.ignoreCase,l=a._separator(),u=a.dataSource.options.accentFoldingFiltering;e=e||a._accessor(),clearTimeout(a._typingTimeout),l&&(i=h(a.element)[0],r=l,e=(n=e).split(r)[b(i,n,r)]),t=e.length,(!s.enforceMinLength&&!t||t>=s.minLength)&&(a._open=!0,a._mute(function(){this.listView.value([])}),a._filterSource({value:o?u?e.toLocaleLowerCase(u):e.toLowerCase():e,operator:s.filter,field:s.dataTextField,ignoreCase:o}),a.one("close",c.proxy(a._unifySeparators,a))),a._toggleCloseVisibility()},suggest:function(e){var t,i=this,n=i._last,r=i._accessor(),a=i.element[0],s=h(a)[0],o=i._separator(),l=r.split(o),u=b(s,r,o),c=s,d=i.dataSource.options.accentFoldingFiltering;n!=g.BACKSPACE&&n!=g.DELETE?("string"!=typeof(e=e||"")&&(e[0]&&(e=i.dataSource.view()[m.inArray(e[0],i.ul[0])]),e=e?i._text(e):""),s<=0&&(s=(d?r.toLocaleLowerCase(d):r.toLowerCase()).indexOf(d?e.toLocaleLowerCase(d):e.toLowerCase())+1),t=-1<(t=r.substring(0,s).lastIndexOf(o))?s-(t+o.length):s,r=l[u].substring(0,t),e&&(e=e.toString(),-1<(t=(d?e.toLocaleLowerCase(d):e.toLowerCase()).indexOf(d?r.toLocaleLowerCase(d):r.toLowerCase()))&&(c=s+(e=e.substring(t+r.length)).length,r+=e),o&&""!==l[l.length-1]&&l.push("")),l[u]=r,i._accessor(l.join(o||"")),a===f()&&h(a,s,c)):i._last=p},value:function(e){if(e===p)return this._accessor();this.listView.value(e),this._accessor(e),this._old=this._accessor(),this._oldText=this._accessor(),this._toggleCloseVisibility()},_click:function(e){var t=e.item,i=this,n=i.element,r=i.listView.dataItemByIndex(i.listView.getElementIndex(t));e.preventDefault(),i._active=!0,i.trigger("select",{dataItem:r,item:t})?i.close():(i._oldText=n.val(),i._select(t).done(function(){i._blur(),h(n,n.val().length)}))},_clearText:c.noop,_resetFocusItem:function(){var e=this.options.highlightFirst?0:-1;this.options.virtual&&this.listView.scrollTo(0),this.listView.focus(e)},_listBound:function(){var e,t=this,i=t.popup,n=t.options,r=t.dataSource.flatView(),a=r.length,s=t.dataSource._group.length,o=t.element[0]===f();t._renderFooter(),t._renderNoData(),t._toggleNoData(!a),t._toggleHeader(!!s&&!!a),t._resizePopup(),i.position(),a&&n.suggest&&o&&t._inputValue()&&t.suggest(r[0]),t._open&&(t._open=!1,e=t._allowOpening()?"open":"close",t._typingTimeout&&!o&&(e="close"),a&&(t._resetFocusItem(),n.virtual&&t.popup.unbind("activate",t._resetFocusItemHandler).one("activate",t._resetFocusItemHandler)),i[e](),t._typingTimeout=p),t._touchScroller&&t._touchScroller.reset(),t._hideBusy(),t._makeUnselectable(),t.trigger("dataBound")},_mute:function(e){this._muted=!0,e.call(this),this._muted=!1},_listChange:function(){!this._active&&this.element[0]!==f()||this._muted||this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(e){var t,i,n,r,a,s,o=this._separator(),l="";e&&(l=this._text(e)),null===l&&(l=""),o&&(t=h(this.element)[0],i=this._accessor(),n=l,r=o,a=this._defaultSeparator(),(s=i.split(r)).splice(b(t,i,r),1,n),r&&""!==s[s.length-1]&&s.push(""),l=s.join(a)),this._prev=l,this._accessor(l),this._placeholder()},_unifySeparators:function(){return this._accessor(this.value().split(this._separator()).join(this._defaultSeparator())),this},_preselect:function(e,t){this._inputValue(t),this._accessor(e),this._old=this.oldText=this._accessor(),this.listView.setValue(e),this._placeholder()},_change:function(){var e=this,t=e._unifySeparators().value(),i=t!==m.unifyType(e._old,typeof t),n=i&&!e._typing,r=e._oldText!==t;e._old=t,e._oldText=t,(n||r)&&e.element.trigger(l),i&&e.trigger(l),e.typing=!1,e._toggleCloseVisibility()},_accessor:function(e){var t=this.element[0];if(e===p)return e=t.value,-1<t.className.indexOf("k-readonly")&&e===this.options.placeholder?"":e;t.value=null===e?"":e,this._placeholder()},_keydown:function(e){var t=this,i=e.keyCode,n=t.listView,r=t.popup.visible(),a=n.focus();if((t._last=i)===g.DOWN)r?this._move(a?"focusNext":"focusFirst"):t.value()&&t._filterSource({value:t.ignoreCase?t.value().toLowerCase():t.value(),operator:t.options.filter,field:t.options.dataTextField,ignoreCase:t.ignoreCase}).done(function(){t._allowOpening()&&(t._resetFocusItem(),t.popup.open())}),e.preventDefault();else if(i===g.UP)r&&this._move(a?"focusPrev":"focusLast"),e.preventDefault();else if(i===g.HOME)this._move("focusFirst");else if(i===g.END)this._move("focusLast");else if(i===g.ENTER||i===g.TAB){if(i===g.ENTER&&r&&e.preventDefault(),r&&a){var s=n.dataItemByIndex(n.getElementIndex(a));if(t.trigger("select",{dataItem:s,item:a}))return;this._select(a)}this._blur()}else if(i===g.ESC)r?e.preventDefault():t._clearValue(),t.close();else if(!t.popup.visible()||i!==g.PAGEDOWN&&i!==g.PAGEUP)t.popup._hovered=!0,t._search();else{e.preventDefault();var o=i===g.PAGEDOWN?1:-1;n.scrollWith(o*n.screenHeight())}},_keypress:function(){this._oldText=this.element.val(),this._typing=!0},_move:function(e){this.listView[e](),this.options.suggest&&this.suggest(this.listView.focus())},_hideBusy:function(){clearTimeout(this._busy),this._loading.hide(),this.element.attr("aria-busy",!1),this._busy=null,this._showClear()},_showBusy:function(){var e=this;e._busy||(e._busy=setTimeout(function(){e.element.attr("aria-busy",!0),e._loading.show(),e._hideClear()},100))},_placeholder:function(e){if(!a){var t,i=this.element,n=this.options.placeholder;if(n){if(t=i.val(),e===p&&(e=!t),e||(n=t!==n?t:""),t===this._old&&!e)return;i.toggleClass("k-readonly",e).val(n),n||i[0]!==document.activeElement||h(i[0],0,0)}}},_separator:function(){var e=this.options.separator;return e instanceof Array?new RegExp(e.join("|"),"gi"):e},_defaultSeparator:function(){var e=this.options.separator;return e instanceof Array?e[0]:e},_inputValue:function(){return this.element.val()},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout(function(){e._prev!==e._accessor()&&(e._prev=e._accessor(),e.search())},e.options.delay)},_select:function(e){var t=this;return t._active=!0,t.listView.select(e).done(function(){t._active=!1})},_loader:function(){this._loading=c('<span class="k-icon k-i-loading" style="display:none"></span>').insertAfter(this.element)},_clearButton:function(){m.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.element),this.wrapper.addClass("k-autocomplete-clearable"))},_toggleHover:function(e){c(e.currentTarget).toggleClass("k-state-hover","mouseenter"===e.type)},_toggleCloseVisibility:function(){this.value()?this._showClear():this._hideClear()},_wrapper:function(){var e,t=this.element,i=t[0];(e=t.parent()).is("span.k-widget")||(e=t.wrap("<span />").parent()),e.attr("tabindex",-1),e.attr("role","presentation"),e[0].style.cssText=i.style.cssText,t.css({width:"",height:i.style.height}),this._focused=this.element,this.wrapper=e.addClass("k-widget k-autocomplete").addClass(i.className).removeClass("input-validation-error"),this._inputWrapper=c(e[0])},_clearValue:function(){m.fn._clearValue.call(this),this.element.focus()}});t.plugin(n)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.combobox",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],function(){var e={id:"combobox",name:"ComboBox",category:"web",description:"The ComboBox widget allows the selection from pre-defined values or entering a new value.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]};return function(l,o){var r=window.kendo,e=r.ui,u=e.List,a=e.Select,c=r.caret,s=r.support,d=s.placeholder,p=r._activeElement,h=r.keys,f=".kendoComboBox",t=f+"FocusEvent",m="click"+f,g="mousedown"+f,_="change",v="k-state-default",w="k-state-focused",b="k-state-disabled",y="aria-disabled",k="filter",x="accept",C=l.proxy,T=/(\r\n|\n|\r)/gm,i=a.extend({init:function(e,t){var i,n=this;n.ns=f,t=l.isArray(t)?{dataSource:t}:t,a.fn.init.call(n,e,t),t=n.options,e=n.element.on("focus"+f,C(n._focusHandler,n)),t.placeholder=t.placeholder||e.attr("placeholder"),n._reset(),n._wrapper(),n._input(),n._clearButton(),n._tabindex(n.input),n._popup(),n._dataSource(),n._ignoreCase(),n._enable(),n._attachFocusEvents(),n._oldIndex=n.selectedIndex=-1,n._aria(),n._initialIndex=t.index,n.requireValueMapper(n.options),n._initList(),n._cascade(),t.autoBind?n._filterSource():(!(i=t.text)&&n._isSelect&&(i=e.children(":selected").text()),i&&n._setText(i)),i||n._placeholder(),l(n.element).parents("fieldset").is(":disabled")&&n.enable(!1),r.notify(n),n._toggleCloseVisibility()},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:1,enforceMinLength:!1,height:200,highlightFirst:!0,filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:!0,animation:{},virtual:!1,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,syncValueAndText:!0,autoWidth:!1,popup:null},events:["open","close",_,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(e){var t=this._listOptions(e);a.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(),this._clearButton()},destroy:function(){this.input.off(f),this.input.off(t),this.element.off(f),this.wrapper.off(f),this._inputWrapper.off(f),clearTimeout(this._pasteTimeout),this._arrow.off(m+" "+g),this._clear.off(m+" "+g),a.fn.destroy.call(this)},_change:function(){var e=this,t=e.text(),i=t&&t!==e._oldText&&t!==e.options.placeholder,n=e.selectedIndex,r=-1===n;if(!e.options.syncValueAndText&&!e.value()&&r&&i)return e._old="",e._oldIndex=n,e._oldText=t,e._typing||e.element.trigger(_),e.trigger(_),void(e._typing=!1);a.fn._change.call(e),e._toggleCloseVisibility()},_attachFocusEvents:function(){this.input.on("focus"+t,C(this._inputFocus,this)).on("focusout"+t,C(this._inputFocusout,this))},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass(w),this._placeholder(!1)},_inputFocusout:function(){var e=this,t=e.value();e._userTriggered=!0,e._inputWrapper.removeClass(w),clearTimeout(e._typingTimeout),e._typingTimeout=null,e.text(e.text());var i=e._focus(),n=this.listView.dataItemByIndex(this.listView.getElementIndex(i));t!==e.value()&&e.trigger("select",{dataItem:n,item:i})?e.value(t):(e._placeholder(),e._blur(),e.element.blur())},_inputPaste:function(){var e=this;clearTimeout(e._pasteTimeout),e._pasteTimeout=null,e._pasteTimeout=setTimeout(function(){e.search()})},_editable:function(e){var t=this,i=e.disable,n=e.readonly,r=t._inputWrapper.off(f),a=t.element.add(t.input.off(f)),s=t._arrow.off(m+" "+g),o=t._clear;n||i?(r.addClass(i?b:v).removeClass(i?v:b),a.attr("disabled",i).attr("readonly",n).attr(y,i)):(r.addClass(v).removeClass(b).on("mouseenter.kendoComboBox mouseleave.kendoComboBox",t._toggleHover),a.removeAttr("disabled").removeAttr("readonly").attr(y,!1),s.on(m,C(t._arrowClick,t)).on(g,function(e){e.preventDefault()}),o.on(m+" touchend"+f,C(t._clearValue,t)),t.input.on("keydown"+f,C(t._keydown,t)).on("input"+f,C(t._search,t)).on("paste"+f,C(t._inputPaste,t)),t.wrapper.on(m+f,C(t._focusHandler,t))),t._toggleCloseVisibility()},open:function(){var e=this,t=e._state,i=!!e.dataSource.filter()&&0<e.dataSource.filter().filters.length,n=!e.ul.find(e.listView.focus()).length;e.popup.visible()||(!e.listView.bound()&&t!==k||t===x?(e._open=!0,e._state="rebind",1!==e.options.minLength&&!i||i&&e.value()&&-1===e.selectedIndex?(e.refresh(),e._openPopup(),this.options.virtual||e.listView.bound(!1)):e._filterSource()):e._allowOpening()&&(e.popup._hovered=!0,e._openPopup(),e.options.virtual?e._focusItem():n&&e.options.highlightFirst&&e.listView.focus(0)))},_scrollToFocusedItem:function(){var e=this.listView;e.scrollToIndex(e.getElementIndex(e.focus()))},_openPopup:function(){this.popup.one("activate",C(this._scrollToFocusedItem,this)),this.popup.open()},_updateSelectionState:function(){var e=this,t=e.options.text,i=e.options.value;e.listView.isFiltered()||(-1===e.selectedIndex?(t!==o&&null!==t||(t=i),e._accessor(i),e.input.val(t||e.input.val()),e._placeholder()):-1===e._oldIndex&&(e._oldIndex=e.selectedIndex))},_buildOptions:function(e){if(this._isSelect){var t=this._customOption;"rebind"===this._state&&(this._state=""),this._customOption=o,this._options(e,"",this.value()),t&&t[0].selected&&!this.listView._emptySearch&&this._custom(t.val())}},_updateSelection:function(){var e=this,t=e.listView,i=e._initialIndex,n=null!==i&&-1<i;if(e._state===k)l(t.focus()).removeClass("k-state-selected");else if(!e._fetch){t.value().length||(n?e.select(i):e._accessor()&&t.value(e._accessor())),e._initialIndex=null;var r=t.selectedDataItems()[0];r&&(e._value(r)!==e.value()?e._custom(e._value(r)):e._value(r)!==e.element[0].value&&e._accessor(e._value(r)),e.text()&&e.text()!==e._text(r)&&e._selectValue(r))}},_updateItemFocus:function(){var e=this.listView;this.options.highlightFirst?e.focus()||e.focusIndex()||e.focus(0):e.focus(-1)},_listBound:function(){var e=this,t=e.input[0]===p(),i=e.dataSource.flatView(),n=e.listView.skip(),r=i.length,a=e.dataSource._group?e.dataSource._group.length:0,s=n===o||0===n;e._presetValue=!1,e._renderFooter(),e._renderNoData(),e._toggleNoData(!r),e._toggleHeader(!!a&&!!r),e._resizePopup(),e.popup.position(),e._buildOptions(i),e._makeUnselectable(),e._updateSelection(),i.length&&s&&(e._updateItemFocus(),e.options.suggest&&t&&e.input.val()&&e.suggest(i[0])),e._open&&(e._open=!1,e._typingTimeout&&!t?e.popup.close():e.toggle(e._allowOpening()),e._typingTimeout=null),e._hideBusy(),e.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),this._presetValue&&(this._oldIndex=this.selectedIndex)},_get:function(e){var t,i,n;if("function"==typeof e){for(t=this.dataSource.flatView(),n=0;n<t.length;n++)if(e(t[n])){e=n,i=!0;break}i||(e=-1)}return e},_select:function(e,t){var i=this;return-1===(e=i._get(e))&&(i.input[0].value="",i._accessor("")),i.listView.select(e).done(function(){t||i._state!==k||(i._state=x),i._toggleCloseVisibility()})},_selectValue:function(e){var t=this.listView.select(),i="",n="";(t=t[t.length-1])===o&&(t=-1),this.selectedIndex=t,this.listView.isFiltered()&&-1!==t&&(this._valueBeforeCascade=this._old),-1!==t||e?(!e&&0!==e||(i=this._dataValue(e),n=this._text(e)),null===i&&(i="")):(this.options.syncValueAndText?i=n=this.options.dataTextField===this.options.dataValueField?this._accessor():this.input[0].value:n=this.text(),this.listView.focus(-1)),this._setDomInputValue(n),this._accessor(i!==o?i:n,t),this._placeholder(),this._triggerCascade()},_setDomInputValue:function(e){var t,i=this,n=c(this.input);if(n&&n.length&&(t=n[0]),this._prev=this.input[0].value=e,t&&-1===this.selectedIndex){var r=s.mobileOS;r.wp||r.android?setTimeout(function(){i.input[0].setSelectionRange(t,t)},0):this.input[0].setSelectionRange(t,t)}},refresh:function(){this.listView.refresh()},_toggleCloseVisibility:function(){var e=this.element.is(":disabled")||this.element.is("[readonly]");this.text()&&!e?this._showClear():this._hideClear()},suggest:function(e){var t,i=this.input[0],n=this.text(),r=c(i)[0],a=this._last,s=this.dataSource.options.accentFoldingFiltering;a!=h.BACKSPACE&&a!=h.DELETE?("string"!=typeof(e=e||"")&&(e[0]&&(e=this.dataSource.view()[u.inArray(e[0],this.ul[0])]),e=e?this._text(e):""),r<=0&&(r=(s?n.toLocaleLowerCase(s):n.toLowerCase()).indexOf(s?e.toLocaleLowerCase(s):e.toLowerCase())+1),e?(e=e.toString(),-1<(t=(s?e.toLocaleLowerCase(s):e.toLowerCase()).indexOf(s?n.toLocaleLowerCase(s):n.toLowerCase()))&&(n+=e.substring(t+n.length))):n=n.substring(0,r),n.length===r&&e||(i.value=n,i===p()&&c(i,r,n.length))):this._last=o},text:function(e){e=null===e?"":e;var t,i,n=this,r=n.input[0],a=n.options.ignoreCase,s=e;if(e===o)return r.value;!1!==n.options.autoBind||n.listView.bound()?(t=n.dataItem())&&n._text(t).replace&&n._text(t).replace(T,"")===e&&(i=n._value(t))===u.unifyType(n._old,typeof i)?n._triggerCascade():(a&&(s=s.toLowerCase()),n.dataItem()&&n._text(n.dataItem())===e||(n._select(function(e){return e=n._text(e),a&&(e=(e+"").toLowerCase()),e===s}).done(function(){n.selectedIndex<0&&(r.value=e,n.options.syncValueAndText&&n._accessor(e),n._cascadeTriggered=!0,n._triggerCascade()),n._prev=r.value}),n._toggleCloseVisibility())):n._setText(e)},toggle:function(e){this._toggle(e,!0)},value:function(e){var t=this,i=t.options,n=t.listView;if(e===o)return(e=t._accessor()||t.listView.value()[0])===o||null===e?"":e;t.requireValueMapper(t.options,e),t.trigger("set",{value:e}),e===i.value&&t.input.val()===i.text||(t._accessor(e),t._isFilterEnabled()&&n.bound()&&n.isFiltered()?t._clearFilter():t._fetchData(),n.value(e).done(function(){-1!==t.selectedIndex||n._selectedDataItems&&n._selectedDataItems.length||(t._accessor(e),t.input.val(e),t._placeholder(!0)),t._old=t._valueBeforeCascade=t._accessor(),t._oldIndex=t.selectedIndex,t._prev=t.input.val(),t._state===k&&(t._state=x),t._toggleCloseVisibility()}))},_hideBusy:function(){clearTimeout(this._busy),this._arrowIcon.removeClass("k-i-loading"),this._focused.attr("aria-busy",!1),this._busy=null,this._toggleCloseVisibility()},_click:function(e){var t=this,i=e.item,n=t.listView.dataItemByIndex(t.listView.getElementIndex(i)),r=!0;e.preventDefault(),n&&((r=t._value(n)!==u.unifyType(t.value(),typeof t._value(n)))||t.input.val(t._text(n))),r&&t.trigger("select",{dataItem:n,item:i})?t.close():(t._userTriggered=!0,t._select(i).done(function(){t._blur()}))},_syncValueAndText:function(){return this.options.syncValueAndText},_inputValue:function(){return this.text()},_searchByWord:function(i){var n=this,e=n.options,t=n.dataSource,r=e.ignoreCase;if(r&&(i=i.toLowerCase()),n.ul[0].firstChild){this.listView.focus(this._get(function(e){var t=n._text(e);if(t!==o)return(""==(t+="")||""!==i)&&(r&&(t=t.toLowerCase()),0===t.indexOf(i))}));var a=this.listView.focus();a&&(e.suggest&&n.suggest(a),this.open()),this.options.highlightFirst&&!i&&this.listView.focusFirst()}else t.one(_,function(){t.view()[0]&&n.search(i)}).fetch()},_input:function(){var e,t,i=this,n=i.element.removeClass("k-input")[0],r=n.accessKey,a=i.wrapper,s="input.k-input",o=n.name||"";o=o&&'name="'+o+'_input" ',(e=a.find(s))[0]||(a.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+o+'class="k-input" type="text" autocomplete="off"/><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(i.element),e=a.find(s)),e[0].style.cssText=n.style.cssText,e[0].title=n.title,-1<(t=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10))&&(e[0].maxLength=t),e.addClass(n.className).css({width:"",height:n.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),d&&e.attr("placeholder",i.options.placeholder),r&&(n.accessKey="",e[0].accessKey=r),i._focused=i.input=e,i._inputWrapper=l(a[0].firstChild),i._arrow=a.find(".k-select").attr({role:"button",tabIndex:-1}),i._arrowIcon=i._arrow.find(".k-icon"),n.id&&i._arrow.attr("aria-controls",i.ul[0].id)},_clearButton:function(){u.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-combobox-clearable"))},_keydown:function(e){var t=this,i=e.keyCode;if(t._last=i,clearTimeout(t._typingTimeout),t._typingTimeout=null,i===h.HOME)t._firstItem();else if(i===h.END)t._lastItem();else if(i===h.ENTER||i===h.TAB&&t.popup.visible()){var n=t.listView.focus(),r=t.dataItem(),a=!0;if(t.popup.visible()||r&&t.text()===t._text(r)||(n=null),n){if(t.popup.visible()&&e.preventDefault(),(r=t.listView.dataItemByIndex(t.listView.getElementIndex(n)))&&(a=t._value(r)!==u.unifyType(t.value(),typeof t._value(r))),a&&t.trigger("select",{dataItem:r,item:n}))return;t._userTriggered=!0,t._select(n).done(function(){t._blur(),t._valueBeforeCascade=t._old=t.value()})}else(t._syncValueAndText()||t._isSelect)&&t._accessor(t.input.val()),t.options.highlightFirst?(t.listView.value(t.input.val()),t._blur()):t._oldText=t.text()}else i==h.TAB||t._move(e)?i===h.ESC&&!t.popup.visible()&&t.text()&&t._clearValue():t._search()},_placeholder:function(e){if(!d){var t,i=this.input,n=this.options.placeholder;if(n){if(t=this.value(),e===o&&(e=!t),i.toggleClass("k-readonly",e),!e){if(t)return;n=""}i.val(n),n||i[0]!==p()||c(i[0],0,0)}}},_search:function(){var t=this;clearTimeout(t._typingTimeout),t._typingTimeout=setTimeout(function(){var e=t.text();""!==e&&t._prev!==e?(t._prev=e,"none"===t.options.filter&&t.options.virtual&&t.listView.select(-1),t.search(e),t._toggleCloseVisibility()):""===e&&""!==t._prev&&(t._clearValue(),t.search("")),t._typingTimeout=null},t.options.delay)},_setText:function(e){this.input.val(e),this._prev=e},_wrapper:function(){var e=this.element,t=e.parent();t.is("span.k-widget")||((t=e.hide().wrap("<span />").parent())[0].style.cssText=e[0].style.cssText),this.wrapper=t.addClass("k-widget k-combobox").addClass(e[0].className).removeClass("input-validation-error").css("display","")},_clearSelection:function(e,t){var i=e.value(),n=i&&-1===e.selectedIndex;-1==this.selectedIndex&&this.value()||!t&&i&&!n||(this.options.value="",this.value(""))},_preselect:function(e,t){this.input.val(t),this._accessor(e),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._placeholder(),this._initialIndex=null,this._presetValue=!0,this._toggleCloseVisibility()},_clearText:function(){this._old=this.value(),this.text("")},_clearValue:function(){a.fn._clearValue.call(this),this.input.focus()}});e.plugin(i)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.dropdownlist",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],function(){var e={id:"dropdownlist",name:"DropDownList",category:"web",description:"The DropDownList widget displays a list of values and allows the selection of a single value from the list.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]};return function(s,o){var l=window.kendo,e=l.ui,r=e.List,u=e.Select,c=l.support,d=l._activeElement,p=l.data.ObservableObject,h=l.keys,f=".kendoDropDownList",t=f+"FocusEvent",a="change",i="k-state-focused",m="k-state-default",g="k-state-disabled",_="aria-disabled",v="mouseenter"+f+" mouseleave"+f,w="tabindex",b="filter",y="accept",k=s.proxy,n=u.extend({init:function(e,t){var i,n,r=this,a=t&&t.index;r.ns=f,t=s.isArray(t)?{dataSource:t}:t,u.fn.init.call(r,e,t),t=r.options,e=r.element.on("focus"+f,k(r._focusHandler,r)),r._focusInputHandler=s.proxy(r._focusInput,r),r.optionLabel=s(),r._optionLabel(),r._inputTemplate(),r._reset(),r._prev="",r._word="",r._wrapper(),r._tabindex(),r.wrapper.data(w,r.wrapper.attr(w)),r._span(),r._popup(),r._mobile(),r._dataSource(),r._ignoreCase(),r._filterHeader(),r._aria(),r.wrapper.attr("aria-live","polite"),r._enable(),r._attachFocusHandlers(),r._oldIndex=r.selectedIndex=-1,a!==o&&(t.index=a),r._initialIndex=t.index,r.requireValueMapper(r.options),r._initList(),r._cascade(),r.one("set",function(e){!e.sender.listView.bound()&&r.hasOptionLabel()&&r._textAccessor(r._optionLabelText())}),t.autoBind?r.dataSource.fetch():-1===r.selectedIndex&&((n=t.text||"")||((i=t.optionLabel)&&0===t.index?n=i:r._isSelect&&(n=e.children(":selected").text())),r._textAccessor(n)),s(r.element).parents("fieldset").is(":disabled")&&r.enable(!1),r.listView.bind("click",function(e){e.preventDefault()}),l.notify(r)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,enforceMinLength:!1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:!1,popup:null},events:["open","close",a,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(e){u.fn.setOptions.call(this,e),this.listView.setOptions(this._listOptions(e)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.hasOptionLabel()&&this.select(0)},destroy:function(){var e=this;u.fn.destroy.call(e),e.wrapper.off(f),e.wrapper.off(t),e.element.off(f),e._inputWrapper.off(f),e._arrow.off(),e._arrow=null,e._arrowIcon=null,e.optionLabel.off(),e.filterInput&&e.filterInput.off(t)},open:function(){var e=this,t=!!e.dataSource.filter()&&0<e.dataSource.filter().filters.length;e.popup.visible()||(e.listView.bound()&&e._state!==y?e._allowOpening()&&(e._focusFilter=!0,e.popup.one("activate",e._focusInputHandler),e.popup._hovered=!0,e.popup.open(),e._resizeFilterInput(),e._focusItem()):(e._open=!0,e._state="rebind",e.filterInput&&(e.filterInput.val(""),e._prev=""),e.filterInput&&1!==e.options.minLength&&!t?(e.refresh(),e.popup.one("activate",e._focusInputHandler),e.popup.open(),e._resizeFilterInput()):e._filterSource()))},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var e=this.filterInput,t=this._prevent;if(e){var i=this.filterInput[0]===d(),n=l.caret(this.filterInput[0])[0];this._prevent=!0,e.css("display","none").css("width",this.popup.element.css("width")).css("display","inline-block"),i&&(e.focus(),l.caret(e[0],n)),this._prevent=t}},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||u.fn._allowOpening.call(this)},toggle:function(e){this._toggle(e,!0)},current:function(e){var t;if(e===o)return!(t=this.listView.focus())&&0===this.selectedIndex&&this.hasOptionLabel()?this.optionLabel:t;this._focus(e)},dataItem:function(e){var t=null;if(null===e)return e;if(e===o)t=this.listView.selectedDataItems()[0];else{if("number"!=typeof e){if(this.options.virtual)return this.dataSource.getByUid(s(e).data("uid"));e=e.hasClass("k-list-optionlabel")?-1:s(this.items()).index(e)}else this.hasOptionLabel()&&--e;t=this.dataSource.flatView()[e]}return t=t||this._optionLabelDataItem()},refresh:function(){this.listView.refresh()},text:function(e){var t,i=this,n=i.options.ignoreCase;if((e=null===e?"":e)===o)return i._textAccessor();"string"==typeof e?(t=n?e.toLowerCase():e,i._select(function(e){return e=i._text(e),n&&(e=(e+"").toLowerCase()),e===t}).done(function(){i._textAccessor(i.dataItem()||e)})):i._textAccessor(e)},_clearFilter:function(){s(this.filterInput).val(""),u.fn._clearFilter.call(this)},value:function(e){var t=this,i=t.listView,n=t.dataSource;return e===o?(e=t._accessor()||t.listView.value()[0])===o||null===e?"":e:(t.requireValueMapper(t.options,e),!e&&t.hasOptionLabel()||(t._initialIndex=null),this.trigger("set",{value:e}),t._request&&t.options.cascadeFrom&&t.listView.bound()?(t._valueSetter&&n.unbind(a,t._valueSetter),t._valueSetter=k(function(){t.value(e)},t),void n.one(a,t._valueSetter)):(t._isFilterEnabled()&&i.bound()&&i.isFiltered()?t._clearFilter():t._fetchData(),void i.value(e).done(function(){t._old=t._valueBeforeCascade=t._accessor(),t._oldIndex=t.selectedIndex})))},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var e=this,t=e.options,i=t.optionLabel,n=t.optionLabelTemplate;if(!i)return e.optionLabel.off().remove(),void(e.optionLabel=s());n||(n="#:",n+="string"==typeof i?"data":l.expr(t.dataTextField,"data"),n+="#"),"function"!=typeof n&&(n=l.template(n)),e.optionLabelTemplate=n,e.hasOptionLabel()||(e.optionLabel=s('<div class="k-list-optionlabel"></div>').prependTo(e.list)),e.optionLabel.html(n(i)).off().on("click.kendoDropDownList touchend.kendoDropDownList",k(e._click,e)).on(v,e._toggleHover),e.angular("compile",function(){return{elements:e.optionLabel,data:[{dataItem:e._optionLabelDataItem()}]}})},_optionLabelText:function(){var e=this.options.optionLabel;return"string"==typeof e?e:this._text(e)},_optionLabelDataItem:function(){var e=this.options.optionLabel;return this.hasOptionLabel()?s.isPlainObject(e)?new p(e):this._assignInstance(this._optionLabelText(),""):o},_buildOptions:function(e){if(this._isSelect){var t=this.listView.value()[0],i=this._optionLabelDataItem(),n=i&&this._value(i);t!==o&&null!==t||(t=""),i&&(n!==o&&null!==n||(n=""),i='<option value="'+n+'">'+this._text(i)+"</option>"),this._options(e,i,t),t!==r.unifyType(this._accessor(),typeof t)&&(this._customOption=null,this._custom(t))}},_listBound:function(){var e,t=this,i=t._initialIndex,n=t._state===b,r=t.dataSource.flatView();t._presetValue=!1,t._renderFooter(),t._renderNoData(),t._toggleNoData(!r.length),t._resizePopup(!0),t.popup.position(),t._buildOptions(r),t._makeUnselectable(),n||(t._open&&t.toggle(t._allowOpening()),t._open=!1,t._fetch||(r.length?(!t.listView.value().length&&-1<i&&null!==i&&t.select(i),t._initialIndex=null,(e=t.listView.selectedDataItems()[0])&&t.text()!==t._text(e)&&t._selectValue(e)):t._textAccessor()!==t._optionLabelText()&&(t.listView.value(""),t._selectValue(null),t._oldIndex=t.selectedIndex))),t._hideBusy(),t.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValue||this._old&&-1===this._oldIndex)&&(this._oldIndex=this.selectedIndex)},_filterPaste:function(){this._search()},_attachFocusHandlers:function(){var e=this;e.wrapper.on("focusin"+t,k(e._focusinHandler,e)).on("focusout"+t,k(e._focusoutHandler,e)),e.filterInput&&e.filterInput.on("focusin"+t,k(e._focusinHandler,e)).on("focusout"+t,k(e._focusoutHandler,e))},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(i),this._prevent=!1},_focusoutHandler:function(){var e=window.self!==window.top;this._prevent||(clearTimeout(this._typingTimeout),c.mobileOS.ios&&e?this._change():this._blur(),this._inputWrapper.removeClass(i),this._prevent=!0,this._open=!1,this.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(e){e.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._prevent=!1,this._toggle()},_editable:function(e){var t=this,i=t.element,n=e.disable,r=e.readonly,a=t.wrapper.add(t.filterInput).off(f),s=t._inputWrapper.off(v);r||n?n?(a.removeAttr(w),s.addClass(g).removeClass(m)):s.addClass(m).removeClass(g):(i.removeAttr("disabled").removeAttr("readonly"),s.addClass(m).removeClass(g).on(v,t._toggleHover),a.attr(w,a.data(w)).attr(_,!1).on("keydown"+f,k(t._keydown,t)).on(l.support.mousedown+f,k(t._wrapperMousedown,t)).on("paste"+f,k(t._filterPaste,t)),t.wrapper.on("click"+f,k(t._wrapperClick,t)),t.filterInput?a.on("input"+f,k(t._search,t)):a.on("keypress"+f,k(t._keypress,t))),i.attr("disabled",n).attr("readonly",r),a.attr(_,n)},_keydown:function(e){var t,i,n=this,r=e.keyCode,a=e.altKey,s=n.popup.visible();if(n.filterInput&&(t=n.filterInput[0]===d()),r===h.LEFT?(r=h.UP,i=!0):r===h.RIGHT&&(r=h.DOWN,i=!0),!i||!t)if(e.keyCode=r,(a&&r===h.UP||r===h.ESC)&&n._focusElement(n.wrapper),n._state===b&&r===h.ESC&&(n._clearFilter(),n._open=!1,n._state=y),r===h.ENTER&&n._typingTimeout&&n.filterInput&&s)e.preventDefault();else if(r!==h.SPACEBAR||t||(n.toggle(!s),e.preventDefault()),!(i=n._move(e))){if(!s||!n.filterInput){var o=n._focus();if(r===h.HOME?(i=!0,n._firstItem()):r===h.END&&(i=!0,n._lastItem()),i){if(n.trigger("select",{dataItem:n._getElementDataItem(n._focus()),item:n._focus()}))return void n._focus(o);n._select(n._focus(),!0).done(function(){s||n._blur()}),e.preventDefault()}}a||i||!n.filterInput||n._search()}},_matchText:function(e,t){var i=this.options.ignoreCase;return e!==o&&null!==e&&(e+="",i&&(e=e.toLowerCase()),0===e.indexOf(t))},_shuffleData:function(e,t){var i=this._optionLabelDataItem();return i&&(e=[i].concat(e)),e.slice(t).concat(e.slice(0,t))},_selectNext:function(){var t,e,i=this,n=i.dataSource.flatView(),r=n.length+(i.hasOptionLabel()?1:0),a=function(e,t){for(var i=0;i<e.length;i++)if(e.charAt(i)!==t)return!1;return!0}(i._word,i._last),s=i.selectedIndex;s=-1===s?0:C(s+=a?1:0,r),n=n.toJSON?n.toJSON():n.slice(),n=i._shuffleData(n,s);for(var o=0;o<r&&(e=i._text(n[o]),!a||!i._matchText(e,i._last))&&!i._matchText(e,i._word);o++);o!==r&&(t=i._focus(),i._select(C(s+o,r)).done(function(){function e(){i.popup.visible()||i._change()}i.trigger("select",{dataItem:i._getElementDataItem(i._focus()),item:i._focus()})?i._select(t).done(e):e()}))},_keypress:function(e){if(0!==e.which&&e.keyCode!==l.keys.ENTER){var t=String.fromCharCode(e.charCode||e.keyCode);this.options.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this._word+=t,this._last=t,this._search()}},_popupOpen:function(){var e=this.popup;e.wrapper=l.wrap(e.element),e.element.closest(".km-root")[0]&&(e.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){u.fn._popup.call(this),this.popup.one("open",k(this._popupOpen,this))},_getElementDataItem:function(e){return e&&e[0]?e[0]===this.optionLabel[0]?this._optionLabelDataItem():this.listView.dataItemByIndex(this.listView.getElementIndex(e)):null},_click:function(e){var t=this,i=e.item||s(e.currentTarget);e.preventDefault(),t.trigger("select",{dataItem:t._getElementDataItem(i),item:i})?t.close():(t._userTriggered=!0,t._select(i).done(function(){t._blur(),t._focusElement(t.wrapper)}))},_focusElement:function(e){var t=d(),i=this.wrapper,n=this.filterInput,r=e===n?i:n,a=c.mobileOS&&(c.touch||c.MSPointers||c.pointers);n&&n[0]===e[0]&&a||n&&(r[0]===t||this._focusFilter)&&(this._focusFilter=!1,this._prevent=!0,this._focused=e.focus())},_searchByWord:function(t){if(t){var i=this;i.options.ignoreCase&&(t=t.toLowerCase()),i._select(function(e){return i._matchText(i._text(e),t)})}},_inputValue:function(){return this.text()},_search:function(){var t=this,e=t.dataSource;if(clearTimeout(t._typingTimeout),t._isFilterEnabled())t._typingTimeout=setTimeout(function(){var e=t.filterInput.val();t._prev!==e&&(t._prev=e,t.search(e),t._resizeFilterInput()),t._typingTimeout=null},t.options.delay);else{if(t._typingTimeout=setTimeout(function(){t._word=""},t.options.delay),!t.listView.bound())return void e.fetch().done(function(){t._selectNext()});t._selectNext()}},_get:function(e){var t,i,n,r="function"==typeof e,a=r?s():s(e);if(this.hasOptionLabel()&&("number"==typeof e?-1<e&&--e:a.hasClass("k-list-optionlabel")&&(e=-1)),r){for(t=this.dataSource.flatView(),n=0;n<t.length;n++)if(e(t[n])){e=n,i=!0;break}i||(e=-1)}return e},_firstItem:function(){this.hasOptionLabel()?this._focus(this.optionLabel):this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel(),this.listView.focusLast()},_nextItem:function(){this.optionLabel.hasClass("k-state-focused")?(this._resetOptionLabel(),this.listView.focusFirst()):this.listView.focusNext()},_prevItem:function(){this.optionLabel.hasClass("k-state-focused")||(this.listView.focusPrev(),this.listView.focus()||this._focus(this.optionLabel))},_focusItem:function(){var e=this.options,t=this.listView,i=t.focus(),n=t.select();(n=n[n.length-1])===o&&e.highlightFirst&&!i&&(n=0),n!==o?t.focus(n):!e.optionLabel||e.virtual&&"dataItem"===e.virtual.mapValueTo?t.scrollToIndex(0):(this._focus(this.optionLabel),this._select(this.optionLabel),this.listView.content.scrollTop(0))},_resetOptionLabel:function(e){this.optionLabel.removeClass("k-state-focused"+(e||"")).removeAttr("id")},_focus:function(e){var t=this.listView,i=this.optionLabel;if(e===o)return!(e=t.focus())&&i.hasClass("k-state-focused")&&(e=i),e;this._resetOptionLabel(),e=this._get(e),t.focus(e),-1===e&&(i.addClass("k-state-focused").attr("id",t._optionID),this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",t._optionID))},_select:function(e,t){var i=this;return e=i._get(e),i.listView.select(e).done(function(){t||i._state!==b||(i._state=y),-1===e&&i._selectValue(null)})},_selectValue:function(e){var t=this,i=t.options.optionLabel,n=t.listView.select(),r="",a="";(n=n[n.length-1])===o&&(n=-1),this._resetOptionLabel(" k-state-selected"),e||0===e?(a=e,r=t._dataValue(e),i&&(n+=1)):i&&(t._focus(t.optionLabel.addClass("k-state-selected")),a=t._optionLabelText(),r="string"==typeof i?"":t._value(i),n=0),t.selectedIndex=n,null===r&&(r=""),t._textAccessor(a),t._accessor(r,n),t._triggerCascade()},_mobile:function(){var e=this.popup,t=c.mobileOS;e.element.parents(".km-root").eq(0).length&&t&&(e.options.animation.open.effects=t.android||t.meego?"fadeIn":t.ios||t.wp?"slideIn:up":e.options.animation.open.effects)},_filterHeader:function(){this.filterInput&&(this.filterInput.off(f).parent().remove(),this.filterInput=null),this._isFilterEnabled()&&(this.filterInput=s('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(s('<span class="k-list-filter" />').append(this.filterInput.add('<span class="k-icon k-i-zoom"></span>'))))},_span:function(){var e,t=this.wrapper,i="span.k-input";(e=t.find(i))[0]||(t.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(this.element),e=t.find(i)),this.span=e,this._inputWrapper=s(t[0].firstChild),this._arrow=t.find(".k-select"),this._arrowIcon=this._arrow.find(".k-icon")},_wrapper:function(){var e,t=this.element,i=t[0];(e=t.parent()).is("span.k-widget")||((e=t.wrap("<span />").parent())[0].style.cssText=i.style.cssText,e[0].title=i.title),this._focused=this.wrapper=e.addClass("k-widget k-dropdown").addClass(i.className).removeClass("input-validation-error").css("display","").attr({accesskey:t.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),t.hide().removeAttr("accesskey")},_clearSelection:function(e){this.select(e.value()?0:-1)},_inputTemplate:function(){var e=this.options.valueTemplate;if(e=e?l.template(e):s.proxy(l.template("#:this._text(data)#",{useWithBlock:!1}),this),this.valueTemplate=e,this.hasOptionLabel()&&!this.options.optionLabelTemplate)try{this.valueTemplate(this._optionLabelDataItem())}catch(e){throw new Error("The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel")}},_textAccessor:function(e){var t=null,i=this.valueTemplate,n=this._optionLabelText(),r=this.span;if(e===o)return r.text();s.isPlainObject(e)||e instanceof p?t=e:n&&n===e&&(t=this.options.optionLabel),t=t||this._assignInstance(e,this._accessor()),this.hasOptionLabel()&&(t!==n&&this._text(t)!==n||(i=this.optionLabelTemplate,"string"!=typeof this.options.optionLabel||this.options.optionLabelTemplate||(t=n)));function a(){return{elements:r.get(),data:[{dataItem:t}]}}this.angular("cleanup",a);try{r.html(i(t))}catch(e){r.html("")}this.angular("compile",a)},_preselect:function(e,t){e||t||(t=this._optionLabelText()),this._accessor(e),this._textAccessor(t),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._initialIndex=null,this._presetValue=!0},_assignInstance:function(e,t){var i=this.options.dataTextField,n={};return n=i?(x(n,i.split("."),e),x(n,this.options.dataValueField.split("."),t),new p(n)):e}});function x(e,t,i){for(var n,r=0,a=t.length-1;r<a;++r)(n=t[r])in e||(e[n]={}),e=e[n];e[t[a]]=i}function C(e,t){return t<=e&&(e-=t),e}e.plugin(n)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.colorpicker",["kendo.core","kendo.color","kendo.popup","kendo.slider","kendo.userevents","kendo.button"],function(){var e={id:"colorpicker",name:"Color tools",category:"web",description:"Color selection widgets",depends:["core","color","popup","slider","userevents","button"]};return function(l){var u=window.kendo,e=u.ui,c=e.Widget,d=u.parseColor,p=u.Color,s=u.keys,o="background-color",h="k-state-selected",t={apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:"Color Hexadecimal Code"},a=".kendoColorTools",f="click"+a,m="keydown"+a,i=u.support.browser,n=i.msie&&i.version<9,g=c.extend({init:function(e,t){var i;c.fn.init.call(this,e,t),e=this.element,t=this.options,this._value=t.value=d(t.value),this._tabIndex=e.attr("tabIndex")||0,(i=this._ariaId=t.ariaId)&&e.attr("aria-labelledby",i),t._standalone&&(this._triggerSelect=this._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(e){return void 0!==e&&(this._value=d(e),this._updateUI(this._value)),this._value},value:function(e){return(e=(e=this.color(e))&&(this.options.opacity?e.toCssRgba():e.toCss()))||null},enable:function(e){0===arguments.length&&(e=!0),this.wrapper.toggleClass("k-state-disabled",!e),this._onEnable(e)},_select:function(e,t){var i=this._value;e=this.color(e),t||(this.element.trigger("change"),e.equals(i)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(e){r(this,"select",e)},_triggerChange:function(e){r(this,"change",e)},destroy:function(){this.element&&this.element.off(a),this.wrapper&&this.wrapper.off(a).find("*").off(a),this.wrapper=null,c.fn.destroy.call(this)},_updateUI:l.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function r(e,t,i){(i=d(i))&&!i.equals(e.color())&&("change"==t&&(e._value=i),i=1!=i.a?i.toCssRgba():i.toCss(),e.trigger(t,{value:i}))}var _=g.extend({init:function(e,t){var i=this;g.fn.init.call(i,e,t),e=i.wrapper=i.element;var n=(t=i.options).palette;"websafe"==n?(n="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",t.columns=18):"basic"==n&&(n="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7"),"string"==typeof n&&(n=n.split(",")),l.isArray(n)&&(n=l.map(n,function(e){return d(e)})),i._selectedID=(t.ariaId||u.guid())+"_selected",e.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(l(i._template({colors:n,columns:t.columns,tileSize:t.tileSize,value:i._value,id:t.ariaId}))).on(f,".k-item",function(e){i._select(l(e.currentTarget).css(o))}).attr("tabIndex",i._tabIndex).on(m,k(i._keydown,i));var r,a,s=t.tileSize;if(s){if(/number|string/.test(typeof s))r=a=parseFloat(s);else{if("object"!=typeof s)throw new Error("Unsupported value for the 'tileSize' argument");r=parseFloat(s.width),a=parseFloat(s.height)}e.find(".k-item").css({width:r,height:a})}},focus:function(){this.wrapper&&!this.wrapper.is("[unselectable='on']")&&this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(e){e?this.wrapper.attr("tabIndex",this._tabIndex):this.wrapper.removeAttr("tabIndex")},_keydown:function(e){var t,i=this.wrapper.find(".k-item"),n=i.filter("."+h).get(0),r=e.keyCode;if(r==s.LEFT?t=w(i,n,-1):r==s.RIGHT?t=w(i,n,1):r==s.DOWN?t=w(i,n,this.options.columns):r==s.UP?t=w(i,n,-this.options.columns):r==s.ENTER?(y(e),n&&this._select(l(n).css(o))):r==s.ESC&&this._cancel(),t){y(e),this._current(t);try{var a=d(t.css(o));this._triggerSelect(a)}catch(e){}}},_current:function(e){this.wrapper.find("."+h).removeClass(h).attr("aria-selected",!1).removeAttr("id"),l(e).addClass(h).attr("aria-selected",!0).attr("id",this._selectedID),this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(t){var i=null;this.wrapper.find(".k-item").each(function(){var e=d(l(this).css(o));if(e&&e.equals(t))return i=this,!1}),this._current(i)},_template:u.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " '+h+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')}),v=g.extend({init:function(e,t){var r=this;g.fn.init.call(r,e,t),(t=r.options).messages=t.options?l.extend(r.options.messages,t.options.messages):r.options.messages,e=r.element,r.wrapper=e.addClass("k-widget k-flatcolorpicker").append(r._template(t)),r._hueElements=l(".k-hsv-rectangle, .k-alpha-slider .k-slider-track",e),r._selectedColor=l(".k-selected-color-display",e),r._colorAsText=l("input.k-color-value",e),r._sliders(),r._hsvArea(),r._updateUI(r._value||d("#f00")),e.find("input.k-color-value").on(m,function(e){var t=this;if(e.keyCode==s.ENTER)try{var i=d(t.value),n=r.color();r._select(i,i.equals(n))}catch(e){l(t).addClass("k-state-error")}else r.options.autoupdate&&setTimeout(function(){var e=d(t.value,!0);e&&r._updateUI(e,!0)},10)}).end().on(f,".k-controls button.apply",function(){r.options._clearedColor?r.trigger("change"):r._select(r._getHSV())}).on(f,".k-controls button.cancel",function(){r._updateUI(r.color()),r._cancel()}),n&&r._applyIEFilter()},destroy:function(){this._hsvEvents.destroy(),this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,g.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,clearButton:!1,autoupdate:!0,messages:t},_applyIEFilter:function(){var e=this.element.find(".k-hue-slider .k-slider-track")[0],t=e.currentStyle.backgroundImage;t=t.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),e.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')"},_sliders:function(){var t=this,e=t.element,i=e.find(".k-hue-slider"),n=e.find(".k-alpha-slider");function r(e){t._updateUI(t._getHSV(e.value,null,null,null))}function a(e){t._updateUI(t._getHSV(null,null,null,e.value/100))}i.attr("aria-label","hue saturation"),t._hueSlider=i.kendoSlider({min:0,max:360,tickPlacement:"none",showButtons:!1,slide:r,change:r}).data("kendoSlider"),n.attr("aria-label","opacity"),t._opacitySlider=n.kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:a,change:a}).data("kendoSlider")},_hsvArea:function(){var o=this,t=o.element.find(".k-hsv-rectangle"),i=t.find(".k-draghandle").attr("tabIndex",0).on(m,k(o._keydown,o));function n(e,t){var i=this.offset,n=e-i.left,r=t-i.top,a=this.width,s=this.height;n=n<0?0:a<n?a:n,r=r<0?0:s<r?s:r,o._svChange(n/a,1-r/s)}o._hsvEvents=new u.UserEvents(t,{global:!0,press:function(e){this.offset=u.getOffset(t),this.width=t.width(),this.height=t.height(),i.focus(),n.call(this,e.x.location,e.y.location)},start:function(){t.addClass("k-dragging"),i.focus()},move:function(e){e.preventDefault(),n.call(this,e.x.location,e.y.location)},end:function(){t.removeClass("k-dragging")}}),o._hsvRect=t,o._hsvHandle=i},_onEnable:function(e){this._hueSlider.enable(e),this._opacitySlider&&this._opacitySlider.enable(e),this.wrapper.find("input").attr("disabled",!e);var t=this._hsvRect.find(".k-draghandle");e?t.attr("tabIndex",this._tabIndex):t.removeAttr("tabIndex")},_keydown:function(n){var r=this;function e(e,t){var i=r._getHSV();i[e]+=t*(n.shiftKey?.01:.05),i[e]<0&&(i[e]=0),1<i[e]&&(i[e]=1),r._updateUI(i),y(n)}function t(e){var t=r._getHSV();t.h+=e*(n.shiftKey?1:5),t.h<0&&(t.h=0),359<t.h&&(t.h=359),r._updateUI(t),y(n)}switch(n.keyCode){case s.LEFT:n.ctrlKey?t(-1):e("s",-1);break;case s.RIGHT:n.ctrlKey?t(1):e("s",1);break;case s.UP:e(n.ctrlKey&&r._opacitySlider?"a":"v",1);break;case s.DOWN:e(n.ctrlKey&&r._opacitySlider?"a":"v",-1);break;case s.ENTER:r._select(r._getHSV());break;case s.F2:r.wrapper.find("input.k-color-value").focus().select();break;case s.ESC:r._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(e,t,i,n){var r=this._hsvRect,a=r.width(),s=r.height(),o=this._hsvHandle.position();return null==e&&(e=this._hueSlider.value()),null==t&&(t=o.left/a),null==i&&(i=1-o.top/s),null==n&&(n=this._opacitySlider?this._opacitySlider.value()/100:1),p.fromHSV(e,t,i,n)},_svChange:function(e,t){var i=this._getHSV(null,e,t,null);this._updateUI(i)},_updateUI:function(e,t){var i=this,n=i._hsvRect;e&&(this._colorAsText.attr("title",i.options.messages.previewInput),this._colorAsText.removeClass("k-state-error"),i._selectedColor.css(o,e.toDisplay()),t||i._colorAsText.val(i._opacitySlider?e.toCssRgba():e.toCss()),i._triggerSelect(e),e=e.toHSV(),i._hsvHandle.css({left:e.s*n.width()+"px",top:(1-e.v)*n.height()+"px"}),i._hueElements.css(o,p.fromHSV(e.h,1,1,1).toCss()),i._hueSlider.value(e.h),i._opacitySlider&&i._opacitySlider.value(100*e.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:u.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><div class="k-color-input"><input class="k-color-value" # if (clearButton && !_standalone) { #placeholder="#: messages.noColor #" # } ##= !data.input ? \'style="visibility: hidden;"\' : "" #># if (clearButton && !_standalone) { #<span class="k-clear-color k-button k-bare" title="#: messages.clearColor #"></span># } #</div></div></div># } ## if (clearButton && !_standalone && !preview) { #<div class="k-clear-color-container"><span class="k-clear-color k-button k-bare">#: messages.clearColor #</span></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><div class="k-sliders-wrap k-vbox"><input class="k-hue-slider" /># if (opacity) { #<input class="k-alpha-slider k-transparency-slider" /># } #</div># if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')});function w(e,t,i){var n=(e=Array.prototype.slice.call(e)).length,r=e.indexOf(t);return r<0?i<0?e[n-1]:e[0]:((r+=i)<0?r+=n:r%=n,e[r])}var b=c.extend({init:function(e,t){var i=this;c.fn.init.call(i,e,t),t=i.options;var n=(e=i.element).attr("value")||e.val();n=d(n||t.value,!0),i._value=t.value=n;var r=i.wrapper=l(i._template(t));if(e.hide().after(r),e.is("input")){e.appendTo(r);var a=e.closest("label"),s=e.attr("id");s&&(a=a.add('label[for="'+s+'"]')),a.click(function(e){i.open(),e.preventDefault()})}i._tabIndex=e.attr("tabIndex")||0,i.enable(!e.attr("disabled"));var o=e.attr("accesskey");o&&(e.attr("accesskey",null),r.attr("accesskey",o)),i.bind("activate",function(e){e.isDefaultPrevented()||i.toggle()}),i._updateUI(n)},destroy:function(){this.wrapper.off(a).find("*").off(a),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,c.fn.destroy.call(this)},enable:function(e){var t=this,i=t.wrapper,n=i.children(".k-picker-wrap"),r=n.find(".k-select");0===arguments.length&&(e=!0),t.element.attr("disabled",!e),i.attr("aria-disabled",!e),r.off(a).on("mousedown"+a,y),i.addClass("k-state-disabled").removeAttr("tabIndex").add("*",i).off(a),e?i.removeClass("k-state-disabled").attr("tabIndex",t._tabIndex).on("mouseenter"+a,function(){n.addClass("k-state-hover")}).on("mouseleave"+a,function(){n.removeClass("k-state-hover")}).on("focus"+a,function(){n.addClass("k-state-focused")}).on("blur"+a,function(){n.removeClass("k-state-focused")}).on(m,k(t._keydown,t)).on(f,".k-select",k(t.toggle,t)).on(f,t.options.toolIcon?".k-tool-icon":".k-selected-color",function(){t.trigger("activate")}):t.close()},_template:u.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-icon k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"><span class="k-icon k-i-line" style="display: none;"></span></span># } #<span class="k-select" unselectable="on" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:t,opacity:!1,buttons:!0,preview:!0,clearButton:!1,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this.element.prop("disabled")||this._getPopup().open()},close:function(){var e=this._selector&&this._selector.options||{};e._closing=!0,this._getPopup().close(),delete e._closing},toggle:function(){this.element.prop("disabled")||this._getPopup().toggle()},_noColorIcon:function(){return this.wrapper.find(".k-picker-wrap > .k-selected-color > .k-icon.k-i-line")},color:g.fn.color,value:g.fn.value,_select:g.fn._select,_triggerSelect:g.fn._triggerSelect,_isInputTypeColor:function(){var e=this.element[0];return/^input$/i.test(e.tagName)&&/^color$/i.test(e.type)},_updateUI:function(e){var t="";e&&(t=this._isInputTypeColor()||1==e.a?e.toCss():e.toCssRgba(),this.element.val(t)),this._ariaTemplate||(this._ariaTemplate=u.template(this.options.ARIATemplate)),this.wrapper.attr("aria-label",this._ariaTemplate(t)),this._triggerSelect(e),this.wrapper.find(".k-selected-color").css(o,e?e.toDisplay():"#ffffff"),this._noColorIcon()[t?"hide":"show"]()},_keydown:function(e){var t=e.keyCode;this._getPopup().visible()?(t==s.ESC?this._selector._cancel():this._selector._keydown(e),y(e)):t!=s.ENTER&&t!=s.DOWN||(this.open(),y(e))},_getPopup:function(){var a=this,e=a._popup;if(!e){var t,i=a.options;t=i.palette?_:v,i._standalone=!1,delete i.select,delete i.change,delete i.cancel;var n=u.guid(),s=a._selector=new t(l('<div id="'+n+'"/>').appendTo(document.body),i);a.wrapper.attr("aria-owns",n),a._popup=e=s.wrapper.kendoPopup({anchor:a.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup"),s.element.find(".k-clear-color").kendoButton({icon:"reset-color",click:function(e){s.options._clearedColor=!0,a.value(null),a.element.val(null),a._updateUI(null),s._colorAsText.val(""),s._hsvHandle.css({top:"0px",left:"0px"}),s._selectedColor.css(o,"#ffffff"),a.trigger("change",{value:a.value()}),e.preventDefault()}}),s.bind({select:function(e){a._updateUI(d(e.value)),delete s.options._clearedColor},change:function(){s.options._clearedColor||a._select(s.color()),a.close()},cancel:function(){s.options._clearedColor&&!a.value()&&s.value()&&a._select(s.color(),!0),a.close()}}),e.bind({close:function(e){if(a.trigger("close"))e.preventDefault();else{a.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var t=s._selectOnHide(),i=s.value(),n=a.value(),r=s.options;t?r._clearedColor&&!n||a._select(t):(setTimeout(function(){a.wrapper&&!a.wrapper.is("[unselectable='on']")&&a.wrapper.focus()}),!r._closing&&r._clearedColor&&!n&&i?a._select(i,!0):a._updateUI(a.color()))}},open:function(e){a.trigger("open")?e.preventDefault():a.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){s._select(a.color(),!0),s.focus(),a.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return e}});function y(e){e.preventDefault()}function k(e,t){return function(){return e.apply(t,arguments)}}e.plugin(_),e.plugin(v),e.plugin(b)}(jQuery,parseInt),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.maskedtextbox",["kendo.core"],function(){var e={id:"maskedtextbox",name:"MaskedTextBox",category:"web",description:"The MaskedTextBox widget allows to specify a mask type on an input field.",depends:["core"]};return function(c,p){var e=window,h=e.Math.min,f=e.kendo,m=f.caret,i=f.keys,t=f.ui,r=t.Widget,a=".kendoMaskedTextBox",n=c.proxy,s=window.setTimeout,o="k-state-disabled",l="k-state-invalid",u="change",d="keydown";function g(e){return e+a}var _=g(f.support.propertyChangeEvent?"propertychange":"input");var v=r.extend({init:function(t,e){var i,n=this;r.fn.init.call(n,t,e),n._rules=c.extend({},n.rules,n.options.rules),t=n.element,i=t[0],n._wrapper(),n._tokenize(),n._form(),n.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+a,function(){var e=i.value;e?n._togglePrompt(!0):i.value=n._old=n._emptyMask,n._oldValue=e,n._timeoutId=s(function(){m(t,0,e?n._maskLength:0)})}).on("focusout"+a,function(){var e=t.val();clearTimeout(n._timeoutId),i.value=n._old="",e!==n._emptyMask&&(i.value=n._old=e),n._change(),n._togglePrompt()}),t.is("[disabled]")||c(n.element).parents("fieldset").is(":disabled")?n.enable(!1):n.readonly(t.is("[readonly]")),n.value(n.options.value||t.val()),n._validationIcon=c("<span class='k-icon k-i-warning'></span>").insertAfter(t),f.notify(n)},options:{name:"MaskedTextBox",clearPromptChar:!1,unmaskOnPost:!1,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[u],rules:{0:/\d/,9:/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(e){r.fn.setOptions.call(this,e),this._rules=c.extend({},this.rules,this.options.rules),this._tokenize(),this._unbindInput(),this._bindInput(),this.value(this.element.val())},destroy:function(){this.element.off(a),this._formElement&&(this._formElement.off("reset",this._resetHandler),this._formElement.off("submit",this._submitHandler)),r.fn.destroy.call(this)},raw:function(){return this._unmask(this.element.val(),0).replace(new RegExp(w(this.options.promptChar),"g"),"")},value:function(e){var t=this.element,i=this._emptyMask;return e===p?this.element.val():(null===e&&(e=""),i?(e=this._unmask(e+""),t.val(e?i:""),this._mask(0,this._maskLength,e),this._unmaskedValue=null,e=t.val(),this._oldValue=e,void(f._activeElement()!==t&&(e===i?t.val(""):this._togglePrompt()))):(this._oldValue=e,void t.val(e)))},_togglePrompt:function(e){var t=this.element[0],i=t.value;this.options.clearPromptChar&&(i=e?this._oldValue:i.replace(new RegExp(w(this.options.promptChar),"g")," "),t.value=this._old=i)},readonly:function(e){this._editable({readonly:e===p||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===p||e)})},_bindInput:function(){var e=this;if(e._maskLength&&(e.options.$angular&&e.element.off("input"),e.element.on(g(d),n(e._keydown,e)).on(g("drop"),n(e._drop,e)).on(g(u),n(e._trackChange,e)).on(_,n(e._inputHandler,e)),f.support.browser.msie)){var t=f.support.browser.version;if(8<t&&t<11){var i=[g("mouseup"),g("drop"),g(d),g("paste")].join(" ");e.element.on(i,n(e._legacyIEInputHandler,e))}}},_unbindInput:function(){var e=[_,g(d),g("mouseup"),g("drop"),g("paste")].join(" ");this.element.off(e)},_editable:function(e){var t=this.element,i=this.wrapper,n=e.disable,r=e.readonly;this._unbindInput(),r||n?(t.attr("disabled",n).attr("readonly",r),i.toggleClass(o,n)):(t.removeAttr("disabled").removeAttr("readonly"),i.removeClass(o),this._bindInput())},_change:function(){var e=this.value();e!==this._oldValue?(this._oldValue=e,this.trigger(u),this.element.trigger(u)):""===e&&this.__changing&&this.element.trigger(u)},inputChange:function(e){var t=this,i=t._old,n=t.element[0],r=n.value,a=m(n)[1],s=r.length-i.length,o=f.support.mobileOS;if(!(t.__dropping&&s<0)){-1==s&&o.android&&"chrome"===o.browser&&(e=!0);var l=h(a,function(e,t){for(var i=0;i<t.length&&e[i]===t[i];)i++;return i}(r,i)),u=r.substring(l,a);n.value=r.substring(0,l)+t._emptyMask.substring(l);var c=t._mask(l,a,u),d=t._trimStartPromptChars(r.substring(a),h(s,c-l)),p=t._unmask(d,i.length-d.length);t._mask(c,c,p),e&&(c=t._findCaretPosBackwards(l)),m(n,c),t.__dropping=!1}},_trimStartPromptChars:function(e,t){for(var i=this.options.promptChar;0<t--&&0===e.indexOf(i);)e=e.substring(1);return e},_findCaretPosBackwards:function(e){var t=this._find(e,!0);return t<e&&(t+=1),t},_inputHandler:function(){f._activeElement()===this.element[0]&&this.inputChange(this.__backward)},_legacyIEInputHandler:function(e){var t=this,i=t.element[0],n=i.value,r=e.type;t.__pasting="paste"===r,s(function(){"mouseup"===r&&t.__pasting||i.value&&i.value!==n&&t.inputChange(t.__backward)})},_trackChange:function(){var e=this;e.__changing=!0,s(function(){e.__changing=!1})},_form:function(){var e=this,t=e.element,i=t.attr("form"),n=i?c("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){s(function(){e.value(t[0].value)})},e._submitHandler=function(){e.element[0].value=e._old=e.raw()},e.options.unmaskOnPost&&n.on("submit",e._submitHandler),e._formElement=n.on("reset",e._resetHandler))},_keydown:function(e){var t=e.keyCode;this.__backward=t===i.BACKSPACE,t===i.ENTER&&this._change()},_drop:function(){this.__dropping=!0},_find:function(e,t){var i=this.element.val()||this._emptyMask,n=1;for(!0===t&&(n=-1);-1<e||e<=this._maskLength;){if(i.charAt(e)!==this.tokens[e])return e;e+=n}return-1},_mask:function(e,t,i,n){var r,a,s,o,l=this.element[0],u=l.value||this._emptyMask,c=this.options.promptChar,d=0;for(t<(e=this._find(e,n))&&(t=e),a=this._unmask(u.substring(t),t),r=(i=this._unmask(i,e)).length,i&&(a=a.replace(new RegExp("^_{0,"+r+"}"),"")),i+=a,u=u.split(""),s=i.charAt(d);e<this._maskLength;)u[e]=s||c,s=i.charAt(++d),o===p&&r<d&&(o=e),e=this._find(e+1);return l.value=this._old=u.join(""),f._activeElement()===l&&(o===p&&(o=this._maskLength),m(l,o)),o},_unmask:function(e,t){if(!e)return"";if(this._unmaskedValue===e)return this._unmaskedValue;var i,n;e=(e+"").split("");for(var r=0,a=t||0,s=this.options.promptChar,o=e.length,l=this.tokens.length,u="";a<l&&((i=e[r])===(n=this.tokens[a])||i===s?(u+=i===s?s:"",r+=1,a+=1):"string"!=typeof n?(n&&n.test&&n.test(i)||c.isFunction(n)&&n(i)?(u+=i,a+=1):1===o&&this._blinkInvalidState(),r+=1):a+=1,!(o<=r)););return this._unmaskedValue=u},_wrapper:function(){var e=this.element,t=e[0],i=e.wrap("<span class='k-widget k-maskedtextbox'></span>").parent();i[0].style.cssText=t.style.cssText,t.style.width="100%",this.wrapper=i.addClass(t.className).removeClass("input-validation-error")},_blinkInvalidState:function(){this.wrapper.addClass(l),clearTimeout(this._invalidStateTimeout),this._invalidStateTimeout=s(n(this._removeInvalidState,this),100)},_removeInvalidState:function(){this.wrapper.removeClass(l),this._invalidStateTimeout=null},_tokenize:function(){for(var e,t,i=[],n=0,r=(this.options.mask||"").split(""),a=r.length,s=0,o="",l=this.options.promptChar,u=f.getCulture(this.options.culture).numberFormat,c=this._rules;s<a;s++)if(t=c[e=r[s]])i[n]=t,o+=l,n+=1;else{"."===e||","===e?e=u[e]:"$"===e?e=u.currency.symbol:"\\"===e&&(e=r[s+=1]);for(var d=0,p=(e=e.split("")).length;d<p;d++)i[n]=e[d],o+=e[d],n+=1}this.tokens=i,this._emptyMask=o,this._maskLength=o.length}});function w(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}t.plugin(v)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.multiselect",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],function(){var e={id:"multiselect",name:"MultiSelect",category:"web",description:"The MultiSelect widget allows the selection from pre-defined values.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]};return function(h,f){var m=window.kendo,e=m.ui,r=e.List,g=h.extend({A:65},m.keys),l=m._activeElement,i=m.data.ObservableArray,o=h.proxy,_="accept",p="filter",s="rebind",t="change",c="select",v="deselect",u="aria-disabled",n="k-state-focused",w="k-state-selected",a="k-hidden",d="k-state-hover",b="k-state-disabled",y="k-no-click",k=".kendoMultiSelect",x="click"+k,C="mouseenter"+k,T="mouseleave"+k,S=/"/g,I=h.isArray,D=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],F=r.extend({init:function(e,t){var i,n=this;n.ns=k,r.fn.init.call(n,e,t),n._optionsMap={},n._customOptions={},n._wrapper(),n._tagList(),n._input(),n._textContainer(),n._loader(),n._clearButton(),n._tabindex(n.input),e=n.element.attr("multiple","multiple").hide(),(t=n.options).placeholder||(t.placeholder=e.data("placeholder")),(i=e.attr("id"))&&(n._tagID=i+"_tag_active",i+="_taglist",n.tagList.attr("id",i),n.input.attr("aria-describedby",i)),n._initialOpen=!0,n._ariaLabel(),n._ariaSetLive(),n._dataSource(),n._ignoreCase(),n._popup(),n._tagTemplate(),n.requireValueMapper(n.options),n._initList(),n._reset(),n._enable(),n._placeholder(),t.autoBind?n.dataSource.fetch():t.value&&n._preselect(t.value),h(n.element).parents("fieldset").is(":disabled")&&n.enable(!1),n._ariaSetSize(n.value().length),m.notify(n),n._toggleCloseVisibility()},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:1,messages:{singleTag:"item(s) selected",clear:"clear",deleteTag:"delete",noData:"No data found."},enforceMinLength:!1,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:!1,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,autoWidth:!1,popup:null},events:["open","close",t,c,v,"filtering","dataBinding","dataBound"],setDataSource:function(e){this.options.dataSource=e,this._state="",this._dataSource(),this.persistTagList=!1,this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(e){var t=this._listOptions(e);r.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(this.tagList.attr("id")),this._tagTemplate(),this._placeholder(),this._clearButton()},currentTag:function(e){if(e===f)return this._currentTag;this._currentTag&&(this._currentTag.removeClass(n).removeAttr("id"),this._currentTag.find(".k-select").attr("aria-hidden",!0),this.input.removeAttr("aria-activedescendant")),e&&(e.addClass(n).attr("id",this._tagID),e.find(".k-select").removeAttr("aria-hidden"),this.input.attr("aria-activedescendant",this._tagID)),this._currentTag=e},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var e=this.ns;clearTimeout(this._busy),clearTimeout(this._typingTimeout),this.wrapper.off(e),this.tagList.off(e),this.input.off(e),this._clear.off(e),r.fn.destroy.call(this)},_activateItem:function(){this.popup.visible()&&r.fn._activateItem.call(this),this.currentTag(null)},_listOptions:function(e){var t=r.fn._listOptions.call(this,h.extend(e,{selectedItemChange:o(this._selectedItemChange,this),selectable:"multiple"})),i=this.options.itemTemplate||this.options.template,n=t.itemTemplate||i||t.template;return n=n||"#:"+m.expr(t.dataTextField,"data")+"#",t.template=n,t},_setListValue:function(){r.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(e){var t=this.dataSource.flatView(),i=this._optionsMap,n=this._value;this._state===s&&(this._state="");for(var r=0;r<e.added.length;r++)if(i[n(e.added[r].dataItem)]===f){this._render(t);break}this._selectValue(e.added,e.removed)},_selectedItemChange:function(e){var t,i,n=e.items;for(i=0;i<n.length;i++)t=n[i],this.tagList.children().eq(t.index).children("span:first").html(this.tagTextTemplate(t.item))},_wrapperMousedown:function(e){var t="input"!==e.target.nodeName.toLowerCase(),i=h(e.target),n=i.hasClass("k-select")||i.hasClass("k-icon");n=n&&!i.closest(".k-select").children(".k-i-arrow-60-down").length,!t||n&&m.support.mobileOS||!e.cancelable||e.preventDefault(),n||(this.input[0]!==l()&&t&&this.input.focus(),1===this.options.minLength&&this.open())},_inputFocus:function(){this._placeholder(!1),this.wrapper.addClass(n)},_inputFocusout:function(){var e=this;clearTimeout(e._typingTimeout),e.wrapper.removeClass(n),e._placeholder(!e.listView.selectedDataItems()[0],!0),e.close(),e._state===p&&(e._state=_,e.listView.skipUpdate(!0)),e.listView.bound()&&e.listView.isFiltered()&&(e.persistTagList=!0,e._clearFilter()),e.element.blur()},_removeTag:function(e,t){var i,n=this,r=n._state,a=e.index(),s=n.listView,o=s.value()[a],l=n.listView.selectedDataItems()[a],u=n._customOptions[o],c=s.element[0].children;if(n.trigger(v,{dataItem:l,item:e}))n._close();else{u!==f||r!==_&&r!==p||(u=n._optionsMap[o]);function d(){n.currentTag(null),t&&n._change(),n._close()}u===f&&s.select().length?(n.persistTagList=!1,s.select(s.select()[a]).done(d)):((i=n.element[0].children[u])&&(i.selected=!1),s.removeAt(a),c[u]&&c[u].classList.remove("k-state-selected"),"single"!==n.options.tagMode?e.remove():n._updateTagListHTML(),d())}},_tagListClick:function(e){e.preventDefault(),e.stopPropagation();var t=h(e.currentTarget);t.children(".k-i-arrow-60-down").length||this._removeTag(t.closest("li"),!0)},_clearValue:function(){var i=this;"single"===i.options.tagMode?i._clearSingleTagValue():i.tagList.children().each(function(e,t){i._removeTag(h(t),!1)}),i.input.val(""),i._search(),i._change(),i.focus(),i._hideClear(),i._state===p&&(i._state=_)},_clearSingleTagValue:function(){for(var e=this.dataItems(),t=this.tagList.children(),i=this.persistTagList,n=0;n<e.length;n+=1)if(this.trigger(v,{dataItem:e[n],item:t.first()}))return void this._close();i&&(this.persistTagList=!1),this.listView.value([]),this.persistTagList=i},_focusHandler:function(){this.input.focus()},_editable:function(e){var t=this,i=e.disable,n=e.readonly,r=t.wrapper.off(k),a=t.tagList.off(k),s=t.element.add(t.input.off(k));n||i?(r.toggleClass(b,i).toggleClass(y,n),s.attr("disabled",i).attr("readonly",n).attr(u,i)):(r.removeClass(b).removeClass(y).on("mouseenter.kendoMultiSelect mouseleave.kendoMultiSelect",t._toggleHover).on("mousedown"+k+" touchend"+k,o(t._wrapperMousedown,t)).on(x,o(t._focusHandler,t)),t.input.on("keydown.kendoMultiSelect",o(t._keydown,t)).on("paste"+k,o(t._search,t)).on("input"+k,o(t._search,t)).on("focus"+k,o(t._inputFocus,t)).on("focusout"+k,o(t._inputFocusout,t)),t._clear.on(x+" touchend"+k,o(t._clearValue,t)),s.removeAttr("disabled").removeAttr("readonly").attr(u,!1),a.on(C,"li",function(){h(this).addClass(d)}).on(T,"li",function(){h(this).removeClass(d)}).on(x+" touchend"+k,"li.k-button .k-select",o(t._tagListClick,t)))},_close:function(){this.options.autoClose?this.close():this.popup.position()},_filterSource:function(e,t){t=t||this._retrieveData,this._retrieveData=!1,r.fn._filterSource.call(this,e,t)},close:function(){this._activeItem=null,this.input.removeAttr("aria-activedescendant"),this.popup.close()},open:function(){var e=this;e._request&&(e._retrieveData=!1),e._retrieveData||!e.listView.bound()||e._state===_?(e._open=!0,e._state=s,e.listView.skipUpdate(!0),e.persistTagList=!(e._initialOpen&&!e.listView.bound()),e._filterSource(),e._focusItem()):e._allowOpening()&&(!e._initialOpen||e.options.autoBind||e.options.virtual||!e.options.value||h.isPlainObject(e.options.value[0])||e.value(e.value()||e._initialValues),e.popup._hovered=!0,e._initialOpen=!1,e.popup.open(),e._focusItem())},toggle:function(e){e=e!==f?e:!this.popup.visible(),this[e?"open":"close"]()},refresh:function(){this.listView.refresh()},_listBound:function(){var e=this,t=e.dataSource.flatView(),i=e.listView.skip();e._render(t),e._renderFooter(),e._renderNoData(),e._toggleNoData(!t.length),e._resizePopup(),e._open&&(e._open=!1,e.toggle(e._allowOpening())),e.popup.position(),!e.options.highlightFirst||i!==f&&0!==i||e.listView.focusFirst(),e._touchScroller&&e._touchScroller.reset(),e._hideBusy(),e._makeUnselectable(),e.trigger("dataBound")},_inputValue:function(){var e=this.input.val();return this.options.placeholder===e&&(e=""),e},value:function(e){var t=this,i=t.listView,n=i.value().slice(),r=t.options.maxSelectedItems,a=i.bound()&&i.isFiltered();if(e===f)return n;t.persistTagList=!1,t.requireValueMapper(t.options,e),e=t._normalizeValues(e),null!==r&&e.length>r&&(e=e.slice(0,r)),a&&t._clearFilter(),i.value(e),t._old=t._valueBeforeCascade=e.slice(),a||t._fetchData(),t._ariaSetSize(t.value().length),t._toggleCloseVisibility()},_preselect:function(e,t){I(e)||e instanceof m.data.ObservableArray||(e=[e]),(h.isPlainObject(e[0])||e[0]instanceof m.data.ObservableObject||!this.options.dataValueField)&&(this.dataSource.data(e),this.value(t||this._initialValues),this._retrieveData=!0)},_setOption:function(e,t){var i=this.element[0].children[this._optionsMap[e]];i&&(i.selected=t)},_fetchData:function(){var e=this,t=!!e.dataSource.view().length;0===e.listView.value().length||e._request||!e._retrieveData&&(e._fetch||t)||(e._fetch=!0,e._retrieveData=!1,e.dataSource.read().done(function(){e._fetch=!1}))},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var e=this,t=e.element,i=e.options,n=i.dataSource||{};(n=I(n)?{data:n}:n).select=t,n.fields=[{field:i.dataTextField},{field:i.dataValueField}],e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._progressHandler=o(e._showBusy,e),e._errorHandler=o(e._hideBusy,e)),e.dataSource=m.data.DataSource.create(n).bind("progress",e._progressHandler).bind("error",e._errorHandler)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?h("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(e._initialValues),e._placeholder()})},e._form=n.on("reset",e._resetHandler))},_initValue:function(){var e=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(e)},_normalizeValues:function(e){var t=this;return null===e?e=[]:e&&h.isPlainObject(e)?e=[t._value(e)]:e&&h.isPlainObject(e[0])?e=h.map(e,function(e){return t._value(e)}):I(e)||e instanceof i?I(e)&&(e=e.slice()):e=[e],e},_change:function(){var e=this.value();!function(e,t){var i;if(null===e&&null!==t||null!==e&&null===t)return;if((i=e.length)!==t.length)return;for(;i--;)if(e[i]!==t[i])return;return 1}(e,this._old)&&(this._old=e.slice(),this.trigger(t),this.element.trigger(t)),this.popup.position(),this._ariaSetSize(e.length),this._toggleCloseVisibility()},_click:function(e){var t=this,i=e.item;e.preventDefault(),t._select(i).done(function(){t._activeItem=i,t._change(),t._close()})},_getActiveItem:function(){return this._activeItem||h(this.listView.items()[this._getSelectedIndices().length-1])||this.listView.focus()},_getSelectedIndices:function(){return this.listView._selectedIndices||this.listView._selectedIndexes},_keydown:function(e){var t,i=this,n=e.keyCode,r=i._currentTag,a=i.listView,s=i.input.val(),o=m.support.isRtl(i.wrapper),l=i.popup.visible(),u=0;if(n!==g.ENTER&&(this._multipleSelection=!1),n===g.DOWN){if(e.preventDefault(),!l)return i.open(),void(a.focus()||a.focusFirst());a.focus()?(!i._activeItem&&e.shiftKey&&(i._activeItem=a.focus(),u=-1),t=a.getElementIndex(i._getActiveItem().first()),a.focusNext(),a.focus()?e.shiftKey&&(this._multipleSelection=!0,i._selectRange(t,a.getElementIndex(a.focus().first())+u)):a.focusLast()):a.focusFirst()}else if(n===g.UP)l&&(!i._activeItem&&e.shiftKey&&(i._activeItem=a.focus(),u=1),t=a.getElementIndex(i._getActiveItem().first()),a.focusPrev(),a.focus()?e.shiftKey&&(this._multipleSelection=!0,i._selectRange(t,a.getElementIndex(a.focus().first())+u)):i.close()),e.preventDefault();else if(n===g.LEFT&&!o||n===g.RIGHT&&o)s||(r=r?r.prev():h(i.tagList[0].lastChild))[0]&&i.currentTag(r);else if(n===g.RIGHT&&!o||n===g.LEFT&&o)!s&&r&&(r=r.next(),i.currentTag(r[0]?r:null));else if(e.ctrlKey&&!e.altKey&&n===g.A&&l&&!i.options.virtual)this._multipleSelection=!0,this._getSelectedIndices().length===a.items().length&&(i._activeItem=null),a.items().length&&i._selectRange(0,a.items().length-1);else if(n===g.ENTER&&l){if(!a.focus())return;if(e.preventDefault(),this._multipleSelection&&(this._multipleSelection=!1,a.focus().hasClass(w)))return void i._close();i._select(a.focus()).done(function(){i._change(),i._close()})}else if(n===g.SPACEBAR&&e.ctrlKey&&l)i._activeItem&&a.focus()&&a.focus()[0]===i._activeItem[0]&&(i._activeItem=null),h(a.focus()).hasClass(w)||(i._activeItem=a.focus()),i._select(a.focus()).done(function(){i._change()}),e.preventDefault();else if(n===g.SPACEBAR&&e.shiftKey&&l){var c=a.getElementIndex(i._getActiveItem()),d=a.getElementIndex(a.focus());c!==f&&d!==f&&i._selectRange(c,d),e.preventDefault()}else if(n===g.ESC)l?e.preventDefault():(i.tagList.children().each(function(e,t){i._removeTag(h(t),!1)}),i._change()),i.close();else if(n===g.HOME)l?a.focus()?(e.ctrlKey&&e.shiftKey&&!i.options.virtual&&i._selectRange(a.getElementIndex(a.focus()[0]),0),a.focusFirst()):i.close():s||(r=i.tagList[0].firstChild)&&i.currentTag(h(r));else if(n===g.END)l?a.focus()?(e.ctrlKey&&e.shiftKey&&!i.options.virtual&&i._selectRange(a.getElementIndex(a.focus()[0]),a.element.children().length-1),a.focusLast()):i.close():s||(r=i.tagList[0].lastChild)&&i.currentTag(h(r));else if(n!==g.DELETE&&n!==g.BACKSPACE||s)if(!i.popup.visible()||n!==g.PAGEDOWN&&n!==g.PAGEUP)clearTimeout(i._typingTimeout),setTimeout(function(){i._scale()}),i._search();else{e.preventDefault();var p=n===g.PAGEDOWN?1:-1;a.scrollWith(p*a.screenHeight())}else{if(i._state=_,"single"===i.options.tagMode)return i._clearSingleTagValue(),i._change(),void i._close();n!==g.BACKSPACE||r||(r=h(i.tagList[0].lastChild)),r&&r[0]&&i._removeTag(r,!0)}},_hideBusy:function(){clearTimeout(this._busy),this.input.attr("aria-busy",!1),this._loading.addClass(a),this._request=!1,this._busy=null,this._toggleCloseVisibility()},_showBusyHandler:function(){this.input.attr("aria-busy",!0),this._loading.removeClass(a),this._hideClear()},_showBusy:function(){this._request=!0,this._busy||(this._busy=setTimeout(o(this._showBusyHandler,this),100))},_placeholder:function(e,t){var i=this.input,n=l(),r=this.options.placeholder,a=i.val(),s=i[0]===n,o=a.length;s&&!this.options.autoClose&&a!==r||(o=0,a=""),e===f&&(e=!1,i[0]!==n&&(e=!this.listView.selectedDataItems()[0])),this._prev=a,i.toggleClass("k-readonly",e).val(e?r:a),s&&!t&&m.caret(i[0],o,o),this._scale()},_scale:function(){var e,t=this.wrapper.find(".k-multiselect-wrap"),i=t.width(),n=this._span.text(this.input.val());t.is(":visible")?e=n.width()+25:(n.appendTo(document.documentElement),i=e=n.width()+25,n.appendTo(t)),this.input.width(i<e?i:e)},_option:function(e,t,i){var n="<option";return e!==f&&(-1!==(e+="").indexOf('"')&&(e=e.replace(S,"&quot;")),n+=' value="'+e+'"'),i&&(n+=" selected"),n+=">",t!==f&&(n+=m.htmlEncode(t)),n+"</option>"},_render:function(e){var t,i,n,r,a=this.listView.selectedDataItems(),s=this.listView.value(),o=e.length,l="";s.length!==a.length&&(a=this._buildSelectedItems(s));var u={},c={};for(r=0;r<o;r++)i=e[r],n=this._value(i),-1!==(t=this._selectedItemIndex(n,a))&&a.splice(t,1),c[n]=r,l+=this._option(n,this._text(i),-1!==t);if(a.length)for(r=0;r<a.length;r++)i=a[r],u[n=this._value(i)]=o,c[n]=o,o+=1,l+=this._option(n,this._text(i),!0);this._customOptions=u,this._optionsMap=c,this.element.html(l)},_buildSelectedItems:function(e){for(var t,i=this.options.dataValueField,n=this.options.dataTextField,r=[],a=0;a<e.length;a++)(t={})[i]=e[a],t[n]=e[a],r.push(t);return r},_selectedItemIndex:function(e,t){for(var i=this._value,n=0;n<t.length;n++)if(e===i(t[n]))return n;return-1},_search:function(){var t=this;clearTimeout(t._typingTimeout),t._typingTimeout=setTimeout(function(){var e=t._inputValue();t._prev!==e&&(t._prev=e,t.search(e),t._toggleCloseVisibility())},t.options.delay)},_toggleCloseVisibility:function(){this.value().length||this.input.val()&&this.input.val()!==this.options.placeholder?this._showClear():this._hideClear()},_allowOpening:function(){return this._allowSelection()&&r.fn._allowOpening.call(this)},_allowSelection:function(){var e=this.options.maxSelectedItems;return null===e||e>this.listView.value().length},_angularTagItems:function(e){var t=this;t.angular(e,function(){return{elements:t.tagList[0].children,data:h.map(t.dataItems(),function(e){return{dataItem:e}})}})},updatePersistTagList:function(e,t){this.persistTagList.added&&this.persistTagList.added.length===t.length&&this.persistTagList.removed&&this.persistTagList.removed.length===e.length?this.persistTagList=!1:(this.listView._removedAddedIndexes=this._old.slice(),this.persistTagList={added:e,removed:t})},_selectValue:function(e,t){var i,n,r,a=this,s=a.dataSource.total(),o=a.tagList,l=a._value;if(this.persistTagList)this.updatePersistTagList(e,t);else{if(a._angularTagItems("cleanup"),"multiple"===a.options.tagMode){for(r=t.length-1;-1<r;r--)i=t[r],o.children().length&&(o[0].removeChild(o[0].children[i.position]),a._setOption(l(i.dataItem),!1));for(r=0;r<e.length;r++)n=e[r],o.append(a.tagTemplate(n.dataItem)),a._setOption(l(n.dataItem),!0)}else{for((!a._maxTotal||a._maxTotal<s)&&(a._maxTotal=s),this._updateTagListHTML(),r=t.length-1;-1<r;r--)a._setOption(l(t[r].dataItem),!1);for(r=0;r<e.length;r++)a._setOption(l(e[r].dataItem),!0)}a._angularTagItems("compile"),a._placeholder()}},_updateTagListHTML:function(){var e=this.value(),t=this.dataSource.total(),i=this.tagList;i.html(""),e.length&&i.append(this.tagTemplate({values:e,dataItems:this.dataItems(),maxTotal:this._maxTotal,currentTotal:t}))},_select:function(e){var t=h.Deferred().resolve();if(!e)return t;var i=this,n=i.listView,r=n.dataItemByIndex(n.getElementIndex(e)),a=e.hasClass("k-state-selected");return i._state===s&&(i._state=""),i._allowSelection()||a?i.trigger(a?v:c,{dataItem:r,item:e})?(i._close(),t):(i.persistTagList=!1,n.select(e).done(function(){i._placeholder(),i._state===p&&(i._state=_,n.skipUpdate(!0))})):t},_selectRange:function(e,t){function i(e){a.select(e).done(function(){e.forEach(function(e){var t=a.dataItemByIndex(e),i=a.element.children()[e],n=h(i).hasClass("k-state-selected");r.trigger(n?c:v,{dataItem:t,item:h(i)})}),r._change()})}var n,r=this,a=this.listView,s=this.options.maxSelectedItems,o=this._getSelectedIndices().slice(),l=[];if(o.length-1==t-e)return i(o);if(e<t)for(n=e;n<=t;n++)l.push(n);else for(n=e;t<=n;n--)l.push(n);for(null!==s&&l.length>s&&(l=l.slice(0,s)),n=0;n<l.length;n++){var u=l[n];-1==this._getSelectedIndices().indexOf(u)?o.push(u):o.splice(o.indexOf(u),1)}return o.length?(r.persistTagList=!1,i(o)):void 0},_input:function(){var e=this.element,t=e[0].accessKey,i=this._innerWrapper.children("input.k-input");i[0]||(i=h('<input class="k-input" style="width: 25px" />').appendTo(this._innerWrapper)),e.removeAttr("accesskey"),this._focused=this.input=i.attr({accesskey:t,autocomplete:"off",role:"listbox",title:e[0].title,"aria-expanded":!1,"aria-haspopup":"listbox","aria-autocomplete":"list"})},_tagList:function(){var e=this._innerWrapper.children("ul");e[0]||(e=h('<ul unselectable="on" class="k-reset"/>').appendTo(this._innerWrapper)),this.tagList=e},_tagTemplate:function(){var e,t=this,i=t.options,n=i.tagTemplate,r=i.dataSource,a="multiple"===i.tagMode,s=i.messages.singleTag;t.element[0].length&&!r&&(i.dataTextField=i.dataTextField||"text",i.dataValueField=i.dataValueField||"value"),e=a?m.template("#:"+m.expr(i.dataTextField,"data")+"#",{useWithBlock:!1}):m.template("#:values.length# "+s),t.tagTextTemplate=n=n?m.template(n):e,t.tagTemplate=function(e){return'<li role="option" aria-selected="true" class="k-button" unselectable="on"><span unselectable="on">'+n(e)+'</span><span aria-hidden="true" unselectable="on" aria-label="'+(a?'delete" title="'+t.options.messages.deleteTag+'" aria-label="'+t.options.messages.deleteTag:"open")+'" class="k-select"><span class="k-icon '+(a?"k-i-close":"k-i-arrow-60-down")+'"></span></span></li>'}},_loader:function(){this._loading=h('<span class="k-icon k-i-loading '+a+'"></span>').insertAfter(this.input)},_clearButton:function(){r.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-multiselect-clearable"))},_textContainer:function(){var e=m.getComputedStyles(this.input[0],D);e.position="absolute",e.visibility="hidden",e.top=-3333,e.left=-3333,this._span=h("<span/>").css(e).appendTo(this.wrapper)},_wrapper:function(){var e=this.element,t=e.parent("span.k-multiselect");t[0]||((t=e.wrap('<div class="k-widget k-multiselect" unselectable="on" />').parent())[0].style.cssText=e[0].style.cssText,t[0].title=e[0].title,h('<div class="k-multiselect-wrap k-floatwrap" role="listbox" unselectable="on" />').insertBefore(e)),this.wrapper=t.addClass(e[0].className).removeClass("input-validation-error").css("display",""),this._innerWrapper=h(t[0].firstChild)},_ariaSetSize:function(e){var t=this.tagList.children();e&&t.length&&t.attr("aria-setsize",e)},_ariaSetLive:function(){this.ul.attr("aria-live",this._isFilterEnabled()?"polite":"off")}});e.plugin(F)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.numerictextbox",["kendo.core","kendo.userevents"],function(){var e={id:"numerictextbox",name:"NumericTextBox",category:"web",description:"The NumericTextBox widget can format and display numeric, percentage or currency textbox.",depends:["core","userevents"]};return function(u,c){var d=window.kendo,p=d.caret,i=d.keys,e=d.ui,h=e.Widget,s=d._activeElement,f=d._extractFormat,n=d.parseFloat,r=d.support.placeholder,t=d.getCulture,a="change",m=".kendoNumericTextBox",o="mouseenter"+m+" mouseleave.kendoNumericTextBox",l="k-state-default",g="k-state-focused",_="k-state-hover",v="k-icon",w="k-state-selected",b="k-state-disabled",y="k-state-invalid",k="aria-disabled",x=/^(-)?(\d*)$/,C=null,T=u.proxy,S=u.extend,I=h.extend({init:function(e,t){var i,n,r,a,s,o=this,l=t&&t.step!==c;h.fn.init.call(o,e,t),t=o.options,e=o.element.on("focusout"+m,T(o._focusout,o)).attr("role","spinbutton"),t.placeholder=t.placeholder||e.attr("placeholder"),i=o.min(e.attr("min")),n=o.max(e.attr("max")),r=o._parse(e.attr("step")),t.min===C&&i!==C&&(t.min=i),t.max===C&&n!==C&&(t.max=n),l||r===C||(t.step=r),o._initialOptions=S({},t),s=e.attr("type"),o._reset(),o._wrapper(),o._arrows(),o._validation(),o._input(),d.support.mobileOS?o._text.on("touchend"+m+" focus"+m,function(){d.support.browser.edge?o._text.one("focus"+m,function(){o._toggleText(!1),e.focus()}):(o._toggleText(!1),e.focus())}):o._text.on("focus"+m,T(o._click,o)),e.attr("aria-valuemin",t.min!==C?t.min*t.factor:t.min).attr("aria-valuemax",t.max!==C?t.max*t.factor:t.max),t.format=f(t.format),(a=t.value)==C&&(a="number"==s?parseFloat(e.val()):e.val()),o.value(a),e.is("[disabled]")||u(o.element).parents("fieldset").is(":disabled")?o.enable(!1):o.readonly(e.is("[readonly]")),o.angular("compile",function(){return{elements:o._text.get()}}),d.notify(o)},options:{name:"NumericTextBox",decimals:C,restrictDecimals:!1,min:C,max:C,value:C,step:1,round:!0,culture:"",format:"n",spinners:!0,placeholder:"",factor:1,upArrowText:"Increase value",downArrowText:"Decrease value"},events:[a,"spin"],_editable:function(e){var t=this,i=t.element,n=e.disable,r=e.readonly,a=t._text.add(i),s=t._inputWrapper.off(o);t._toggleText(!0),t._upArrowEventHandler.unbind("press"),t._downArrowEventHandler.unbind("press"),i.off("keydown"+m).off("keyup"+m).off("input"+m).off("paste"+m),r||n?(s.addClass(n?b:l).removeClass(n?l:b),a.attr("disabled",n).attr("readonly",r).attr(k,n)):(s.addClass(l).removeClass(b).on(o,t._toggleHover),a.removeAttr("disabled").removeAttr("readonly").attr(k,!1),t._upArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(w)}),t._downArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(w)}),t.element.on("keydown"+m,T(t._keydown,t)).on("keyup"+m,T(t._keyup,t)).on("paste"+m,T(t._paste,t)).on("input"+m,T(t._inputHandler,t)))},readonly:function(e){this._editable({readonly:e===c||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===c||e)})},setOptions:function(e){var t=this;h.fn.setOptions.call(t,e),t._arrowsWrap.toggle(t.options.spinners),t._inputWrapper.toggleClass("k-expand-padding",!t.options.spinners),t._text.prop("placeholder",t.options.placeholder),t._placeholder(t.options.placeholder),t.element.attr({"aria-valuemin":t.options.min!==C?t.options.min*t.options.factor:t.options.min,"aria-valuemax":t.options.max!==C?t.options.max*t.options.factor:t.options.max}),t.options.format=f(t.options.format),e.value!==c&&t.value(e.value)},destroy:function(){var e=this;e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(m),e._upArrowEventHandler.destroy(),e._downArrowEventHandler.destroy(),e._form&&e._form.off("reset",e._resetHandler),h.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){if(e===c)return this._value;(e=this._parse(e))===this._adjust(e)&&(this._update(e),this._old=this._value)},focus:function(){this._focusin()},_adjust:function(e){var t=this.options,i=t.min,n=t.max;return e===C||(i!==C&&e<i?e=i:n!==C&&n<e&&(e=n)),e},_arrows:function(){function e(){clearTimeout(i._spinning),t.removeClass(w)}var t,i=this,n=i.options,r=n.spinners,a=i.element;(t=a.siblings("."+v))[0]||(t=u(D("increase",n.upArrowText)+D("decrease",n.downArrowText)).insertAfter(a),i._arrowsWrap=t.wrapAll('<span class="k-select"/>').parent()),r||(t.parent().toggle(r),i._inputWrapper.addClass("k-expand-padding")),i._upArrow=t.eq(0),i._upArrowEventHandler=new d.UserEvents(i._upArrow,{release:e}),i._downArrow=t.eq(1),i._downArrowEventHandler=new d.UserEvents(i._downArrow,{release:e})},_validation:function(){var e=this.element;this._validationIcon=u("<span class='k-icon k-i-warning'></span>").hide().insertAfter(e)},_blur:function(){this._toggleText(!0),this._change(this.element.val())},_click:function(u){var c=this;clearTimeout(c._focusing),c._focusing=setTimeout(function(){var e,t,i,n=u.target,r=p(n)[0],a=n.value.substring(0,r),s=c._format(c.options.format),o=s[","],l=0;o&&(t=new RegExp("\\"+o,"g"),i=new RegExp("(^(-)$)|(^(-)?([\\d\\"+o+"]+)(\\"+s["."]+")?(\\d+)?)")),i&&(e=i.exec(a)),e&&(l=e[0].replace(t,"").length,-1!=a.indexOf("(")&&c._value<0&&l++),c._focusin(),p(c.element[0],l)})},_change:function(e){var t=this.options.factor;t&&1!==t&&null!==(e=d.parseFloat(e))&&(e/=t),this._update(e),e=this._value,this._old!=e&&(this._old=e,this._typing||this.element.trigger(a),this.trigger(a)),this._typing=!1},_culture:function(e){return e||t(this.options.culture)},_focusin:function(){this._inputWrapper.addClass(g),this._toggleText(!1),this.element[0].focus()},_focusout:function(){clearTimeout(this._focusing),this._inputWrapper.removeClass(g).removeClass(_),this._blur(),this._removeInvalidState()},_format:function(e,t){var i=this._culture(t).numberFormat;return-1<(e=e.toLowerCase()).indexOf("c")?i=i.currency:-1<e.indexOf("p")&&(i=i.percent),i},_input:function(){var e,t=this.options,i="k-formatted-value",n=this.element.addClass("k-input").show()[0],r=n.accessKey;(e=this.wrapper.find("."+i))[0]||(e=u('<input type="text"/>').insertBefore(n).addClass(i));try{n.setAttribute("type","text")}catch(e){n.type="text"}e[0].title=n.title,e[0].tabIndex=n.tabIndex,e[0].style.cssText=n.style.cssText,e.prop("placeholder",t.placeholder),r&&(e.attr("accesskey",r),n.accessKey=""),this._text=e.addClass(n.className).attr({role:"spinbutton","aria-valuemin":t.min!==C?t.min*t.factor:t.min,"aria-valuemax":t.max!==C?t.max*t.factor:t.max,autocomplete:"off"})},_keydown:function(e){var t=e.keyCode;t!=i.DOWN?t!=i.UP?t!=i.ENTER?(t!=i.TAB&&(this._typing=!0),this._cachedCaret=p(this.element)):this._change(this.element.val()):this._step(1):this._step(-1)},_keyup:function(){this._removeInvalidState()},_inputHandler:function(){var e=this.element,t=e.val(),i=this._format(this.options.format);this._numericRegex(i).test(t)?this._oldText=t:(this._blinkInvalidState(),this.element.val(this._oldText),this._cachedCaret&&(p(e,this._cachedCaret[0]),this._cachedCaret=null))},_blinkInvalidState:function(){this._addInvalidState(),clearTimeout(this._invalidStateTimeout),this._invalidStateTimeout=setTimeout(T(this._removeInvalidState,this),100)},_addInvalidState:function(){this._inputWrapper.addClass(y),this._validationIcon.show()},_removeInvalidState:function(){this._inputWrapper.removeClass(y),this._validationIcon.hide(),this._invalidStateTimeout=null},_numericRegex:function(e){var t=e["."],i=this.options.decimals,n="*";return"."===t&&(t="\\"+t),i===C&&(i=e.decimals),0===i&&this.options.restrictDecimals?x:(this.options.restrictDecimals&&(n="{0,"+i+"}"),this._separator!==t&&(this._separator=t,this._floatRegExp=new RegExp("^(-)?(((\\d+("+t+"\\d"+n+")?)|("+t+"\\d"+n+")))?$")),this._floatRegExp)},_paste:function(e){var t=this,i=e.target,n=i.value,r=t._format(t.options.format);setTimeout(function(){var e=t._parse(i.value);e===C?t._update(n):(i.value=e.toString().replace(".",r["."]),t._adjust(e)===e&&t._numericRegex(r).test(i.value)||t._update(n))})},_option:function(e,t){var i=this.element,n=this.options;if(t===c)return n[e];!(t=this._parse(t))&&"step"===e||(n[e]=t,i.add(this._text).attr("aria-value"+e,t),i.attr(e,t))},_spin:function(e,t){var i=this;t=t||500,clearTimeout(i._spinning),i._spinning=setTimeout(function(){i._spin(e,50)},t),i._step(e)},_step:function(e){var t=this,i=t.element,n=t._value,r=t._parse(i.val())||0,a=t.options.decimals||2;s()!=i[0]&&t._focusin(),t.options.factor&&r&&(r/=t.options.factor),r=+(r+t.options.step*e).toFixed(a),r=t._adjust(r),t._update(r),t._typing=!1,n!==r&&t.trigger("spin")},_toggleHover:function(e){u(e.currentTarget).toggleClass(_,"mouseenter"===e.type)},_toggleText:function(e){this._text.toggle(e),this.element.toggle(!e)},_parse:function(e,t){return n(e,this._culture(t),this.options.format)},_round:function(e,t){return(this.options.round?d._round:F)(e,t)},_update:function(e){var t,i=this,n=i.options,r=n.factor,a=n.format,s=n.decimals,o=i._culture(),l=i._format(a,o);s===C&&(s=l.decimals),(t=(e=i._parse(e,o))!==C)&&(e=parseFloat(i._round(e,s),10)),i._value=e=i._adjust(e),i._placeholder(d.toString(e,a,o)),e=t?(r&&(e=parseFloat(i._round(e*r,s),10)),-1!==(e=e.toString()).indexOf("e")&&(e=i._round(+e,s)),e.replace(".",l["."])):null,i.element.val(e),i._oldText=e,i.element.add(i._text).attr("aria-valuenow",e)},_placeholder:function(e){var t=this._text;t.val(e),r||e||t.val(this.options.placeholder),t.attr("title",this.element.attr("title")||t.val())},_wrapper:function(){var e,t=this.element,i=t[0];(e=t.parents(".k-numerictextbox")).is("span.k-numerictextbox")||(e=(e=t.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent()).wrap("<span/>").parent()),e[0].style.cssText=i.style.cssText,i.style.width="",this.wrapper=e.addClass("k-widget k-numerictextbox").addClass(i.className).removeClass("input-validation-error").css("display",""),this._inputWrapper=u(e[0].firstChild)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?u("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(t[0].value),e.max(e._initialOptions.max),e.min(e._initialOptions.min)})},e._form=n.on("reset",e._resetHandler))}});function D(e,t){return'<span unselectable="on" class="k-link k-link-'+e+'" aria-label="'+t+'" title="'+t+'"><span unselectable="on" class="'+v+" "+("k-i-arrow-"+("increase"===e?"60-up":"60-down"))+'"></span></span>'}function F(e,t){var i=parseFloat(e,10).toString().split(".");return i[1]&&(i[1]=i[1].substring(0,t)),i.join(".")}e.plugin(I)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.toolbar",["kendo.core","kendo.userevents","kendo.popup"],function(){var e={id:"toolbar",name:"ToolBar",category:"web",description:"The ToolBar widget displays one or more command buttons divided into groups.",depends:["core"]};return function(f,n){var u=window.kendo,e=u.Class,r=u.ui.Widget,a=f.proxy,c=u.isFunction,m=u.keys,s=u._outerWidth,o=".kendoToolBar",d="k-button",p="k-overflow-button",l="k-toggle-button",g="k-button-group",_="k-split-button",h="k-separator",v="spacer",w="k-state-active",b="k-state-disabled",y="k-state-hidden",k="k-icon",x="k-i-",C="k-split-button-arrow",T="k-overflow-anchor",S="k-overflow-container",I="k-toolbar-first-visible",D="k-toolbar-last-visible",F="click",E="overflowOpen",A="overflowClose",i="k-overflow-hidden",M="_optionlist",O=u.attr("uid");u.toolbar={};var H={overflowAnchor:'<div tabindex="0" class="k-overflow-anchor k-button"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};u.toolbar.registerComponent=function(e,t,i){H[e]={toolbar:t,overflow:i}};var t=u.Class.extend({addOverflowAttr:function(){this.element.attr(u.attr("overflow"),this.options.overflow||"auto")},addUidAttr:function(){this.element.attr(O,this.options.uid)},addIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id)},addOverflowIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id+"_overflow")},attributes:function(){this.options.attributes&&this.element.attr(this.options.attributes)},show:function(){this.element.removeClass(y).show(),this.options.hidden=!1},hide:function(){this.element.addClass(y).hide(),this.overflow&&this.overflowHidden&&this.overflowHidden(),this.options.hidden=!0},remove:function(){this.element.remove()},enable:function(e){e===n&&(e=!0),this.element.toggleClass(b,!e),this.options.enable=e},twin:function(){var e=this.element.attr(O);return this.overflow&&this.options.splitContainerId?f("#"+this.options.splitContainerId).find("["+O+"='"+e+"']").data(this.options.type):this.overflow?this.toolbar.element.find("["+O+"='"+e+"']").data(this.options.type):this.toolbar.options.resizable?this.toolbar.popup.element.find("["+O+"='"+e+"']").data(this.options.type):void 0}}),P=(u.toolbar.Item=t).extend({init:function(e,t){var i=e.useButtonTag?f('<button tabindex="0"></button>'):f('<a role="button" href tabindex="0"></a>');this.element=i,this.options=e,this.toolbar=t,this.attributes(),e.primary&&i.addClass("k-primary"),e.togglable&&(i.addClass(l),this.toggle(e.selected)),e.url===n||e.useButtonTag||(i.attr("href",e.url),e.mobile&&i.attr(u.attr("role"),"button")),e.group&&(i.attr(u.attr("group"),e.group),this.group=this.toolbar.addToGroup(this,e.group)),!e.togglable&&e.click&&c(e.click)&&(this.clickHandler=e.click),e.togglable&&e.toggle&&c(e.toggle)&&(this.toggleHandler=e.toggle)},toggle:function(e,t){e=!!e,this.group&&e?this.group.select(this):this.group||this.select(e),t&&this.twin()&&this.twin().toggle(e)},getParentGroup:function(){if(this.options.isChild)return this.element.closest("."+g).data("buttonGroup")},_addGraphics:function(){var i,e,t,n=this.element,r=this.options.icon,a=this.options.spriteCssClass,s=this.options.imageUrl;(a||s||r)&&(i=!0,n.contents().filter(function(){return!f(this).hasClass("k-sprite")&&!f(this).hasClass(k)&&!f(this).hasClass("k-image")}).each(function(e,t){(1==t.nodeType||3==t.nodeType&&0<f.trim(t.nodeValue).length)&&(i=!1)}),i?n.addClass("k-button-icon"):n.addClass("k-button-icontext")),r?((e=n.children("span."+k).first())[0]||(e=f('<span class="'+k+'"></span>').prependTo(n)),e.addClass(x+r)):a?((e=n.children("span.k-sprite").first())[0]||(e=f('<span class="k-sprite '+k+'"></span>').prependTo(n)),e.addClass(a)):s&&((t=n.children("img.k-image").first())[0]||(t=f('<img alt="icon" class="k-image" />').prependTo(n)),t.attr("src",s))}}),z=(u.toolbar.Button=P).extend({init:function(e,t){P.fn.init.call(this,e,t);var i=this.element;i.addClass(d),this.addIdAttr(),e.align&&i.addClass("k-align-"+e.align),"overflow"!=e.showText&&e.text&&(e.mobile?i.html('<span class="km-text">'+e.text+"</span>"):i.html(e.text)),e.hasIcon="overflow"!=e.showIcon&&(e.icon||e.spriteCssClass||e.imageUrl),e.hasIcon&&this._addGraphics(),this.addUidAttr(),this.addOverflowAttr(),this.enable(e.enable),e.hidden&&this.hide(),this.element.data({type:"button",button:this})},select:function(e){e===n&&(e=!1),this.element.toggleClass(w,e),this.options.selected=e}});u.toolbar.ToolBarButton=z;var V=P.extend({init:function(e,t){this.overflow=!0,P.fn.init.call(this,f.extend({},e),t);var i=this.element;"toolbar"!=e.showText&&e.text&&(e.mobile?i.html('<span class="km-text">'+e.text+"</span>"):i.html('<span class="k-text">'+e.text+"</span>")),e.hasIcon="toolbar"!=e.showIcon&&(e.icon||e.spriteCssClass||e.imageUrl),e.hasIcon&&this._addGraphics(),e.isChild||this._wrap(),this.addOverflowIdAttr(),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.enable(e.enable),i.addClass(p+" "+d),e.hidden&&this.hide(),e.togglable&&this.toggle(e.selected),this.element.data({type:"button",button:this})},_wrap:function(){this.element=this.element.wrap("<li></li>").parent()},overflowHidden:function(){this.element.addClass(i)},select:function(e){e===n&&(e=!1),this.options.isChild?this.element.toggleClass(w,e):this.element.find(".k-button").toggleClass(w,e),this.options.selected=e}});u.toolbar.OverflowButton=V,u.toolbar.registerComponent("button",z,V);var L=t.extend({createButtons:function(e){for(var t=this.options,i=t.buttons||[],n=0;n<i.length;n++)i[n].uid||(i[n].uid=u.guid()),new e(f.extend({mobile:t.mobile,isChild:!0,type:"button"},i[n]),this.toolbar).element.appendTo(this.element)},refresh:function(){this.element.children().filter(":not('."+y+"'):first").addClass("k-group-start"),this.element.children().filter(":not('."+y+"'):last").addClass("k-group-end")}}),B=(u.toolbar.ButtonGroup=L).extend({init:function(e,t){var i=this.element=f("<div></div>");this.options=e,this.toolbar=t,this.addIdAttr(),e.align&&i.addClass("k-align-"+e.align),this.createButtons(z),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),i.addClass(g),this.element.data({type:"buttonGroup",buttonGroup:this})}});u.toolbar.ToolBarButtonGroup=B;var R=L.extend({init:function(e,t){var i=this.element=f("<li></li>");this.options=e,this.toolbar=t,this.overflow=!0,this.addOverflowIdAttr(),this.createButtons(V),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),i.addClass((e.mobile?"":g)+" k-overflow-group"),this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(i)}});u.toolbar.OverflowButtonGroup=R,u.toolbar.registerComponent("buttonGroup",B,R);var N=t.extend({init:function(e,t){var i=this.element=f('<div class="'+_+'" tabindex="0"></div>');this.options=e,this.toolbar=t,this.mainButton=new z(f.extend({},e,{hidden:!1}),t),this.arrowButton=f('<a class="'+d+" "+C+'"><span class="'+(e.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-60-down")+'"></span></a>'),this.popupElement=f('<ul class="k-list-container k-split-container"></ul>'),this.mainButton.element.removeAttr("href tabindex").appendTo(i),this.arrowButton.appendTo(i),this.popupElement.appendTo(i),e.align&&i.addClass("k-align-"+e.align),e.id||(e.id=e.uid),i.attr("id",e.id+"_wrapper"),this.addOverflowAttr(),this.addUidAttr(),this.createMenuButtons(),this.createPopup(),this._navigatable(),this.mainButton.main=!0,this.enable(e.enable),e.hidden&&this.hide(),i.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},_navigatable:function(){var i=this;i.popupElement.on("keydown"+o,"."+d,function(e){var t=f(e.target).parent();e.preventDefault(),e.keyCode===m.ESC||e.keyCode===m.TAB||e.altKey&&e.keyCode===m.UP?(i.toggle(),i.focus()):e.keyCode===m.DOWN?J(t,"next").focus():e.keyCode===m.UP?J(t,"prev").focus():e.keyCode===m.SPACEBAR||e.keyCode===m.ENTER?i.toolbar.userEvents.trigger("tap",{target:f(e.target)}):e.keyCode===m.HOME?t.parent().find(":kendoFocusable").first().focus():e.keyCode===m.END&&t.parent().find(":kendoFocusable").last().focus()})},createMenuButtons:function(){for(var e=this.options,t=e.menuButtons,i=0;i<t.length;i++)new z(f.extend({mobile:e.mobile,type:"button",click:e.click},t[i]),this.toolbar).element.wrap("<li></li>").parent().appendTo(this.popupElement)},createPopup:function(){var t=this,e=this.options,i=this.element;this.popupElement.attr("id",e.id+M).attr(O,e.rootUid),e.mobile&&(this.popupElement=K(this.popupElement)),this.popup=this.popupElement.kendoPopup({appendTo:e.mobile?f(e.mobile).children(".km-pane"):null,anchor:i,isRtl:this.toolbar._isRtl,copyAnchorStyles:!1,animation:e.animation,open:function(e){t.toolbar.trigger("open",{target:i})?e.preventDefault():t.adjustPopupWidth(e.sender)},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(e){t.toolbar.trigger("close",{target:i})&&e.preventDefault(),i.focus()}}).data("kendoPopup"),this.popup.element.on(F+o,"a.k-button",Q)},adjustPopupWidth:function(e){var t,i=e.options.anchor,n=s(i);u.wrap(e.element).addClass("k-split-wrapper"),t="border-box"!==e.element.css("box-sizing")?n-(s(e.element)-e.element.width()):n,e.element.css({fontFamily:i.css("font-family"),"min-width":t})},remove:function(){this.popup.element.off(F+o,"a.k-button"),this.popup.destroy(),this.element.remove()},toggle:function(){(this.options.enable||this.popup.visible())&&this.popup.toggle()},enable:function(e){e===n&&(e=!0),this.mainButton.enable(e),this.element.toggleClass(b,!e),this.options.enable=e},focus:function(){this.element.focus()},hide:function(){this.popup&&this.popup.close(),this.element.addClass(y).hide(),this.options.hidden=!0},show:function(){this.element.removeClass(y).hide(),this.options.hidden=!1}});u.toolbar.ToolBarSplitButton=N;var W=t.extend({init:function(e,t){var i,n=this.element=f('<li class="'+_+'"></li>'),r=e.menuButtons;this.options=e,this.toolbar=t,this.overflow=!0,i=(e.id||e.uid)+M,this.mainButton=new V(f.extend({isChild:!0},e)),this.mainButton.element.appendTo(n);for(var a=0;a<r.length;a++)new V(f.extend({mobile:e.mobile,type:"button",splitContainerId:i,isChild:!0},r[a]),this.toolbar).element.appendTo(n);this.addUidAttr(),this.addOverflowAttr(),this.mainButton.main=!0,n.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass(i)}});u.toolbar.OverflowSplitButton=W,u.toolbar.registerComponent("splitButton",N,W);var U=t.extend({init:function(e,t){var i=this.element=f("<div>&nbsp;</div>");this.element=i,this.options=e,this.toolbar=t,this.attributes(),this.addIdAttr(),this.addUidAttr(),this.addOverflowAttr(),i.addClass(h),i.data({type:"separator",separator:this})}}),q=t.extend({init:function(e,t){var i=this.element=f("<li>&nbsp;</li>");this.element=i,this.options=e,this.toolbar=t,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),i.addClass(h),i.data({type:"separator",separator:this})},overflowHidden:function(){this.element.addClass(i)}});u.toolbar.registerComponent("separator",U,q);var j=t.extend({init:function(e,t){var i=this.element=f("<div>&nbsp;</div>");this.element=i,this.options=e,this.toolbar=t,i.addClass("k-spacer"),i.data({type:v})}});u.toolbar.registerComponent(v,j);var G=t.extend({init:function(e,t,i){var n=c(e)?e(t):e;n=n instanceof jQuery?n.wrap("<div></div>").parent():f("<div></div>").html(n),this.element=n,this.options=t,this.options.type="template",this.toolbar=i,this.attributes(),this.addUidAttr(),this.addIdAttr(),this.addOverflowAttr(),n.data({type:"template",template:this})}});u.toolbar.TemplateItem=G;var Y=t.extend({init:function(e,t,i){var n=c(e)?f(e(t)):f(e);n=n instanceof jQuery?n.wrap("<li></li>").parent():f("<li></li>").html(n),this.element=n,this.options=t,this.options.type="template",this.toolbar=i,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),this.addOverflowAttr(),n.data({type:"template",template:this})},overflowHidden:function(){this.element.addClass(i)}});function $(e){e.target.is(".k-toggle-button")||e.target.toggleClass(w,"press"==e.type)}function K(e){return(e=f(e)).hasClass("km-actionsheet")?e.closest(".km-popup-wrapper"):e.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function Q(e){f(e.target).closest("a.k-button").length&&e.preventDefault()}function J(e,t){var i="next"===t?f.fn.next:f.fn.prev,n="next"===t?f.fn.first:f.fn.last,r=i.call(e);return!r.length&&e.is("."+T)?e:r.is(":kendoFocusable")||!r.length?r:r.find(":kendoFocusable").length?n.call(r.find(":kendoFocusable")):J(r,t)}u.toolbar.OverflowTemplateItem=Y;var X=e.extend({init:function(e){this.name=e,this.buttons=[]},add:function(e){this.buttons[this.buttons.length]=e},remove:function(e){var t=f.inArray(e,this.buttons);this.buttons.splice(t,1)},select:function(e){for(var t=0;t<this.buttons.length;t++)this.buttons[t].select(!1);e.select(!0),e.twin()&&e.twin().select(!0)}}),Z=r.extend({init:function(e,t){var i=this;if(r.fn.init.call(i,e,t),t=i.options,(e=i.wrapper=i.element).addClass("k-toolbar k-widget"),this.uid=u.guid(),this._isRtl=u.support.isRtl(e),this._groups={},e.attr(O,this.uid),i.isMobile="boolean"==typeof t.mobile?t.mobile:i.element.closest(".km-root")[0],i.animation=i.isMobile?{open:{effects:"fade"}}:{},i.isMobile&&(e.addClass("km-widget"),k="km-icon",x="km-",d="km-button",g="km-buttongroup",w="km-state-active",b="km-state-disabled"),t.resizable?(i._renderOverflow(),e.addClass("k-toolbar-resizable"),i.overflowUserEvents=new u.UserEvents(i.element,{threshold:5,allowSelection:!0,filter:"."+T,tap:a(i._toggleOverflow,i)}),i._resizeHandler=u.onResize(function(){i.resize()})):i.popup={element:f([])},t.items&&t.items.length){for(var n=0;n<t.items.length;n++)i.add(t.items[n]);t.resizable&&i._shrink(i.element.innerWidth())}i.userEvents=new u.UserEvents(document,{threshold:5,allowSelection:!0,filter:"["+O+"="+this.uid+"] a."+d+", ["+O+"="+this.uid+"] ."+p,tap:a(i._buttonClick,i),press:$,release:$}),i.element.on(F+o,"a.k-button",Q),i._navigatable(),t.resizable&&i.popup.element.on(F+o,NaN,Q),t.resizable&&this._toggleOverflowAnchor(),u.notify(i)},events:[F,"toggle","open","close",E,A],options:{name:"ToolBar",items:[],resizable:!0,mobile:null},addToGroup:function(e,t){var i;return(i=this._groups[t]?this._groups[t]:this._groups[t]=new X).add(e),i},destroy:function(){this.element.find("."+_).each(function(e,t){f(t).data("kendoPopup").destroy()}),this.element.off(o,"a.k-button"),this.userEvents.destroy(),this.options.resizable&&(u.unbindResize(this._resizeHandler),this.overflowUserEvents.destroy(),this.popup.element.off(o,"a.k-button"),this.popup.destroy()),r.fn.destroy.call(this)},add:function(e){var t,i,n=H[e.type],r=e.template,a=this,s=a.isMobile?"":"k-item k-state-default",o=e.overflowTemplate;if(f.extend(e,{uid:u.guid(),animation:a.animation,mobile:a.isMobile,rootUid:a.uid}),e.menuButtons)for(var l=0;l<e.menuButtons.length;l++)f.extend(e.menuButtons[l],{uid:u.guid()});r&&!o||e.type===v?e.overflow="never":e.overflow||(e.overflow="auto"),"never"!==e.overflow&&a.options.resizable&&(o?i=new Y(o,e,a):n&&(i=new n.overflow(e,a)).element.addClass(s),i&&("auto"===e.overflow&&i.overflowHidden(),i.element.appendTo(a.popup.container),a.angular("compile",function(){return{elements:i.element.get()}}))),"always"!==e.overflow&&(r?t=new G(r,e,a):n&&(t=new n.toolbar(e,a)),t&&(t.element.appendTo(a.element),a.angular("compile",function(){return{elements:t.element.get()}})))},_getItem:function(e){var t,i,n,r,a=this.options.resizable;return(t=this.element.find(e)).length||(t=f(".k-split-container[data-uid="+this.uid+"]").find(e)),r=t.length?t.data("type"):"",(i=t.data(r))?(i.main&&(r="splitButton",i=(t=t.parent("."+_)).data(r)),a&&(n=i.twin())):a&&(r=(t=this.popup.element.find(e)).length?t.data("type"):"",(n=t.data(r))&&n.main&&(r="splitButton",n=(t=t.parent("."+_)).data(r))),{type:r,toolbar:i,overflow:n}},remove:function(e){var t=this._getItem(e);t.toolbar&&t.toolbar.remove(),t.overflow&&t.overflow.remove(),this.resize(!0)},hide:function(e){var t,i=this._getItem(e);i.toolbar&&("button"===i.toolbar.options.type&&i.toolbar.options.isChild?(t=i.toolbar.getParentGroup(),i.toolbar.hide(),t&&t.refresh()):i.toolbar.options.hidden||i.toolbar.hide()),i.overflow&&("button"===i.overflow.options.type&&i.overflow.options.isChild?(t=i.overflow.getParentGroup(),i.overflow.hide(),t&&t.refresh()):i.overflow.options.hidden||i.overflow.hide()),this.resize(!0)},show:function(e){var t=this._getItem(e);t.toolbar&&("button"===t.toolbar.options.type&&t.toolbar.options.isChild?(t.toolbar.show(),t.toolbar.getParentGroup().refresh()):t.toolbar.options.hidden&&t.toolbar.show()),t.overflow&&("button"===t.overflow.options.type&&t.overflow.options.isChild?(t.toolbar.show(),t.overflow.getParentGroup().refresh()):t.overflow.options.hidden&&t.overflow.show()),this.resize(!0)},enable:function(e,t){var i=this._getItem(e);void 0===t&&(t=!0),i.toolbar&&i.toolbar.enable(t),i.overflow&&i.overflow.enable(t)},getSelectedFromGroup:function(e){return this.element.find("."+l+"[data-group='"+e+"']").filter("."+w)},toggle:function(e,t){var i=f(e).data("button");i.options.togglable&&(t===n&&(t=!0),i.toggle(t,!0))},_renderOverflow:function(){var r=this,e=H.overflowContainer,i=r._isRtl,t=i?"left":"right";r.overflowAnchor=f(H.overflowAnchor).addClass(d),r.element.append(r.overflowAnchor),r.isMobile?(r.overflowAnchor.append('<span class="km-icon km-more"></span>'),e=K(e)):r.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>'),r.popup=new u.ui.Popup(e,{origin:"bottom "+t,position:"top "+t,anchor:r.overflowAnchor,isRtl:i,animation:r.animation,appendTo:r.isMobile?f(r.isMobile).children(".km-pane"):null,copyAnchorStyles:!1,open:function(e){var t=u.wrap(r.popup.element).addClass("k-overflow-wrapper");r.isMobile?r.popup.container.css("max-height",parseFloat(f(".km-content:visible").innerHeight())-15+"px"):t.css("margin-left",(i?-1:1)*((s(t)-t.width())/2+1)),r.trigger(E)&&e.preventDefault()},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(e){r.trigger(A)&&e.preventDefault(),this.element.focus()}}),r.popup.element.on("keydown"+o,"."+d,function(e){var t=f(e.target),i=t.parent(),n=i.is("."+g)||i.is("."+_);e.preventDefault(),e.keyCode===m.ESC||e.keyCode===m.TAB||e.altKey&&e.keyCode===m.UP?(r._toggleOverflow(),r.overflowAnchor.focus()):e.keyCode===m.DOWN?J(!n||n&&t.is(":last-child")?i:t,"next").focus():e.keyCode===m.UP?J(!n||n&&t.is(":first-child")?i:t,"prev").focus():e.keyCode===m.SPACEBAR||e.keyCode===m.ENTER?(r.userEvents.trigger("tap",{target:f(e.target)}),r.overflowAnchor.focus()):e.keyCode===m.HOME?i.parent().find(":kendoFocusable").first().focus():e.keyCode===m.END&&i.parent().find(":kendoFocusable").last().focus()}),r.isMobile?r.popup.container=r.popup.element.find("."+S):r.popup.container=r.popup.element,r.popup.container.attr(O,this.uid)},_toggleOverflowAnchor:function(){var e=this._isRtl?"padding-left":"padding-right";(this.options.mobile?0<this.popup.element.find("."+S).children(":not(."+i+", .k-popup)").length:0<this.popup.element.children(":not(."+i+", .k-popup)").length)?(this.overflowAnchor.css({visibility:"visible",width:""}),this.wrapper.css(e,this.overflowAnchor.outerWidth(!0))):(this.overflowAnchor.css({visibility:"hidden",width:"1px"}),this.wrapper.css(e,""))},_buttonClick:function(e){var t,i,n,r,a,s,o=this,l=e.target.closest("."+C).length;e.preventDefault(),l?o._toggle(e):(t=f(e.target).closest("."+d,o.element)).hasClass(T)||(!(i=t.data("button"))&&o.popup&&(i=(t=f(e.target).closest("."+p,o.popup.container)).parent("li").data("button")),i&&i.options.enable&&(i.options.togglable?(r=c(i.toggleHandler)?i.toggleHandler:null,i.toggle(!i.options.selected,!0),a={target:t,group:i.options.group,checked:i.options.selected,id:i.options.id,item:i},r&&r.call(o,a),o.trigger("toggle",a)):(r=c(i.clickHandler)?i.clickHandler:null,a={sender:o,target:t,id:i.options.id,item:i},r&&r.call(o,a),o.trigger(F,a)),i.options.url&&(i.options.attributes&&i.options.attributes.target&&(s=i.options.attributes.target),window.open(i.options.url,s||"_self")),t.hasClass(p)&&o.popup.close(),(n=t.closest(".k-split-container"))[0]&&(n.data("kendoPopup")||n.parents(".km-popup-wrapper").data("kendoPopup")).close()))},_navigatable:function(){this.element.attr("tabindex",0).on("focusin"+o,function(e){var t=f(e.target),i=f(this).find(":kendoFocusable:first");t.is(".k-toolbar")&&0!==i.length&&(i.is("."+T)&&(i=J(i,"next")),i.length&&i[0].focus())}).on("keydown"+o,a(this._keydown,this))},_keydown:function(e){var t=f(e.target),i=e.keyCode,n=this.element.children(":not(.k-separator):visible"),r=this._isRtl?-1:1;if(i===m.TAB){var a=t.parentsUntil(this.element).last(),s=!1,o=!1,l=!1;if(n.not("."+T).length||(l=!0),a.length||(a=t),a.is("."+T)&&!l){var u=n.last();e.shiftKey&&e.preventDefault(),u.is(":kendoFocusable")?n.last().focus():n.last().find(":kendoFocusable").last().focus()}e.shiftKey||n.index(a)!==n.length-1||(s=!a.is("."+g)||t.is(":last-child"));var c=n.index(a)===n.not(".k-overflow-anchor").first().index();if(e.shiftKey&&c&&(o=!a.is("."+g)||t.is(":first-child")),s&&this.overflowAnchor&&"hidden"!==this.overflowAnchor.css("visibility")&&!l&&(e.preventDefault(),this.overflowAnchor.focus()),o||l&&e.shiftKey){e.preventDefault();var d=this._getPrevFocusable(this.wrapper);d&&d.focus()}this._preventNextFocus=!1}if(e.altKey&&i===m.DOWN){var p=f(document.activeElement).data("splitButton"),h=f(document.activeElement).is("."+T);p?p.toggle():h&&this._toggleOverflow()}else{if((i===m.SPACEBAR||i===m.ENTER)&&!t.is("input, checkbox"))return i===m.SPACEBAR&&e.preventDefault(),void(t.is("."+_)?(t=t.children().first(),this.userEvents.trigger("tap",{target:t})):i===m.SPACEBAR&&this.userEvents.trigger("tap",{target:t}));if(i===m.HOME){if(t.is(".k-dropdown")||t.is("input"))return;this.overflowAnchor?n.eq(1).focus():n.first().focus(),e.preventDefault()}else if(i===m.END){if(t.is(".k-dropdown")||t.is("input"))return;this.overflowAnchor&&"hidden"!=f(this.overflowAnchor).css("visibility")?this.overflowAnchor.focus():n.last().focus(),e.preventDefault()}else i!==m.RIGHT||this._preventNextFocus||t.is("input, select, .k-dropdown, .k-colorpicker")||!this._getNextElement(e.target,r)?i!==m.LEFT||this._preventNextFocus||t.is("input, select, .k-dropdown, .k-colorpicker")||!this._getNextElement(e.target,-1*r)||(this._getNextElement(e.target,-1*r).focus(),e.preventDefault()):(this._getNextElement(e.target,r).focus(),e.preventDefault())}},_getNextElement:function(e,t){var i=this.element.children(":not(.k-separator):visible"),n=-1===i.index(e)?i.index(e.parentElement):i.index(e),r=this.overflowAnchor?1:0,a=t,s=1===t?i.length-1:r,o=1===t?r:i.length-1,l=i[n+t];if(this._preventNextFocus=!1,f(e).closest("."+g).length&&!f(e).is(1===t?":last-child":":first-child"))return f(e).closest("."+g).children()[f(e).closest("."+g).children().index(e)+t];for(this.overflowAnchor&&e===this.overflowAnchor[0]&&-1===t&&(l=i[i.length-1]),n===s&&(l=!this.overflowAnchor||this.overflowAnchor&&"hidden"===f(this.overflowAnchor).css("visibility")?i[o]:this.overflowAnchor);!f(l).is(":kendoFocusable");){if(!(l=-1===t&&f(l).closest("."+g).length?f(l).children(":not(label, div)").last():f(l).children(":not(label, div)").first()).length&&!(l=i[n+(a+=t)]))return this.overflowAnchor;this._preventNextFocus=!f(l).closest("."+g).length}return l},_getPrevFocusable:function(e){return e.is("html")?e:(e.prevAll().each(function(){return(i=f(this)).is(":kendoFocusable")?(t=i,!1):0<i.find(":kendoFocusable").length?(t=i.find(":kendoFocusable").last(),!1):void 0}),t||this._getPrevFocusable(e.parent()));var t,i},_toggle:function(e){var t=f(e.target).closest("."+_).data("splitButton");e.preventDefault(),t.options.enable&&t.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(e){var t=e.width;this.options.resizable&&(this.popup.close(),this._shrink(t),this._stretch(t),this._markVisibles(),this._toggleOverflowAnchor())},_childrenWidth:function(){var e=0;return this.element.children(":visible:not(."+y+", .k-spacer)").each(function(){e+=s(f(this),!0)}),Math.ceil(e)},_shrink:function(e){var t,i;if(e<this._childrenWidth())for(var n=(i=this.element.children(":visible:not([data-overflow='never'], ."+T+")")).length-1;0<=n&&(t=i.eq(n),!(e>this._childrenWidth()));n--)this._hideItem(t)},_stretch:function(e){var t,i;if(e>this._childrenWidth()){i=this.element.children(":hidden:not('."+y+"')");for(var n=0;n<i.length&&(t=i.eq(n),!(e<this._childrenWidth())&&this._showItem(t,e));n++);}},_hideItem:function(e){e.hide(),this.popup&&this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").removeClass(i)},_showItem:function(e,t){return!!(e.length&&t>this._childrenWidth()+s(e,!0))&&(e.show(),this.popup&&this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").addClass(i),!0)},_markVisibles:function(){var e=this.popup.container.children(),t=this.element.children(":not(.k-overflow-anchor)"),i=e.filter(":not(.k-overflow-hidden)"),n=t.filter(":visible");e.add(t).removeClass(I+" "+D),i.first().add(n.first()).addClass(I),i.last().add(n.last()).addClass(D)}});u.ui.plugin(Z)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.panelbar",["kendo.data"],function(){var e={id:"panelbar",name:"PanelBar",category:"web",description:"The PanelBar widget displays hierarchical data as a multi-level expandable panel bar.",depends:["core","data","data.odata"]};return function(p,c){var r,l=window.kendo,d=l.ui,a=l.keys,h=p.extend,s=p.proxy,n=p.each,o=p.isArray,i=l.template,u=d.Widget,f=l.data.HierarchicalDataSource,m=/^(ul|a|div)$/i,g=".kendoPanelBar",_="k-last",v="k-link",w="."+v,b="error",y=".k-item",k=".k-group:visible",x="k-first",C="change",T="expand",S="click",I="k-content",D="collapse",F="mouseenter",E="contentLoad",A="k-state-active",M="> .k-panel",O="> .k-content",H="k-state-focused",P="k-state-disabled",z="k-state-selected",V="."+z,L="k-state-highlight",B=y+":not(.k-state-disabled)",R="> "+B+" > "+w+", .k-panel > "+B+" > "+w,N="> li > "+V+", .k-panel > li > "+V,W="aria-disabled",U="aria-expanded",q="aria-hidden",j="aria-selected",G=":visible",Y={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},$={aria:function(e){var t="";return(e.items||e.content||e.contentUrl||e.expanded)&&(t+=U+"='"+(e.expanded?"true":"false")+"' "),!1===e.enabled&&(t+=W+"='true'"),t},wrapperCssClass:function(e,t){var i="k-item",n=t.index;return!1===t.enabled?i+=" "+P:!0===t.expanded?i+=" "+A:i+=" k-state-default",0===n&&(i+=" k-first"),n==e.length-1&&(i+=" k-last"),t.cssClass&&(i+=" "+t.cssClass),i},textClass:function(e,t){var i=v;return t.firstLevel&&(i+=" k-header"),e.selected&&(i+=" "+z),i},textAttributes:function(e){return e?" href='"+e+"'":""},arrowClass:function(e){var t="k-icon";return t+=e.expanded?" k-panelbar-collapse k-i-arrow-60-up":" k-panelbar-expand k-i-arrow-60-down"},text:function(e){return!1===e.encoded?e.text:l.htmlEncode(e.text)},groupAttributes:function(e){return!0!==e.expanded?" style='display:none'":""},ariaHidden:function(e){return!0!==e.expanded},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(e){return!0!==e.item.expanded?" style='display:none'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?'href="'+e.contentUrl+'"':""}};function K(e){(e=p(e)).filter(".k-first:not(:first-child)").removeClass(x),e.filter(".k-last:not(:last-child)").removeClass(_),e.filter(":first-child").addClass(x),e.filter(":last-child").addClass(_)}r=function(e){return e.children("span").children(".k-icon")};var e=l.ui.DataBoundWidget.extend({init:function(e,t){var i,n,r=this;o(t)&&(t={dataSource:t}),n=t&&!!t.dataSource,u.fn.init.call(r,e,t),e=r.wrapper=r.element.addClass("k-widget k-reset k-header k-panelbar"),t=r.options,e[0].id&&(r._itemId=e[0].id+"_pb_active"),r._tabindex(),r._accessors(),r._dataSource(),r._templates(),r._initData(n),r._updateClasses(),r._animations(t),e.on(S+g,R,s(r._click,r)).on(F+g+" mouseleave"+g,R,r._toggleHover).on(S+g,".k-item.k-state-disabled > .k-link",!1).on(S+g,".k-request-retry",s(r._retryRequest,r)).on("keydown"+g,s(r._keydown,r)).on("focus"+g,function(){var e=r.select();r._current(e[0]?e:r._first())}).on("blur"+g,function(){r._current(null)}).attr("role","menu"),(i=e.find("li."+A+" > ."+I))[0]&&r.expand(i.parent(),!1),t.dataSource||r._angularCompile(),l.notify(r)},events:[T,D,"select","activate",C,b,"dataBound",E],options:{name:"PanelBar",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},autoBind:!0,loadOnDemand:!0,expandMode:"multiple",template:"",dataTextField:null},_angularCompile:function(){var e=this;e.angular("compile",function(){return{elements:e.element.children("li"),data:[{dataItem:e.options.$angular}]}})},_angularCompileElements:function(e,t){this.angular("compile",function(){return{elements:e,data:p.map(t,function(e){return[{dataItem:e}]})}})},_angularCleanup:function(){var e=this;e.angular("cleanup",function(){return{elements:e.element.children("li")}})},destroy:function(){u.fn.destroy.call(this),this.element.off(g),this._angularCleanup(),l.destroy(this.element)},_initData:function(e){e&&(this.element.empty(),this.options.autoBind&&(this._progress(!0),this.dataSource.fetch()))},_templates:function(){var e=this.options,t=s(this._fieldAccessor,this);e.template&&"string"==typeof e.template?e.template=i(e.template):e.template||(e.template=i("# var text = "+t("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),this.templates={content:i("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:i("<ul role='group' aria-hidden='#= ariaHidden(group) #' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:i("# var url = "+t("url")+"(item); ## var imageUrl = "+t("imageUrl")+"(item); ## var spriteCssClass = "+t("spriteCssClass")+"(item); ## var contentUrl = contentUrl(item); ## var tag = url||contentUrl ? 'a' : 'span'; #<#= tag # class='#= textClass(item, group) #' #= contentUrl ##= textAttributes(url) #># if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #' /># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #'></span># } ##= data.panelBar.options.template(data) ##= arrow(data) #</#= tag #>"),item:i("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'"+l.attr("uid")+"='#= item.uid #'>#= itemWrapper(data) ## if (item.items && item.items.length > 0) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),loading:i("<div class='k-item'><span class='k-icon k-i-loading'></span> #: data.messages.loading #</div>"),retry:i("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>"),arrow:i("<span class='#= arrowClass(item) #'></span>"),empty:i("")}},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=h(!0,t,e.animation),"dataSource"in e&&this.setDataSource(e.dataSource),u.fn.setOptions.call(this,e)},expand:function(r,a){var s=this,o={};if(r=this.element.find(r),!s._animating||!r.find("ul").is(":visible"))return s._animating=!0,a=!1!==a,r.each(function(e,t){t=p(t);var i=r.children(".k-group,.k-content");i.length||(i=s._addGroupElement(r));var n=i.add(t.find(O));if(!t.hasClass(P)&&0<n.length){if("single"==s.options.expandMode&&s._collapseAllExpanded(t))return s;r.find("."+L).removeClass(L),t.addClass(L),a||(o=s.options.animation,s.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),s._triggerEvent(T,t)||s._toggleItem(t,!1,!1),a||(s.options.animation=o)}}),s;s.one("complete",function(){setTimeout(function(){s.expand(r)})})},collapse:function(e,n){var r=this,a={};return r._animating=!0,n=!1!==n,(e=r.element.find(e)).each(function(e,t){var i=(t=p(t)).find(M).add(t.find(O));!t.hasClass(P)&&i.is(G)&&(t.removeClass(L),n||(a=r.options.animation,r.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),r._triggerEvent(D,t)||r._toggleItem(t,!0),n||(r.options.animation=a))}),r},updateArrow:function(e){var t=this;(e=p(e)).children(w).children(".k-panelbar-collapse, .k-panelbar-expand").remove(),e.filter(function(){var e=t.dataItem(this);return e?e.hasChildren||e.content||e.contentUrl:0<p(this).find(".k-panel").length||0<p(this).find(".k-content").length}).children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var e=p(this),t=e.parent();e.append("<span class='k-icon "+(t.hasClass(A)?" k-panelbar-collapse k-i-arrow-60-up":" k-panelbar-expand k-i-arrow-60-down")+"'/>")})},_accessors:function(){var e,t,i,n=this.options,r=this.element;for(e in Y)t=n[Y[e]],i=r.attr(l.attr(e+"-field")),!t&&i&&(t=i),o(t=t||e)||(t=[t]),n[Y[e]]=t},_progress:function(e,t){var i=this.element,n=this.templates.loading({messages:this.options.messages});1==arguments.length?(t=e)?i.html(n):i.empty():r(e).toggleClass("k-i-loading",t).removeClass("k-i-refresh")},_refreshRoot:function(e){var i=this,n={firstLevel:!0,expanded:!0,length:i.element.children().length};this.element.empty();var t=p.map(e,function(e,t){return"string"==typeof e?p(e):(e.items=[],p(i.renderItem({group:n,item:h(e,{index:t})})))});this.element.append(t);for(var r=this.element.children(".k-item"),a=0;a<e.length;a++)this.trigger("itemChange",{item:r.eq(a).find(".k-link").first(),data:e[a],ns:d});this._angularCompileElements(t,e)},_refreshChildren:function(e,t){var i,n,r;t.children(".k-group").empty();var a,s,o,l,u=e.children.data();if(u.length)for(this.append(e.children,t),this.options.loadOnDemand&&this._toggleGroup(t.children(".k-group"),!1),n=t.children(".k-group").children("li"),i=0;i<n.length;i++)r=n.eq(i),this.trigger("itemChange",{item:r.find(".k-link").first(),data:this.dataItem(r),ns:d});else o=(s=a=t).children("ul"),l=s.children(".k-link").children(".k-icon"),a.hasClass("k-panelbar")||(!l.length&&o.length?l=p("<span class='k-icon' />").appendTo(s):o.length&&o.children().length||(l.remove(),o.remove())),n=t.children(".k-group").children("li"),this._angularCompileElements(n,u)},findByUid:function(e){for(var t,i=this.element.find(".k-item"),n=l.attr("uid"),r=0;r<i.length;r++)if(i[r].getAttribute(n)==e){t=i[r];break}return p(t)},refresh:function(e){var t=this.options,i=e.node,n=e.action,r=e.items,a=this.wrapper,s=t.loadOnDemand;if(e.field){if(!r[0]||!r[0].level)return;return this._updateItems(r,e.field)}if(i&&(a=this.findByUid(i.uid),this._progress(a,!1)),"add"==n?this._appendItems(e.index,r,a):"remove"==n?this.remove(this.findByUid(r[0].uid)):"itemchange"==n?this._updateItems(r):"itemloaded"==n?this._refreshChildren(i,a):this._refreshRoot(r),"remove"!=n)for(var o=0;o<r.length;o++)if(!s||r[o].expanded){var l=r[o];this._hasChildItems(l)&&l.load()}this.trigger("dataBound",{node:i?a:c})},_error:function(e){var t=e.node&&this.findByUid(e.node.uid),i=this.templates.retry({messages:this.options.messages});t?(this._progress(t,!1),this._expanded(t,!1),r(t).addClass("k-i-refresh"),e.node.loaded(!1)):(this._progress(!1),this.element.html(i))},_retryRequest:function(e){e.preventDefault(),this.dataSource.fetch()},items:function(){return this.element.find(".k-item > span:first-child")},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&(this._progress(!0),this.dataSource.fetch())},_bindDataSource:function(){this._refreshHandler=s(this.refresh,this),this._errorHandler=s(this._error,this),this.dataSource.bind(C,this._refreshHandler),this.dataSource.bind(b,this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind(C,this._refreshHandler),e.unbind(b,this._errorHandler))},_fieldAccessor:function(e){var t=this.options[Y[e]]||[],i=t.length,n="(function(item) {";return 0===i?n+="return item['"+e+"'];":(n+="var levels = ["+p.map(t,function(e){return"function(d){ return "+l.expr(e)+"}"}).join(",")+"];",n+="if(item.level){return levels[Math.min(item.level(), "+i+"-1)](item);}else",n+="{return levels["+i+"-1](item)}"),n+="})"},_dataSource:function(){var e=this.options.dataSource;e&&(e=o(e)?{data:e}:e,this._unbindDataSource(),e.fields||(e.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),this.dataSource=f.create(e),this._bindDataSource())},_appendItems:function(e,t,i){var n,r,a=this;i.hasClass("k-panelbar")?(n=i.children("li"),r=i):((r=i.children(".k-group")).length||(r=a._addGroupElement(i)),n=r.children("li"));var s={firstLevel:i.hasClass("k-panelbar"),expanded:!0,length:n.length},o=p.map(t,function(e,t){return p("string"==typeof e?e:a.renderItem({group:s,item:h(e,{index:t})}))});void 0===e&&(e=n.length);for(var l=0;l<o.length;l++)0===n.length||0===e?r.append(o[l]):o[l].insertAfter(n[e-1]);a._angularCompileElements(o,t),a.dataItem(i)&&(a.dataItem(i).hasChildren=!0,a.updateArrow(i))},_updateItems:function(e,t){var i,n,r,a,s=this,o={panelBar:s.options,item:a,group:{}},l="expanded"!=t;if("selected"==t)if(e[0][t]){var u=s.findByUid(e[0].uid);u.hasClass(P)||s.select(u,!0)}else s.clearSelection();else{var c=p.map(e,function(e){return s.findByUid(e.uid)});for(l&&s.angular("cleanup",function(){return{elements:c}}),i=0;i<e.length;i++)o.item=a=e[i],o.panelBar=s,n=(r=c[i]).parent(),l&&(o.group={firstLevel:n.hasClass("k-panelbar"),expanded:r.parent().hasClass(A),length:r.children().length},r.children(".k-link").remove(),r.prepend(s.templates.itemWrapper(h(o,{arrow:a.hasChildren||a.content||a.contentUrl?s.templates.arrow:s.templates.empty},$)))),"expanded"==t?s._toggleItem(r,!a[t],!a[t]||"true"):"enabled"==t&&(s.enable(r,a[t]),a[t]||a.selected&&a.set("selected",!1)),r.length&&this.trigger("itemChange",{item:r.find(".k-link").first(),data:a,ns:d});l&&s.angular("compile",function(){return{elements:c,data:p.map(e,function(e){return[{dataItem:e}]})}})}},_toggleDisabled:function(e,t){(e=this.element.find(e)).toggleClass("k-state-default",t).toggleClass(P,!t).attr(W,!t)},dataItem:function(e){var t=p(e).closest(y).attr(l.attr("uid")),i=this.dataSource;return i&&i.getByUid(t)},select:function(e,i){var n=this;return e===c?n.element.find(N).parent():((e=n.element.find(e)).length?e.each(function(){var e=p(this),t=e.children(w);if(e.hasClass(P))return n;n._updateSelected(t,i)}):this._updateSelected(e),n)},clearSelection:function(){this.select(p())},enable:function(e,t){return this._toggleDisabled(e,!1!==t),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(e,t){t=this.element.find(t);var i=this._insert(e,t,t.length?t.find(M):null);return n(i.items,function(){i.group.append(this),K(this)}),this.updateArrow(t),K(i.group.find(".k-first, .k-last")),i.group.height("auto"),this},insertBefore:function(e,t){t=this.element.find(t);var i=this._insert(e,t,t.parent());return n(i.items,function(){t.before(this),K(this)}),K(t),i.group.height("auto"),this},insertAfter:function(e,t){t=this.element.find(t);var i=this._insert(e,t,t.parent());return n(i.items,function(){t.after(this),K(this)}),K(t),i.group.height("auto"),this},remove:function(e){e=this.element.find(e);var t=e.parentsUntil(this.element,y),i=e.parent("ul");return e.remove(),!i||i.hasClass("k-panelbar")||i.children(y).length||i.remove(),t.length&&(t=t.eq(0),this.updateArrow(t),K(t)),this},reload:function(e){var t=this;(e=t.element.find(e)).each(function(){var e=p(this);t._ajaxRequest(e,e.children("."+I),!e.is(G))})},_first:function(){return this.element.children(B).first()},_last:function(){var e=this.element.children(B).last(),t=e.children(k);return t[0]?t.children(B).last():e},_current:function(e){var t=this._focused,i=this._itemId;if(e===c)return t;this.element.removeAttr("aria-activedescendant"),t&&t.length&&(t[0].id===i&&t.removeAttr("id"),t.children(w).removeClass(H)),p(e).length&&(i=e[0].id||i,e.attr("id",i).children(w).addClass(H),this.element.attr("aria-activedescendant",i)),this._focused=e},_keydown:function(e){var t=this,i=e.keyCode,n=t._current();e.target==e.currentTarget&&(i==a.DOWN||i==a.RIGHT?(t._current(t._nextItem(n)),e.preventDefault()):i==a.UP||i==a.LEFT?(t._current(t._prevItem(n)),e.preventDefault()):i==a.ENTER||i==a.SPACEBAR?(t._click(e),e.preventDefault()):i==a.HOME?(t._current(t._first()),e.preventDefault()):i==a.END&&(t._current(t._last()),e.preventDefault()))},_nextItem:function(e){if(!e)return this._first();var t=e.children(k),i=e.nextAll(":visible").first();return t[0]&&(i=t.children("."+x)),i[0]||(i=e.parent(k).parent(y).next()),i[0]||(i=this._first()),i.hasClass(P)&&(i=this._nextItem(i)),i},_prevItem:function(e){if(!e)return this._last();var t,i=e.prevAll(":visible").first();if(i[0])for(t=i;t[0];)(t=t.children(k).children("."+_))[0]&&(i=t);else(i=e.parent(k).parent(y))[0]||(i=this._last());return i.hasClass(P)&&(i=this._prevItem(i)),i},_insert:function(e,t,i){var n,r,a=this,s=p.isPlainObject(e),o=t&&t[0];if(o||(i=a.element),r={firstLevel:i.hasClass("k-panelbar"),expanded:p(t).hasClass(A),length:i.children().length},o&&!i.length&&(i=p(a.renderGroup({group:r,options:a.options})).appendTo(t)),s||p.isArray(e)||e instanceof f){if(e instanceof f&&(e=e.data()),n=p.map(s?[e]:e,function(e,t){return p("string"==typeof e?e:a.renderItem({group:r,item:h(e,{index:t})}))}),o){var l=a.dataItem(t);l?(l.hasChildren=!0,t.attr(U,l.expanded).not("."+A).children("ul").attr(q,!l.expanded)):t.attr(U,!1)}}else n="string"==typeof e&&"<"!=e.charAt(0)?a.element.find(e):p(e),a._updateItemsClasses(n);return e.length||(e=[e]),a._angularCompileElements(n,e),{items:n,group:i}},_toggleHover:function(e){var t=p(e.currentTarget);t.parents("li."+P).length||t.toggleClass("k-state-hover",e.type==F)},_updateClasses:function(){var e,t,i,n,r;n=(e=this.element.find("li > ul").not(function(){return p(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group")).parent(),i=(r=this.dataItem(n))&&r.expanded||!1,e.parent().attr(U,i).not("."+A).children("ul").attr(q,!i).hide(),t=this.element.add(e).children(),this._updateItemsClasses(t),this.updateArrow(t),K(t)},_updateItemsClasses:function(e){for(var t=e.length,i=0;i<t;i++)this._updateItemClasses(e[i],i)},_updateItemClasses:function(e,t){var i,n,r=this._selected,a=this.options.contentUrls,s=a&&a[t],o=this.element[0];e=p(e).addClass("k-item").attr("role","menuitem"),l.support.browser.msie&&e.css("list-style-position","inside").css("list-style-position",""),e.children("img").addClass("k-image"),(n=e.children("a").addClass(v))[0]&&(n.attr("href",s),n.children("img").addClass("k-image")),e.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),e.filter("li[disabled]").addClass("k-state-disabled").attr(W,!0).removeAttr("disabled"),e.children("div").addClass(I).attr("role","region").attr(q,!0).hide().parent().attr(U,!1),(n=e.children(V))[0]&&(r&&r.removeAttr(j).children(V).removeClass(z),n.addClass(z),this._selected=e.attr(j,!0)),e.children(w)[0]||(i="<span class='k-link'/>",a&&a[t]&&e[0].parentNode==o&&(i='<a class="k-link k-header" href="'+a[t]+'"/>'),e.contents().filter(function(){return!(this.nodeName.match(m)||3==this.nodeType&&!p.trim(this.nodeValue))}).wrapAll(i)),e.parent(".k-panelbar")[0]&&e.children(w).addClass("k-header")},_click:function(e){var t,i,n,r=this,a=e.type==S?p(e.target):r._current().children(w),s=r.element;if(!a.parents("li."+P).length&&a.closest(".k-widget")[0]==s[0]&&(!a.is(":kendoFocusable")||a.hasClass(v))){var o=a.closest(w),l=o.closest(y);r._updateSelected(o);var u=l.children(".k-group,.k-content"),c=this.dataItem(l);if(!u.length&&(r.options.loadOnDemand&&c&&c.hasChildren||this._hasChildItems(l)||l.content||l.contentUrl)&&(u=r._addGroupElement(l)),i=l.find(M).add(l.find(O)),t=!(!((n=o.attr("href"))&&("#"==n.charAt(n.length-1)||-1!=n.indexOf("#"+r.element[0].id+"-")))&&!i.length),i.data("animating")&&t)e.preventDefault();else if(r._triggerEvent("select",l)&&(t=!0),!1!==t)if("single"==r.options.expandMode&&r._collapseAllExpanded(l)&&t)e.preventDefault();else{if(i.length){var d=i.is(G);r._triggerEvent(d?D:T,l)||(t=r._toggleItem(l,d))}t&&e.preventDefault()}}},_hasChildItems:function(e){return e.items&&0<e.items.length||e.hasChildren},_toggleItem:function(e,t,i){var n,r,a=e.find(M),s=e.find(w).attr("href"),o=this.dataItem(e),l=!t,u=o&&o.loaded();return o&&!i&&o.expanded!==l?(o.set("expanded",l),n=o.hasChildren||!!o.content||!!o.contentUrl):(!o||i&&"true"!==i||u||o.content||o.contentUrl?a.length?(this._toggleGroup(a,t),n=!0):(r=e.children("."+I)).length&&(n=!0,r.is(":empty")&&s!==c?this._ajaxRequest(e,r,t):this._toggleGroup(r,t)):(this.options.loadOnDemand&&this._progress(e,!0),e.children(".k-group,.k-content").remove(),n=o.hasChildren,o.load()),n)},_toggleGroup:function(e,t){var i=this,n=i.options.animation,r=n.expand,a=n.collapse&&"effects"in n.collapse,s=h({},n.expand,n.collapse);a||(s=h(s,{reverse:!0})),e.is(G)==t?(e.attr(q,!!t),e.parent().attr(U,!t).toggleClass(A,!t).find("> .k-link > .k-panelbar-collapse,> .k-link > .k-panelbar-expand").toggleClass("k-i-arrow-60-up",!t).toggleClass("k-panelbar-collapse",!t).toggleClass("k-i-arrow-60-down",t).toggleClass("k-panelbar-expand",t),t?(r=h(s,{hide:!0})).complete=function(){i._animationCallback()}:r=h({complete:function(e){i._triggerEvent("activate",e.closest(y)),i._animationCallback()}},r),e.kendoStop(!0,!0).kendoAnimate(r)):i._animating=!1},_animationCallback:function(){this.trigger("complete"),this._animating=!1},_addGroupElement:function(e){var t=p('<ul role="group" aria-hidden="true" class="k-group k-panel" style="display:none"></ul>');return e.append(t),t},_collapseAllExpanded:function(e){var t,n=this,i=!1,r=e.find(M).add(e.find(O));return r.is(G)&&(i=!0),r.is(G)||0===r.length||((t=e.siblings()).find(M).add(t.find(O)).filter(function(){return p(this).is(G)}).each(function(e,t){t=p(t),(i=n._triggerEvent(D,t.closest(y)))||n._toggleGroup(t,!0)}),n.one("complete",function(){setTimeout(function(){t.each(function(e,t){var i=n.dataItem(t);i&&i.set("expanded",!1)})})})),i},_ajaxRequest:function(n,r,a){var s=this,i=n.find(".k-panelbar-collapse, .k-panelbar-expand"),e=n.find(w),t=setTimeout(function(){i.addClass("k-i-loading")},100),o=e.attr("href");p.ajax({type:"GET",cache:!1,url:o,dataType:"html",data:{},error:function(e,t){i.removeClass("k-i-loading"),s.trigger(b,{xhr:e,status:t})&&this.complete()},complete:function(){clearTimeout(t),i.removeClass("k-i-loading")},success:function(e){function t(){return{elements:r.get()}}try{s.angular("cleanup",t),r.html(e),s.angular("compile",t)}catch(e){var i=window.console;i&&i.error&&i.error(e.name+": "+e.message+" in "+o),this.error(this.xhr,"error")}s._toggleGroup(r,a),s.trigger(E,{item:n[0],contentElement:r[0]})}})},_triggerEvent:function(e,t){return this.trigger(e,{item:t[0]})},_updateSelected:function(e,t){var i=this.element,n=e.parent(y),r=this._selected,a=this.dataItem(n);r&&r.removeAttr(j),this._selected=n.attr(j,!0),i.find(N).removeClass(z),i.find("> ."+L+", .k-panel > ."+L).removeClass(L),e.addClass(z),e.parentsUntil(i,y).filter(":has(.k-header)").addClass(L),this._current(n[0]?n:null),a&&a.set("selected",!0),t||this.trigger(C)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})},renderItem:function(e){e=h({panelBar:this,group:{}},e);var t=this.templates.empty,i=e.item;return this.templates.item(h(e,{itemWrapper:this.templates.itemWrapper,renderContent:this.renderContent,arrow:this._hasChildItems(i)||i.content||i.contentUrl?this.templates.arrow:t,subGroup:!e.loadOnDemand||i.expanded?this.renderGroup:t},$))},renderGroup:function(e){return(this.templates||e.panelBar.templates).group(h({renderItems:function(e){for(var t="",i=0,n=e.items,r=n?n.length:0,a=h({length:r},e.group);i<r;i++)t+=e.panelBar.renderItem(h(e,{group:a,item:h({index:i},n[i])}));return t}},e,$))},renderContent:function(e){return e.panelBar.templates.content(h(e,$))}});l.ui.plugin(e)}(window.kendo.jQuery),window.kendo}),(typeof define=="function"&&define.amd?define:function(e,t,i){(i||t)()})("kendo.window",["kendo.draganddrop","kendo.popup"],function(){var e={id:"window",name:"Window",category:"web",description:"The Window widget displays content in a modal or non-modal HTML window.",depends:["draganddrop","popup"],features:[{id:"window-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]};return function(b,h){var c,y=window.kendo,f=y.ui.Widget,m=y.ui.Popup.TabKeyTrap,n=y.ui.Draggable,g=b.isPlainObject,r=y._activeElement,s=y._outerWidth,u=y._outerHeight,_=b.proxy,l=b.extend,t=b.each,o=y.template,d="body",v=".kendoWindow",p=".kendoWindowModal",w=".k-window",k=".k-window-title",x=k+"bar",C=".k-window-content",T=".k-resize-handle",S=".k-overlay",I="k-content-frame",e="k-i-loading",i="k-state-hover",a="k-state-focused",D="k-window-maximized",F=":visible",E="hidden",A="cursor",M="activate",O="deactivate",H="refresh",P="resizeStart",z="overflow",V="original-overflow-rule",L="zIndex",B=".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize",R=".k-i-unpin",N=".k-i-pin,"+R,W=".k-window-titlebar .k-window-action",U=".k-window-titlebar .k-i-refresh",q="WindowEventsHandled",j=/^0[a-z]*$/i,G=y.isLocalUrl,Y={small:"k-window-sm",medium:"k-window-md",large:"k-window-lg"};function $(e){return void 0!==e}function K(e,t){return parseInt(e.css(t),10)||0}function Q(e,t,i){return e&&isNaN(e)&&e.toString().indexOf("px")<0?e:Math.max(Math.min(parseInt(e,10),i===1/0?i:parseInt(i,10)),t===-1/0?t:parseInt(t,10))}function J(){return!this.type||0<=this.type.toLowerCase().indexOf("script")}function X(e){for(var t={top:e.offsetTop,left:e.offsetLeft},i=e.offsetParent;i;){t.top+=i.offsetTop,t.left+=i.offsetLeft;var n=b(i).css("overflowX"),r=b(i).css("overflowY");"auto"!==r&&"scroll"!==r||(t.top-=i.scrollTop),"auto"!==n&&"scroll"!==n||(t.left-=i.scrollLeft),i=i.offsetParent}return t}var Z=f.extend({init:function(e,t){var i,n,r,a,s,o,l,u,c=this,d={},p=t&&t.actions&&!t.actions.length;f.fn.init.call(c,e,t),a=(t=c.options).position,e=c.element,s=t.content,l=b(window),p&&(t.actions=[]),c.appendTo=b(t.appendTo),c.containment=t.draggable.containment?b(t.draggable.containment).first():null,s&&!g(s)&&(s=t.content={url:s}),e.find("script").filter(J).remove(),e.parent().is(c.appendTo)||c.containment||a.top!==h&&a.left!==h||(e.is(F)?d=e.offset():(n=e.css("visibility"),r=e.css("display"),e.css({visibility:E,display:""}),d=e.offset(),e.css({visibility:n,display:r})),a.top===h&&(a.top=d.top),a.left===h&&(a.left=d.left)),$(t.visible)&&null!==t.visible||(t.visible=e.is(F)),i=c.wrapper=e.closest(w),e.is(".k-content")&&i[0]||(e.addClass("k-window-content k-content"),c._createWindow(e,t),i=c.wrapper=e.closest(w),c.title(c.options.title),c._dimensions()),c.minTop=c.minLeft=-1/0,c.maxTop=c.maxLeft=1/0,c._position(),s&&c.refresh(s),t.visible&&c.toFront(),o=i.children(C),c._tabindex(o),t.visible&&t.modal&&c._overlay(i.is(F)).css({opacity:.5}),i.on("mouseenter"+v,W,_(c._buttonEnter,c)).on("mouseleave"+v,W,_(c._buttonLeave,c)).on("click"+v,"> "+W,_(c._windowActionHandler,c)).on("keydown"+v,_(c._keydown,c)).on("focus"+v,_(c._focus,c)).on("blur"+v,_(c._blur,c)),o.on("keydown"+v,_(c._keydown,c)).on("focus"+v,_(c._focus,c)).on("blur"+v,_(c._blur,c)),o.find("."+I)[0]&&!l.data(q)&&(l.on("blur"+v,function(){var e=b(document.activeElement).parent(C);e.length&&y.widgetInstance(e)._focus()}),l.on("focus"+v,function(){b(C).not(".k-dialog-content").each(function(e,t){y.widgetInstance(b(t))._blur()})}),l.data(q,!0)),this._resizable(),this._draggable(),t.pinned&&this.wrapper.is(":visible")&&c.pin(),(u=e.attr("id"))&&(u+="_wnd_title",i.children(x).children(k).attr("id",u),o.attr({role:"dialog","aria-labelledby":u})),i.add(i.children(".k-resize-handle,"+x)).on("mousedown"+v,_(c.toFront,c)),c.touchScroller=y.touchScroller(e),c._resizeHandler=_(c._onDocumentResize,c),c._marker=y.guid().substring(0,8),b(window).on("resize"+v+c._marker,c._resizeHandler),t.visible&&(c.trigger("open"),c.trigger(M)),y.notify(c),this.options.modal&&(this._tabKeyTrap=new m(i),this._tabKeyTrap.trap(),this._tabKeyTrap.shouldTrap=function(){return o.data("isFront")})},_buttonEnter:function(e){b(e.currentTarget).addClass(i)},_buttonLeave:function(e){b(e.currentTarget).removeClass(i)},_focus:function(){this.wrapper.addClass(a)},_blur:function(){this.wrapper.removeClass(a)},_dimensions:function(){var e=this.wrapper,t=this.options,i=t.width,n=t.height,r=t.maxHeight,a=t.size,s=["minWidth","minHeight","maxWidth","maxHeight"],o="content-box"==e.css("box-sizing"),l=o?K(e,"border-left-width")+K(e,"border-right-width"):0,u=o?K(e,"border-top-width")+K(e,"border-bottom-width"):0,c=o?K(e,"padding-top"):0;this.containment&&!this._isPinned&&(this._updateBoundaries(),t.maxHeight=Math.min(this.containment.height-(u+c),r),t.maxWidth=Math.min(this.containment.width-l,t.maxWidth));for(var d=0;d<s.length;d++){var p=t[s[d]]||"";p!=1/0&&e.css(s[d],p)}r!=1/0&&this.element.css("maxHeight",r),i?e.width(Q(i,t.minWidth,t.maxWidth)):e.width(""),n?e.height(Q(n,t.minHeight,t.maxHeight)):e.height(""),t.visible||e.hide(),a&&Y[a]&&e.addClass(Y[a])},_position:function(){var e=this.wrapper,t=this.options.position;this._updateBoundaries(),this.containment&&(t.top=Math.min(this.minTop+(t.top||0),this.maxTop),t.left=Math.min(this.minLeft+(t.left||0),this.maxLeft)),0===t.top&&(t.top=t.top.toString()),0===t.left&&(t.left=t.left.toString()),e.css({top:t.top||"",left:t.left||""})},_updateBoundaries:function(){var e=this.containment;if(!e)return null;e.width=e.innerWidth(),e.height=e.innerHeight(),parseInt(e.width,10)>e[0].clientWidth&&(e.width-=y.support.scrollbar()),parseInt(e.height,10)>e[0].clientHeight&&(e.height-=y.support.scrollbar()),e.position=X(e[0]),this._isPinned?(this.minTop=this.minLeft=-1/0,this.maxTop=this.maxLeft=1/0):(this.minTop=e.scrollTop(),this.minLeft=e.scrollLeft(),this.maxLeft=this.minLeft+e.width-s(this.wrapper,!0),this.maxTop=this.minTop+e.height-u(this.wrapper,!0))},_animationOptions:function(e){var t=this.options.animation;return t&&t[e]||{open:{effects:{}},close:{hide:!0,effects:{}}}[e]},_resize:function(){y.resize(this.element.children())},_resizable:function(){var e=this.options.resizable,i=this.wrapper;this.resizing&&(i.off("dblclick"+v).children(T).remove(),this.resizing.destroy(),this.resizing=null),e&&(i.on("dblclick"+v,x,_(function(e){b(e.target).closest(".k-window-action").length||this.toggleMaximization()},this)),t("n e s w se sw ne nw".split(" "),function(e,t){i.append(c.resizeHandle(t))}),this.resizing=new ee(this)),i=null},_draggable:function(){var e=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),e&&(this.dragging=new te(this,e.dragHandle||x))},_actions:function(){var e=this.options,t=e.actions,i=e.pinned,n=this.wrapper.children(x).find(".k-window-actions"),r=["maximize","minimize"];t=b.map(t,function(e){return e=i&&"pin"===e.toLowerCase()?"unpin":e,{name:-1<r.indexOf(e.toLowerCase())?"window-"+e:e}}),n.html(y.render(c.action,t))},setOptions:function(e){var t=this,i=t.options.size,n=JSON.parse(JSON.stringify(e));l(e.position,t.options.position),l(e.position,n.position),f.fn.setOptions.call(t,e);var r=!1!==t.options.scrollable;if(t.restore(),void 0!==e.title&&t.title(e.title),t.wrapper.removeClass(Y[i]),t._dimensions(),t._position(),t._resizable(),t._draggable(),t._actions(),void 0!==e.modal){var a=!1!==t.options.visible;t._enableDocumentScrolling(),t._overlay(e.modal&&a)}t.element.css(z,r?"":"hidden")},events:["open",M,O,"close","minimize","maximize",H,P,"resize","resizeEnd","dragstart","dragend","error"],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,size:"auto",resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,scrollable:!0,position:{},content:null,visible:null,height:null,width:null,appendTo:"body",isMaximized:!1,isMinimized:!1},_closable:function(){return-1<b.inArray("close",b.map(this.options.actions,function(e){return e.toLowerCase()}))},_keydown:function(e){var t,i,n,r,a,s,o=this,l=o.options,u=y.keys,c=e.keyCode,d=o.wrapper,p=l.isMaximized,h=l.isMinimized;c==u.ESC&&o._closable()&&(e.stopPropagation(),o._close(!1)),e.target!=e.currentTarget||o._closing||(e.altKey&&82==c&&o.refresh(),e.altKey&&80==c&&(o.options.pinned?o.unpin():o.pin()),e.altKey&&c==u.UP?h?(o.restore(),o.element.focus()):p||(o.maximize(),o.element.focus()):e.altKey&&c==u.DOWN&&(h||p?p&&(o.restore(),o.element.focus()):(o.minimize(),o.wrapper.focus())),t=y.getOffset(d),o.containment&&!o._isPinned&&(t=o.options.position),!l.draggable||e.ctrlKey||e.altKey||p||(o._updateBoundaries(),c==u.UP?(t.top=Q(t.top-10,o.minTop,o.maxTop),i=d.css("top",t.top)):c==u.DOWN?(t.top=Q(t.top+10,o.minTop,o.maxTop),i=d.css("top",t.top)):c==u.LEFT?(t.left=Q(t.left-10,o.minLeft,o.maxLeft),i=d.css("left",t.left)):c==u.RIGHT&&(t.left=Q(t.left+10,o.minLeft,o.maxLeft),i=d.css("left",t.left))),l.resizable&&e.ctrlKey&&!p&&!h&&(c==u.UP?(i=!0,r=d.height()-10):c==u.DOWN&&(i=!0,r=o.containment&&!o._isPinned?Math.min(d.height()+10,o.containment.height-t.top-K(d,"padding-top")-K(d,"borderBottomWidth")-K(d,"borderTopWidth")):d.height()+10),c==u.LEFT?(i=!0,n=d.width()-10):c==u.RIGHT&&(i=!0,n=o.containment&&!o._isPinned?Math.min(d.width()+10,o.containment.width-t.left-K(d,"borderLeftWidth")-K(d,"borderRightWidth")):d.width()+10),i&&(a=Q(n,l.minWidth,l.maxWidth),s=Q(r,l.minHeight,l.maxHeight),isNaN(a)||(d.width(a),o.options.width=a+"px"),isNaN(s)||(d.height(s),o.options.height=s+"px"),o.resize())),i&&e.preventDefault())},_overlay:function(e){var t=this.containment?this.containment.children(S):this.appendTo.children(S),i=this.wrapper;return t.length||(t=b("<div class='k-overlay' />")),t.insertBefore(i[0]).toggle(e).css(L,parseInt(i.css(L),10)-1),this.options.modal.preventScroll&&!this.containment&&this._stopDocumentScrolling(),t},_actionForIcon:function(e){return{"k-i-close":"_close","k-i-window-maximize":"maximize","k-i-window-minimize":"minimize","k-i-window-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[/\bk-i(-\w+)+\b/.exec(e[0].className)[0]]},_windowActionHandler:function(e){if(!this._closing){var t=b(e.target).closest(".k-window-action").find(".k-icon"),i=this._actionForIcon(t);return i?(e.preventDefault(),this[i](),!1):void 0}},_modals:function(){var n=this,e=b(w).filter(function(){var e=b(this),t=n._object(e),i=t&&t.options;return i&&i.modal&&i.visible&&i.appendTo===n.options.appendTo&&e.is(F)}).sort(function(e,t){return b(e).css("zIndex")-b(t).css("zIndex")});return n=null,e},_object:function(e){var t=e.children(C),i=y.widgetInstance(t);return i||h},center:function(){var e,t,i=this,n=i.options.position,r=i.wrapper,a=b(window),s=0,o=0;return i.options.isMaximized||(i.options.pinned&&!i._isPinned&&i.pin(),i.options.pinned||(s=a.scrollTop(),o=a.scrollLeft()),this.containment&&!i.options.pinned?(e=this.minTop+(this.maxTop-this.minTop)/2,t=this.minLeft+(this.maxLeft-this.minLeft)/2):(i._scrollIsAppended=!0,t=o+Math.max(0,(a.width()-r.width())/2),e=s+Math.max(0,(a.height()-r.height()-K(r,"paddingTop"))/2)),r.css({left:t,top:e}),n.top=e,n.left=t),i},title:function(e){var t,i,n,r,a=!0,s=this.wrapper,o=s.children(x),l=o.children(k);return arguments.length?(b.isPlainObject(e)?(t=void 0!==e.text?e.text:"",a=!1!==e.encoded):t=e,!1===t?(s.addClass("k-window-titleless"),s.css("padding-top",0),o.remove()):(o.length?l.html(a?y.htmlEncode(t):t):(s.prepend(c.titlebar({title:a?y.htmlEncode(t):t})),this._actions(),o=s.children(x)),r=s.css("visibility"),n=s.css("display"),r===E?(s.css({display:""}),i=parseInt(u(o),10),s.css({display:n})):(s.css({visibility:E,display:""}),i=parseInt(u(o),10),s.css({visibility:r,display:n})),s.css("padding-top",i),o.css("margin-top",-i)),this.options.title=t,this):l.html()},content:function(e,i){var n=this.wrapper.children(C),t=n.children(".km-scroll-container");return n=t[0]?t:n,$(e)?(this.angular("cleanup",function(){return{elements:n.children()}}),y.destroy(this.element.children()),n.empty().html(e),this.angular("compile",function(){for(var e=[],t=n.length;0<=--t;)e.push({dataItem:i});return{elements:n.children(),data:e}}),this):n.html()},open:function(){var e,t,i=this,n=i.wrapper,r=i.options,a=this._animationOptions("open"),s=n.children(C),o=this.containment&&!i._isPinned?this.containment:b(document);if(!i.trigger("open")){if(i._closing&&n.kendoStop(!0,!0),i._closing=!1,i.toFront(),r.autoFocus&&i.element.focus(),r.visible=!0,r.modal){if(t=!!i._modals().length,(e=i._overlay(t)).kendoStop(!0,!0),a.duration&&y.effects.Fade&&!t){var l=y.fx(e).fadeIn();l.duration(a.duration||0),l.endValue(.5),l.play()}else e.css("opacity",.5);e.show(),b(window).on("focus"+p,function(){s.data("isFront")&&!b(document.activeElement).closest(s).length&&i.element.focus()})}n.is(F)||(s.css(z,E),i.wrapper.find(W).addClass("k-bare"),n.show().kendoStop().kendoAnimate({effects:a.effects,duration:a.duration,complete:_(this._activate,this)}))}return r.isMaximized&&(i._containerScrollTop=o.scrollTop(),i._containerScrollLeft=o.scrollLeft(),i._stopDocumentScrolling()),this.options.pinned&&!this._isPinned&&this.pin(),i},_activate:function(){var e=!1!==this.options.scrollable;this.options.autoFocus&&this.element.focus(),this.element.css(z,e?"":"hidden"),y.resize(this.element.children()),this.trigger(M)},_removeOverlay:function(e){var t=this._modals(),i=this.options,n=i.modal&&!t.length,r=i.modal?this._overlay(!0):b(h),a=this._animationOptions("close");if(n){if(!e&&a.duration&&y.effects.Fade){var s=y.fx(r).fadeOut();s.duration(a.duration||0),s.startValue(.5),s.play()}else this._overlay(!1).remove();i.modal.preventScroll&&this._enableDocumentScrolling()}else t.length&&(this._object(t.last())._overlay(!0),i.modal.preventScroll&&this._stopDocumentScrolling())},_close:function(e){var t,i=this,n=i.wrapper,r=i.options,a=this._animationOptions("open"),s=this._animationOptions("close"),o=this.containment&&!i._isPinned?this.containment:b(document);i._closing||(t=i.trigger("close",{userTriggered:!e}),i._closing=!t,n.is(F)&&!t&&(r.visible=!1,b(w).each(function(e,t){var i=b(t).children(C);t!=n&&0<i.find("> ."+I).length&&i.children(S).remove()}),this._removeOverlay(),i.wrapper.find(W).removeClass("k-bare"),n.kendoStop().kendoAnimate({effects:s.effects||a.effects,reverse:!0===s.reverse,duration:s.duration,complete:_(this._deactivate,this)}),b(window).off(p)),i.options.isMaximized&&(i._enableDocumentScrolling(),i._containerScrollTop&&0<i._containerScrollTop&&o.scrollTop(i._containerScrollTop),i._containerScrollLeft&&0<i._containerScrollLeft&&o.scrollLeft(i._containerScrollLeft)))},_deactivate:function(){if(this.wrapper.hide().css("opacity",""),this.trigger(O),this.options.modal){var e=this._object(this._modals().last());e&&e.toFront()}},close:function(){return this._close(!0),this},_actionable:function(e){return b(e).is(W+","+W+" .k-icon,:input,a")},_shouldFocus:function(e){var t=r(),i=this.element;return this.options.autoFocus&&!b(t).is(i)&&!this._actionable(e)&&(!i.find(t).length||!i.find(e).length)},toFront:function(e){var t=this,i=t.wrapper,a=i[0],n=t.containment&&!t._isPinned,s=+i.css(L),r=s,o=e&&e.target||null;if(b(w).each(function(e,t){var i=b(t),n=i.css(L),r=i.children(C);isNaN(n)||(s=Math.max(+n,s)),r.data("isFront",t==a),t!=a&&0<r.find("> ."+I).length&&r.append(c.overlay)}),(!i[0].style.zIndex||r<s)&&i.css(L,s+2),t.element.find("> .k-overlay").remove(),t._shouldFocus(o)){t.isMinimized()?t.wrapper.focus():b(o).is(S)?setTimeout(function(){t.element.focus()}):t.element.focus();var l=n?t.containment.scrollTop():b(window).scrollTop(),u=parseInt(i.position().top,10);!t.options.pinned&&0<u&&u<l&&(0<l?b(window).scrollTop(u):i.css("top",l))}return i=null,t},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var e=this,t=e.options,i=t.minHeight,n=e.restoreOptions,r=e.containment&&!e._isPinned?e.containment:b(document);return(t.isMaximized||t.isMinimized)&&(i&&i!=1/0&&e.wrapper.css("min-height",i),n&&!t.isMaximized&&(n.height=Q(n.height,e.options.minHeight,e.options.maxHeight),t.position.top+parseInt(n.height,10)>e.maxTop&&(t.position.top=Q(t.position.top,e.minTop,e.maxTop-parseInt(n.height,10)),l(n,{left:t.position.left,top:t.position.top}))),e.wrapper.css({position:t.pinned?"fixed":"absolute",left:n.left,top:n.top,width:n.width,height:n.height}).removeClass(D).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-window-restore").parent().remove().end().end().find(B).parent().show().end().end().find(N).parent().show(),t.isMaximized?e.wrapper.find(".k-i-window-maximize").parent().focus():t.isMinimized&&e.wrapper.find(".k-i-window-minimize").parent().focus(),e.options.width=n.width,e.options.height=n.height,e.options.modal.preventScroll||e._enableDocumentScrolling(),e._containerScrollTop&&0<e._containerScrollTop&&r.scrollTop(e._containerScrollTop),e._containerScrollLeft&&0<e._containerScrollLeft&&r.scrollLeft(e._containerScrollLeft),t.isMaximized=t.isMinimized=!1,e.wrapper.removeAttr("tabindex"),e.wrapper.removeAttr("aria-labelled-by"),e.resize()),e},_sizingAction:function(e,t){var i=this.wrapper,n=i[0].style,r=this.options;return r.isMaximized||r.isMinimized||(this.restoreOptions={width:n.width,height:n.height},i.children(T).hide().end().children(x).find(B).parent().hide().eq(0).before(c.action({name:"window-restore"})),t.call(this),this.wrapper.children(x).find(N).parent().toggle("maximize"!==e),this.trigger(e),i.find(".k-i-window-restore").parent().focus()),this},maximize:function(){return this._sizingAction("maximize",function(){var e=this.wrapper,t=this.containment&&!this._isPinned,i=e.position(),n=b(document);l(this.restoreOptions,{left:i.left+(t?this.containment.scrollLeft():0),top:i.top+(t?this.containment.scrollTop():0)}),this._containerScrollTop=t?this.containment.scrollTop():n.scrollTop(),this._containerScrollLeft=t?this.containment.scrollLeft():n.scrollLeft(),this._stopDocumentScrolling(),e.css({top:t?this.containment.scrollTop():0,left:t?this.containment.scrollLeft():0,position:t?"absolute":"fixed"}).addClass(D),this.options.isMaximized=!0,this._onDocumentResize()}),this},_stopDocumentScrolling:function(){var e=this.containment;if(e&&!this._isPinned)return this._storeOverflowRule(e),e.css(z,E),void this.wrapper.css({maxWidth:e.innerWidth(),maxHeight:e.innerHeight()});var t=b("body");this._storeOverflowRule(t),t.css(z,E);var i=b("html");this._storeOverflowRule(i),i.css(z,E)},_enableDocumentScrolling:function(){var e=this.containment;if(e&&!this._isPinned)return this._restoreOverflowRule(e),void this.wrapper.css({maxWidth:e.width,maxHeight:e.height});this._restoreOverflowRule(b(document.body)),this._restoreOverflowRule(b("html"))},_storeOverflowRule:function(e){if(!this._isOverflowStored(e)){var t=e.get(0).style.overflow;"string"==typeof t&&e.data(V,t)}},_isOverflowStored:function(e){return"string"==typeof e.data(V)},_restoreOverflowRule:function(e){var t=e.data(V);null!==t&&t!==h?(e.css(z,t),e.removeData(V)):e.css(z,"")},isMaximized:function(){return this.options.isMaximized},minimize:function(){return this._sizingAction("minimize",function(){this.wrapper.css({height:"",minHeight:""}),this.element.hide(),this.options.isMinimized=!0}),this.wrapper.attr("tabindex",0),this.wrapper.attr("aria-labelled-by",this.element.attr("aria-labelled-by")),this._updateBoundaries(),this},isMinimized:function(){return this.options.isMinimized},pin:function(){var e=b(window),t=this.wrapper,i=this.options,n=i.position,r=this.containment?X(t[0]).top+K(this.containment,"borderTopWidth"):K(t,"top"),a=this.containment?X(t[0]).left+K(this.containment,"borderLeftWidth"):K(t,"left");this.options.isMaximized||(n.top=r,n.left=a,!this._scrollIsAppended||this.containment&&"fixed"===this.containment.css("position")||(n.top-=e.scrollTop(),n.left-=e.scrollLeft(),this._scrollIsAppended=!1),t.css(l(n,{position:"fixed"})),t.children(x).find(".k-i-pin").addClass("k-i-unpin").removeClass("k-i-pin"),this._isPinned=!0,this.options.pinned=!0,this.containment&&(i.maxWidth=i.maxHeight=1/0,t.css({maxWidth:"",maxHeight:""})))},unpin:function(){var e=this,t=b(window),i=e.wrapper,n=e.options,r=e.options.position,a=e.containment,s=parseInt(i.css("top"),10)+t.scrollTop(),o=parseInt(i.css("left"),10)+t.scrollLeft();e.options.isMaximized||(e._isPinned=!1,e._scrollIsAppended=!0,e.options.pinned=!1,a&&(e._updateBoundaries(),n.maxWidth=Math.min(a.width,n.maxWidth),n.maxHeight=Math.min(a.height-K(i,"padding-top"),n.maxHeight),i.css({maxWidth:n.maxWidth,maxHeight:n.maxHeight}),s=s<a.position.top?e.minTop:s>a.position.top+a.height?e.maxTop:s+a.scrollTop()-(a.position.top+K(a,"border-top-width")),o=o<a.position.left?e.minLeft:o>a.position.left+a.width?e.maxLeft:o+a.scrollLeft()-(a.position.left+K(a,"border-left-width"))),r.top=Q(s,e.minTop,e.maxTop),r.left=Q(o,e.minLeft,e.maxLeft),i.css(l(r,{position:""})),i.children(x).find(R).addClass("k-i-pin").removeClass("k-i-unpin"))},_onDocumentResize:function(){var e,t,i=this.wrapper,n=b(window),r=y.support.zoomLevel(),a="content-box"==i.css("box-sizing");if(this.options.isMaximized){var s=a?K(i,"border-left-width")+K(i,"border-right-width"):0,o=a?K(i,"border-top-width")+K(i,"border-bottom-width"):0,l=a?K(i,"padding-top"):0;t=this.containment&&!this._isPinned?(e=this.containment.innerWidth()-s,this.containment.innerHeight()-(o+l)):(e=n.width()/r-s,n.height()/r-(o+l)),i.css({width:e,height:t}),this.options.width=e,this.options.height=t,this.resize()}},refresh:function(e){var t,i,n,r=this.options,a=b(this.element);return g(e)||(e={url:e}),e=l({},r.content,e),i=$(r.iframe)?r.iframe:e.iframe,(n=e.url)?($(i)||(i=!G(n)),i?((t=a.find("."+I)[0])?t.src=n||t.src:a.html(c.contentFrame(l({},r,{content:e}))),a.find("."+I).unbind("load"+v).on("load"+v,_(this._triggerRefresh,this))):this._ajaxRequest(e)):(e.template&&this.content(o(e.template)({})),this.trigger(H)),a.toggleClass("k-window-iframecontent",!!i),this},_triggerRefresh:function(){this.trigger(H)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(U).removeClass(e)},_ajaxError:function(e,t){this.trigger("error",{status:t,xhr:e})},_ajaxSuccess:function(i){return function(e){var t=e;i&&(t=o(i)(e||{})),this.content(t,e),this.element.prop("scrollTop",0),this.trigger(H)}},_showLoading:function(){this.wrapper.find(U).addClass(e)},_ajaxRequest:function(e){this._loadingIconTimeout=setTimeout(_(this._showLoading,this),100),b.ajax(l({type:"GET",dataType:"html",cache:!1,error:_(this._ajaxError,this),complete:_(this._ajaxComplete,this),success:_(this._ajaxSuccess(e.template),this)},e))},_destroy:function(){this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.wrapper.off(v).children(C).off(v).end().find(".k-resize-handle,.k-window-titlebar").off(v),b(window).off("resize"+v+this._marker),b(window).off(p),b(window).off(v),clearTimeout(this._loadingIconTimeout),f.fn.destroy.call(this),this.unbind(h),y.destroy(this.wrapper),this._removeOverlay(!0)},destroy:function(){this._destroy(),this.wrapper.empty().remove(),this.wrapper=this.appendTo=this.element=b()},_createWindow:function(){var t,e,i=this.element,n=this.options,r=y.support.isRtl(i);!1===n.scrollable&&i.css("overflow","hidden"),e=b(c.wrapper(n)),t=i.find("iframe:not(.k-content)").map(function(){var e=this.getAttribute("src");return this.src="",e}),e.toggleClass("k-rtl",r).append(i).find("iframe:not(.k-content)").each(function(e){this.src=t[e]}),this.containment?this.containment.prepend(e):this.appendTo&&e.appendTo(this.appendTo),e.find(".k-window-title").css(r?"left":"right",s(e.find(".k-window-actions"))+10),i.css("visibility","").show(),i.find("[data-role=editor]").each(function(){var e=b(this).data("kendoEditor");e&&e.refresh()}),e=i=null}});function ee(e){var t=this;t.owner=e,t._preventDragging=!1,t._draggable=new n(e.wrapper,{filter:">"+T,group:e.wrapper.id+"-resizing",dragstart:_(t.dragstart,t),drag:_(t.drag,t),dragend:_(t.dragend,t)}),t._draggable.userEvents.bind("press",_(t.addOverlay,t)),t._draggable.userEvents.bind("release",_(t.removeOverlay,t))}function te(e,t){var i=this;i.owner=e,i._preventDragging=!1,i._draggable=new n(e.wrapper,{filter:t,group:e.wrapper.id+"-moving",dragstart:_(i.dragstart,i),drag:_(i.drag,i),dragend:_(i.dragend,i),dragcancel:_(i.dragcancel,i)}),i._draggable.userEvents.stopPropagation=!1}c={wrapper:o("<div class='k-widget k-window' />"),action:o("<a role='button' href='\\#' class='k-button k-bare k-button-icon k-window-action' aria-label='#= name #'><span class='k-icon k-i-#= name.toLowerCase() #'></span></a>"),titlebar:o("<div class='k-window-titlebar k-header'><span class='k-window-title'>#= title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:o("<iframe frameborder='0' title='#= title #' class='"+I+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:o("<div class='k-resize-handle k-resize-#= data #'></div>")},ee.prototype={addOverlay:function(){this.owner.wrapper.append(c.overlay)},removeOverlay:function(){this.owner.wrapper.find(S).remove()},dragstart:function(e){var t=this,i=t.owner,n=i.wrapper;if(t._preventDragging=i.trigger(P),!t._preventDragging){t.elementPadding=parseInt(n.css("padding-top"),10),t.initialPosition=y.getOffset(n,"position"),t.resizeDirection=e.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),t.initialSize={width:n.width(),height:n.height()},i._updateBoundaries(),t.containerOffset=i.containment?i.containment.position:y.getOffset(i.appendTo,"position");var r=n.offsetParent();if(r.is("html"))t.containerOffset.top=t.containerOffset.left=0;else{var a=r.css("margin-top"),s=r.css("margin-left");if(!j.test(a)||!j.test(s)){var o=X(n[0]),l=o.left-t.containerOffset.left-t.initialPosition.left,u=o.top-t.containerOffset.top-t.initialPosition.top;t._relativeElMarginLeft=1<l?l:0,t._relativeElMarginTop=1<u?u:0,t.initialPosition.left+=t._relativeElMarginLeft,t.initialPosition.top+=t._relativeElMarginTop}}n.children(T).not(e.currentTarget).hide(),b(d).css(A,e.currentTarget.css(A))}},drag:function(e){if(!this._preventDragging){var t,i,n,r,a=this.owner,s=a.wrapper,o=a.options,l=o.position,u=this.resizeDirection,c=this.containerOffset,d=this.initialPosition,p=this.initialSize,h=a.containment&&!a._isPinned,f=y.support.isRtl(a.containment),m=h&&f&&a.containment.innerWidth()>a.containment.width?y.support.scrollbar():0,g=h?{top:a.containment.scrollTop(),left:a.containment.scrollLeft()}:{top:0,left:0},_=Math.max(e.x.location,0),v=Math.max(e.y.location,0);0<=u.indexOf("e")?(t=a.containment&&_-p.width>=a.maxLeft-g.left+c.left+m?a.maxLeft+m-d.left+p.width-g.left:_-d.left-c.left,s.width(Q(t,o.minWidth,o.maxWidth))):0<=u.indexOf("w")&&(t=Q((r=d.left+p.width+c.left)-_,o.minWidth,o.maxWidth),l.left=r-t-c.left-m-(this._relativeElMarginLeft||0)+g.left,a.containment&&l.left<=a.minLeft&&(l.left=a.minLeft,t=Q(r-m-l.left-c.left+g.left,o.minWidth,o.maxWidth)),s.css({left:l.left,width:t}));var w=v;a.options.pinned&&(w-=b(window).scrollTop()),0<=u.indexOf("s")?(i=w-d.top-this.elementPadding-c.top,w-p.height-this.elementPadding>=a.maxTop+c.top-g.top&&(i=a.maxTop-d.top+p.height-g.top),s.height(Q(i,o.minHeight,o.maxHeight))):0<=u.indexOf("n")&&(i=Q((n=d.top+p.height+c.top)-w,o.minHeight,o.maxHeight),l.top=n-i-c.top-(this._relativeElMarginTop||0)+g.top,l.top<=a.minTop&&a.containment&&(l.top=a.minTop,i=Q(n-l.top-c.top+g.top,o.minHeight,o.maxHeight)),s.css({top:l.top,height:i})),t&&(a.options.width=t+"px"),i&&(a.options.height=i+"px"),a.resize()}},dragend:function(e){if(!this._preventDragging){var t=this.owner,i=t.wrapper;return i.children(T).not(e.currentTarget).show(),b(d).css(A,""),t.touchScroller&&t.touchScroller.reset(),27==e.keyCode&&i.css(this.initialPosition).css(this.initialSize),t.trigger("resizeEnd"),!1}},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},te.prototype={dragstart:function(e){var t=this.owner,i=t.options.draggable,n=t.element,r=n.find(".k-window-actions"),a=y.getOffset(t.appendTo);this._preventDragging=t.trigger("dragstart")||!i,this._preventDragging||t.isMaximized()||(t.initialWindowPosition=y.getOffset(t.wrapper,"position"),t.initialPointerPosition={left:t.options.position.left,top:t.options.position.top},t.startPosition={left:e.x.client-t.initialWindowPosition.left,top:e.y.client-t.initialWindowPosition.top},t._updateBoundaries(),t.containment||(0<r.length?t.minLeft=s(r)+parseInt(r.css("right"),10)-s(n):t.minLeft=20-s(n),t.minLeft-=a.left,t.minTop=-a.top),t.wrapper.append(c.overlay).children(T).hide(),b(d).css(A,e.currentTarget.css(A)))},drag:function(e){var t,i,n=this.owner,r=n.options.position,a=n.options.draggable.axis;this._preventDragging||n.isMaximized()||(a&&"x"!==a.toLowerCase()||(t=e.x.client-n.startPosition.left,n.containment&&!n._isPinned&&(t+=n.containment.scrollLeft()),r.left=Q(t,n.minLeft,n.maxLeft)),a&&"y"!==a.toLowerCase()||(i=e.y.client-n.startPosition.top,n.containment&&!n._isPinned&&(i+=n.containment.scrollTop()),r.top=Q(i,n.minTop,n.maxTop)),y.support.transforms?b(n.wrapper).css("transform","translate("+(r.left-n.initialPointerPosition.left)+"px, "+(r.top-n.initialPointerPosition.top)+"px)"):b(n.wrapper).css(r))},_finishDrag:function(){var e=this.owner;e.wrapper.children(T).toggle(!e.options.isMinimized).end().find(S).remove(),b(d).css(A,"")},dragcancel:function(e){this._preventDragging||(this._finishDrag(),e.currentTarget.closest(w).css(this.owner.initialWindowPosition))},dragend:function(){var e=this.owner;if(!this._preventDragging&&!e.isMaximized())return b(e.wrapper).css(e.options.position).css("transform",""),this._finishDrag(),e.trigger("dragend"),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},y.ui.plugin(Z)}(window.kendo.jQuery),window.kendo});